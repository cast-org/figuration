/*!
 * Figuration (v5.0.0-alpha.1)
 * https://figuration.org
 * Copyright 2013-2024 CAST, Inc.
 * Licensed under MIT (https://github.com/cast-org/figuration/blob/master/LICENSE)
 * -----
 * Portions Copyright 2011-2024 The Bootstrap Authors
 * Used under MIT License (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("CAST Figuration's JavaScript requires jQuery");!function(t){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error("CAST Figuration's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),function(t){var e=function(i){this.element=null,this.isAppended=!1,this.settings=t.extend({},e.DEFAULTS,i),this._init()};e.DEFAULTS={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},e.prototype={_init:function(){this.settings.rootElement=t.CFW_getElement(this.settings.rootElement)},show:function(e){var i=this;this.settings.isVisible?(this._append(),this.settings.isAnimated&&t.CFW_reflow(this.element),this.element.classList.add("in"),t(this.element).CFW_transition(null,(function(){i._execute(e)}))):this._execute(e)},hide:function(e){var i=this;this.settings.isVisible?(this._getBackdrop().classList.remove("in"),t(this.element).CFW_transition(null,(function(){i.dispose(),i._execute(e)}))):this._execute(e)},dispose:function(){this.isAppended&&(t(this.element).off("mousedown.cfw.backdrop"),t(this.element).remove(),this.isAppended=!1)},_getBackdrop:function(){if(!this.element){var t=document.createElement("div");t.className=this.settings.className,this.settings.isAnimated&&t.classList.add("fade"),this.element=t}return this.element},_append:function(){var e=this;this.isAppended||(t(this.settings.rootElement).append(this._getBackdrop()),t(this._getBackdrop()).on("mousedown.cfw.backdrop",(function(){e._execute(e.settings.clickCallback)})),this.isAppended=!0)},_execute:function(t){"function"==typeof t&&t()}},window.CFW_Backdrop=e}(jQuery),function(t){var e="backward",i=function(e){this._instance=null,this._isActive=!1,this._lastNavDirection=null,this.settings=t.extend({},i.DEFAULTS,e),this._init()};i.DEFAULTS={element:null,autoFocus:!0,flowElement:null,flowFocus:!1},i.prototype={_init:function(){this._instance=t(this.settings.element).CFW_getID("cfw-focuser")},activate:function(){this._isActive||(this.settings.autoFocus&&this.settings.element.focus(),this._eventsOff(),t(this.settings.element).on("keydown.cfw.focuser."+this._instance,this._handleKeydown.bind(this)),t(document).on("focusin.cfw.focuser."+this._instance,this._focusInvoke.bind(this)),this.settings.flowFocus&&(t(this.settings.flowElement).on("keydown.cfw.focuser."+this._instance,this._handleFlowElement.bind(this)),t(this.settings.flowElement).on("focusin.cfw.focuser."+this._instance,this._handleFlowElement.bind(this))),this._isActive=!0)},deactivate:function(){this._isActive&&(this._isActive=!1,this._eventsOff())},_eventsOff:function(){t(document).off(".cfw.focuser."+this._instance),t(this.settings.element).off(".cfw.focuser."+this._instance),this.settings.flowFocus&&t(this.settings.flowElement).off(".cfw.focuser."+this._instance)},_focusInvoke:function(t){this.settings.flowFocus?this._focusFlow(t):this._focusTrap(t)},_focusFlow:function(i){var s=i.target,n=this.settings.element,a=this.settings.flowElement,r=this._lastNavDirection===e;if("focusin"!==i.type||s!==document&&s!==n&&!n.contains(s)){var o=t.CFW_getFocusable(n),l=t.CFW_slimRadioInput(o,r);if(0===l.length)n.focus();else if("keydown"===i.type)if(s===l[0]&&r)i.preventDefault(),a.focus();else if((s===l[l.length-1]||s===o[o.length-1])&&!r){i.preventDefault();var c=t.CFW_getFocusable(document.body);c=c.filter((function(t){return!n.contains(t)})),c=t.CFW_slimRadioInput(c,!1),t.CFW_getNextActiveElement(c,a,!0,!0,!1).focus()}}},_focusTrap:function(i){var s=i.target,n=this.settings.element,a=this._lastNavDirection===e;if("focusin"!==i.type||s!==document&&s!==n&&!n.contains(s)){var r=t.CFW_getFocusable(n),o=t.CFW_slimRadioInput(r,a);0===o.length?n.focus():"keydown"===i.type?s===o[0]&&a?(i.preventDefault(),o[o.length-1].focus()):s!==o[o.length-1]&&s!==r[r.length-1]||a||(i.preventDefault(),o[0].focus()):t.CFW_getNextActiveElement(o,s,!a,!0,!0).focus()}},_handleKeydown:function(t){9===t.which&&(this._lastNavDirection=t.shiftKey?e:"forward",this._focusInvoke(t))},_handleFlowElement:function(e){var i=this.settings.element,s=t.CFW_getFocusable(i);if("keydown"===e.type)9!==e.which||e.shiftKey||(e.preventDefault(),0===(s=t.CFW_slimRadioInput(s,!1)).length?i.focus():s[0].focus());else{var n=e.relatedTarget||null;if(t(n).closest(".tooltip, .popover").length&&(n=null),n){var a=t.CFW_getFocusable(document.body);a.indexOf(this.settings.flowElement)<a.indexOf(n)&&(0===(s=t.CFW_slimRadioInput(s,!0)).length?i.focus():t.CFW_getNextActiveElement(s,s[0],!1,!0,!0).focus())}}}},window.CFW_Focuser=i}(jQuery),function(t){var e=".sticky-top, .sticky-bottom, .is-sticky",i=[".fixed-top, .fixed-bottom, .is-fixed",e].join(", "),s=function(e){this.element=null,this._isActive=!1,this.scrollbarWidth=null,this.settings=t.extend({},s.DEFAULTS,e),this._init()};s.DEFAULTS={rootElement:"body"},s.prototype={_init:function(){this.element=t.CFW_getElement(this.settings.rootElement)},getContainerWidth:function(){if(this.element===document.body)return window.innerWidth;var t=parseFloat(window.getComputedStyle(this.element).getPropertyValue("border-left-width")),e=parseFloat(window.getComputedStyle(this.element).getPropertyValue("border-right-width"));return this.element.offsetWidth-t-e},getContentWidth:function(){return this.element===document.body?document.documentElement.clientWidth:this.element.clientWidth},getScrollbarWidth:function(){return Math.abs(this.getContainerWidth()-this.getContentWidth())},getScrollbarSide:function(){var e=this.element===document.documentElement,i=/edge\/\d+/i.test(navigator.userAgent),s=/(msie|trident)/i.test(navigator.userAgent);return(!e||i||s)&&t.CFW_isRTL(this.element)?"left":"right"},isOverflowing:function(){return this.getScrollbarWidth()>0},disable:function(){if(!this._isActive){var s=this;this.scrollbarWidth=this.getScrollbarWidth();var n=function(t){return parseFloat(t)+s.scrollbarWidth+"px"},a=function(t){return parseFloat(t)-s.scrollbarWidth+"px"},r=this.getScrollbarSide();this._disableOverflow(),this._setScrollbarAdjustment(this.element,"padding-"+r,n),t(this.element).find(i).each((function(){(s._isFixed(this)||s._isSticky(this))&&s._setScrollbarAdjustment(this,"padding-"+r,n)})),t(this.element).find(e).each((function(){s._isSticky(this)&&s._setScrollbarAdjustment(this,"margin-"+r,a)})),this._isActive=!0}},reset:function(){if(this._isActive){var s=this,n=this.getScrollbarSide();this._resetScrollbarAdjustment(this.element,"overflow"),this._resetScrollbarAdjustment(this.element,"overflow-y"),this._resetScrollbarAdjustment(this.element,"overflow-x"),this._resetScrollbarAdjustment(this.element,"padding-"+n),t(this.element).find(i).each((function(){s._resetScrollbarAdjustment(this,"padding-"+n)})),t(this.element).find(e).each((function(){s._resetScrollbarAdjustment(this,"margin-"+n)})),this.scrollbarWidth=null,this._isActive=!1}},_saveInitialAttribute:function(t,e){var i=t.style.getPropertyValue(e);i&&t.setAttribute("data-cfw-"+e,i)},_setScrollbarAdjustment:function(t,e,i){if(!(t!==this.element&&this.getContainerWidth()>t.clientWidth+this.scrollbarWidth)){this._saveInitialAttribute(t,e);var s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,"function"==typeof i?i(s):i)}},_resetScrollbarAdjustment:function(t,e){var i=this._normalizeData(t.getAttribute("data-cfw-"+e));null===i&&t.style.removeProperty(e),t.removeAttribute("data-cfw-"+e),t.style.setProperty(e,i)},_disableOverflow:function(){this._saveInitialAttribute(this.element,"overflow"),this._saveInitialAttribute(this.element,"overflow-y"),this._saveInitialAttribute(this.element,"overflow-x"),this.element.style.overflow="hidden"},_isFixed:function(t){return Boolean("fixed"===window.getComputedStyle(t).position)},_isSticky:function(t){return Boolean("sticky"===window.getComputedStyle(t).position)},_normalizeData:function(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}},window.CFW_Scrollbar=s}(jQuery),function(t){String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var e,i=function(t){t&&t()},s="cfwTransitionEnd",n=function(e){var i=[0];return e.each((function(){var e=t(this),s=e.css("transition-duration"),n=e.css("transition-delay");if(s&&n)for(var a=s.split(","),r=n.split(","),o=a.length;o--;)i=i.concat(parseFloat(a[o])+parseFloat(r[o]))})),1e3*Math.max.apply(Math,i).toPrecision(2)};e=function(){var t=document.createElement("div"),e={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",WebkitTransition:"webkitTransitionEnd"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return{end:s}}(),t.fn.CFW_transitionDuration=n,t.fn.CFW_transition=function(t,e){var a=n(this);if(a){var r=!1;this.one(s,(function(){r||(r=!0,i(e))})),setTimeout((function(){r||(r=!0,i(e))}),a),i(t)}else i(t),i(e);return this},t.event.special[s]={bindType:e.end,delegateType:e.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var a=void 0!==window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints,r=!1;("ontouchstart"in window||a||window.DocumentTouch&&document instanceof DocumentTouch)&&(r=!0),t.CFW_isTouch=r;var o="MutationObserver"in window&&window.MutationObserver,l=function(e,i){if(MutationObserver){var s=t(e[0].target);s.is(i)||s.parents("[data-cfw-mutate]").first().triggerHandler("mutate.cfw.mutate")}};t.fn.CFW_mutateTrigger=function(){return this.find("[data-cfw-mutate]").each((function(){t(this).triggerHandler("mutate.cfw.mutate")})),this},t.fn.CFW_mutationIgnore=function(){return o?(this.each((function(){var e=t(this).data("cfw-mutationobserver");void 0!==e&&e.disconnect(),t(this).removeData("cfw-mutationobserver").off("mutated.cfw.mutate")})),this):this},t.fn.CFW_mutationListen=function(){return o?(this.CFW_mutationIgnore(),this.each((function(){var e=this,i=new MutationObserver((function(t){l(t,e)}));i.observe(this,{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["style","class"]}),t(this).data("cfw-mutationobserver",i).on("mutated.cfw.mutate",l)})),this):this},t.CFW_imageLoaded=function(e,i,s){var n=e[0],a=new Image,r=t(a);i=void 0===i?"":"."+i;var o=function(){r.off("load.cfw.imageLoaded"+i).remove(),s()};n.complete&&void 0!==n.naturalWidth?o():(r.off("load.cfw.imageLoaded"+i).one("load.cfw.imageLoaded"+i,o),a.src=n.src)},t.fn.CFW_getID=function(e){var i=t(this),s=i.attr("id");if(void 0===s){do{s=e+"-"+~~(1e6*Math.random())}while(document.getElementById(s));i.attr("id",s)}return s},t.fn.CFW_trigger=function(e,i){var s=t.Event(e);return t.isPlainObject(i)&&(s=t.extend({},s,i)),t(this).trigger(s),!s.isDefaultPrevented()},t.fn.CFW_parseData=function(e,i){var s={},n=t(this).data();for(var a in e=e.capitalize(),i)if(Object.prototype.hasOwnProperty.call(i,a)){var r=a.capitalize();void 0!==n["cfw"+e+r]&&(s[a]=n["cfw"+e+r])}return s},t.fn.CFW_getSelectorFromElement=function(t){var e=this[0].getAttribute("data-cfw-"+t+"-target");e&&"#"!==e||(e=this[0].getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},t.fn.CFW_getSelectorFromChain=function(e,i){var s=t(this);if(!i||"#"===i)return s.CFW_getSelectorFromElement();try{return document.querySelector(i)?i:null}catch(t){return null}},t.CFW_isRTL=function(t){void 0===t&&(t=document.documentElement);var e=window.getComputedStyle(t,null).getPropertyValue("direction").toLowerCase();return Boolean("rtl"===e)},t.fn.CFW_getScrollbarSide=function(){var e=t(this);if(e.is(t("html"))){var i={msedge:/edge\/\d+/i.test(navigator.userAgent),msie:/(msie|trident)/i.test(navigator.userAgent)};return t.CFW_isRTL(e[0])&&(i.msedge||i.msie)?"left":"right"}var s=document.createElement("div");s.setAttribute("style","overflow-y: scroll;");var n=document.createElement("p");t(s).append(n),e.append(s);var a=t.CFW_measureScrollbar(),r=n.getBoundingClientRect().left;return e[0].removeChild(s),r<a?"right":"left"},t.fn.CFW_findShadowRoot=function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:(t.parentNode,null)},t.CFW_throttle=function(t,e,i){var s,n;return void 0===e&&(e=250),function(){var a=i||this,r=Number(new Date),o=arguments;s&&r<s+e?(clearTimeout(n),n=setTimeout((function(){s=r,t.apply(a,o)}),e)):(s=r,t.apply(a,o))}},t.CFW_measureScrollbar=function(){var t=document.createElement("div");t.setAttribute("style"," position: absolute; top: -9999px; width: 50px; height: 50px; overflow: scroll;"),document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t.CFW_reflow=function(t){return t instanceof jQuery&&(t=t[0]),t.offsetHeight},t.CFW_controlEnable=function(e){t(e).removeClass("disabled").removeAttr("tabindex").removeAttr("disabled").closest("label").removeClass("disabled")},t.CFW_controlDisable=function(e){var i=t(e);i.length&&/button|fieldset|input|optgroup|option|select|textarea/i.test(i[0].tagName)?(i.prop("disabled",!0),i.closest("label").addClass("disabled")):i.addClass("disabled").attr("tabindex",-1)},t.CFW_isDisabled=function(e){if(e instanceof jQuery&&(e=e[0]),!e||e.nodeType!==Node.ELEMENT_NODE)return!0;if(/^(button|input|select|textarea)$/i.test(e.nodeName)){var i=t(e).closest("fieldset")[0];if(i&&i.disabled)return!0}return!!e.classList.contains("disabled")||("boolean"==typeof e.disabled?e.disabled:e.hasAttribute("disabled"))},t.CFW_isVisible=function(e){if(e instanceof jQuery&&(e=e[0]),!t.CFW_isElement(e)||0===e.getClientRects().length)return!1;var i="visible"===window.getComputedStyle(e).getPropertyValue("visibility"),s=t(e).closest("details:not([open])").get(0);if(void 0===s&&(s=null),!s)return i;if(s!==e){var n=t(e).closest("summary").get(0);if(void 0===n&&(n=null),n&&n.parentNode!==s)return!1;if(null===n)return!1}return i},t.CFW_isFocusable=function(e){e instanceof jQuery&&(e=e[0]);var i=null;return e.hasAttribute("tabindex")&&(i=e.getAttribute("tabindex")),(null===i||!(isNaN(i)||i<0))&&!t.CFW_isDisabled(e)&&t.CFW_isVisible(e)},t.CFW_getFocusable=function(e,i){void 0===i&&(i=["a","button","details","input","select","textarea","[tabindex]",'[contenteditable="true"]'].map((function(t){return t+':not([tabindex^="-"])'})).join(", "));for(var s=e.querySelectorAll(i),n=[],a=0;a<s.length;a++)t.CFW_isFocusable(s[a])&&n.push(s[a]);return n},t.CFW_isElement=function(t){return!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType)},t.CFW_getElement=function(e){return t.CFW_isElement(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null},t.CFW_slimRadioInput=function(t,e){e=void 0!==e&&e;for(var i=[],s=null,n=null,a=null,r=!1,o=0;o<t.length;o++)"INPUT"!==(s=t[o]).nodeName||null===s.getAttribute("type")||"radio"!==s.getAttribute("type").toLowerCase()?(a&&(i.push(a),n=null,a=null,r=!1),i.push(s)):n&&null!==s.getAttribute("name")&&n===s.getAttribute("name").toLowerCase()?s.checked?(a=s,r=!0):!r&&e&&(a=s):(n=s.getAttribute("name").toLowerCase(),a=s,r=!1);return a&&i.push(a),i},t.CFW_getNextActiveElement=function(t,e,i,s,n){var a=t.indexOf(e),r=t.length;return void 0===s&&(s=!1),void 0===n&&(n=!1),-1===a?t[!i&&n?r-1:0]:(a+=i?1:-1,s&&(a=(a+r)%r),t[Math.max(0,Math.min(a,r-1))])},t.CFW_enableDismissControl=function(e,i){if("undefined"==typeof CFW_API||!1!==CFW_API){void 0===i&&(i="hide");var s="CFW_"+e.capitalize(),n="click.dismiss.cfw."+e;t(document).on(n,'[data-cfw-dismiss="'+e+'"]',(function(n){if(/a|area/i.test(this.tagName)&&n.preventDefault(),!t.CFW_isDisabled(this)){var a=t(this).CFW_getSelectorFromElement(e),r=a?t(a):t(this).closest("."+e);r.length&&r[s](i,n)}}))}}}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.dragging=!1,this.dragdata={},this.instance=null,this.settings=t.extend({},e.DEFAULTS,s),this._init()};e.DEFAULTS={handle:null},e.prototype={_init:function(){this.instance=t("<div/>").CFW_getID("cfw-drag"),this._reset(),this._dragStartOn(),this.$element.CFW_trigger("init.cfw.drag")},dispose:function(){this.$element[0].detachEvent&&this.$element[0].detachEvent("ondragstart",this._dontStart),this._dragStartOff(),this.$element.removeData("cfw.drag"),this.$element=null,this.dragging=null,this.dragdata=null,this.instance=null,this.settings=null},_dragStartOn:function(){this.$element.on("mousedown.cfw.dragstart touchstart.cfw.dragstart MSPointerDown.cfw.dragstart",this._dragStart.bind(this)),this.$element[0].attachEvent&&this.$element[0].attachEvent("ondragstart",this._dontStart)},_dragStartOff:function(e){e&&e.preventDefault(),t(document).off(".cfw.dragin."+this.instance),this.$element.off(".cfw.dragstart")},_dragStart:function(e){var i=this;if(!t.CFW_isDisabled(e.target)){if(this.settings.handle&&!this.$element[0].querySelector(this.settings.handle).contains(e.target))return;if(!t.CFW_isDisabled(this.$element)){this._dragStartOff(e),this.dragging=!0,t(document).on("mousemove.cfw.dragin."+this.instance+" touchmove.cfw.dragin."+this.instance+" MSPointerMove.cfw.dragin."+this.instance,(function(t){i._drag(t)})).on("mouseup.cfw.dragin."+this.instance+" touchend.cfw.dragin."+this.instance+" MSPointerUp.cfw.dragin."+this.instance+" MSPointerCancel.cfw.dragin."+this.instance,(function(){i._dragEnd(e)}));var s=this._coordinates(e);this.dragdata=s,this.dragdata.originalX=e.currentTarget.offsetLeft,this.dragdata.originalY=e.currentTarget.offsetTop;var n=this._properties(s,this.dragdata);this.$element.CFW_trigger("dragStart.cfw.drag",n)}}},_drag:function(t){if(this.dragging){t.preventDefault();var e=this._coordinates(t),i=this._properties(e,this.dragdata);this.$element.CFW_trigger("drag.cfw.drag",i)}},_dragEnd:function(e){e.preventDefault(),this.dragging=!1,this.dragStart=null,t(document).off(".cfw.dragin."+this.instance);var i=this._coordinates(e),s=this._properties(i,this.dragdata);this.$element.CFW_trigger("dragEnd.cfw.drag",s),this._reset(),this._dragStartOn()},_reset:function(){this.dragging=!1,this.dragdata.pageX=null,this.dragdata.pageY=null},_coordinates:function(t){var e={};t.originalEvent&&(t=t.originalEvent);var i=t.touches;return e.pageX=i?i[0].pageX:t.pageX,e.pageY=i?i[0].pageY:t.pageY,e},_properties:function(t,e){var i={};return i.startX=e.pageX,i.startY=e.pageY,i.pageX=t.pageX,i.pageY=t.pageY,i.deltaX=t.pageX-e.pageX,i.deltaY=t.pageY-e.pageY,i.originalX=e.originalX,i.originalY=e.originalY,i.offsetX=i.originalX+i.deltaX,i.offsetY=i.originalY+i.deltaY,i},_dontStart:function(){return!1}},t.fn.CFW_Drag=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.drag"),r="object"==typeof i&&i;!a&&/dispose/.test(i)||(a||n.data("cfw.drag",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s))}))},t.fn.CFW_Drag.Constructor=e}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.$target=null,this.$triggers=null,this.inTransition=!1;var n=this.$element.CFW_parseData("collapse",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={target:null,animate:!0,follow:!1,horizontal:!1},e.prototype={_init:function(){var e=this.$element.CFW_getSelectorFromChain("collapse",this.settings.target);if(e){this.$target=t(e),this.$element.attr({"data-cfw":"collapse","data-cfw-collapse-target":e}),this.$triggers=t('[data-cfw="collapse"][data-cfw-collapse-target="'+e+'"],[data-cfw="collapse"][href="'+e+'"]');var i="";this.$target.each((function(){var e=t(this).CFW_getID("cfw-collapse");i+=e+" "})),this.$triggers.attr("aria-controls",t.trim(i));var s=this.dimension();this.$triggers.hasClass("open")?(this.$triggers.attr("aria-expanded","true"),this.$target.addClass("collapse in")[s]("")):(this.$triggers.attr("aria-expanded","false"),this.$target.addClass("collapse")),this.settings.horizontal&&this.$target.addClass("width"),this.$element.on("click.cfw.collapse",this.toggle.bind(this)).CFW_trigger("init.cfw.collapse")}},toggle:function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault(),this.$element.hasClass("open")||this.$target.hasClass("in")?this.hide():this.show()},dimension:function(){return this.$target.hasClass("width")||this.settings.horizontal?"width":"height"},show:function(e){var i=this;if(void 0===e&&(e=this.settings.follow),!this.inTransition&&!this.$target.hasClass("in")&&this.$element.CFW_trigger("beforeShow.cfw.collapse")){var s=this.dimension();this.inTransition=!0,this.$triggers.addClass("open"),this.$target.removeClass("collapse")[s](0),this.settings.animate&&this.$target.addClass("collapsing");var n="scroll"+(s[0].toUpperCase()+s.slice(1));this.$target.eq(0).CFW_transition((function(){i.$target.each((function(){t(this)[s](t(this)[0][n])}))}),(function(){i.$triggers.attr("aria-expanded","true"),i.$target.removeClass("collapsing")[s](""),i.$target.addClass("collapse in"),i.$target.CFW_mutateTrigger(),i.inTransition=!1,e&&(void 0===i.$target.first().attr("tabindex")&&i.$target.first().attr("tabindex","-1"),i.$target.eq(0).trigger("focus")),i.$element.CFW_trigger("afterShow.cfw.collapse")}))}},hide:function(e){var i=this;if(void 0===e&&(e=this.settings.follow),!this.inTransition&&this.$target.hasClass("in")&&this.$element.CFW_trigger("beforeHide.cfw.collapse")){var s=this.dimension();this.inTransition=!0,this.$triggers.removeClass("open"),this.$target.each((function(){var e=t(this);return e[s](e[s]())[0].offsetHeight})),this.$target.removeClass("collapse in"),this.settings.animate&&this.$target.addClass("collapsing"),this.$target.eq(0).CFW_transition((function(){i.$target[s]("")}),(function(){i.$triggers.attr("aria-expanded","false"),i.$target.removeClass("collapsing in").addClass("collapse").CFW_mutateTrigger(),i.inTransition=!1,e&&i.$element.trigger("focus"),i.$element.CFW_trigger("afterHide.cfw.collapse")}))}},animDisable:function(){this.settings.animate=!1},animEnable:function(){this.settings.animate=!0},dispose:function(){this.$element.off(".cfw.collapse").removeData("cfw.collapse"),this.$element=null,this.$target=null,this.$triggers=null,this.inTransition=null,this.settings=null}},t.fn.CFW_Collapse=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.collapse"),r="object"==typeof i&&i;a||n.data("cfw.collapse",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Collapse.Constructor=e}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.$target=null,this.instance=null,this.timerHide=null,this.hasContainer={helper:null,parent:null,previous:null},this.inNavbar=this._insideNavbar(),this.popper=null;var n=this.$element.CFW_parseData("dropdown",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this.c=e.CLASSES,this._init()};e.CLASSES={isMenu:"dropdown-menu",hasSubMenu:"dropdown-submenu",showSubMenu:"show-menu",backLink:"dropdown-back",hover:"dropdown-hover"},e.DEFAULTS={target:null,isSubmenu:!1,delay:350,hover:!1,backlink:!1,backtop:!1,backtext:"Back",container:!1,reference:"toggle",boundary:"scrollParent",flip:!0,display:"dynamic",popperConfig:null,autoClose:!0,loop:!0,startEnd:!0};var i=function(e){if(e){if(3===e.which)return;if("keyup"===e.type&&9!==e.which)return;if(/label|input|textarea|select/i.test(e.target.tagName))return}for(var i=t('[data-cfw="dropdown"].open'),s=i.length;s--;){var n=t(i[s]),a=n.data("cfw.dropdown");if(a){var r=a.$target;if(null!==r){if(e){if(a.$element[0]===e.target||a.$element[0].contains(e.target))continue;if(!1===a.settings.autoClose)continue;var o=a.$target[0]===e.target||a.$target[0].contains(e.target);if("inside"===a.settings.autoClose&&!o||"outside"===a.settings.autoClose&&o)continue;if("click"===e.type&&(this===e.target||t(e.target).is('[data-cfw="dropdown"]')&&r[0].contains(e.target)||t(e.target).closest(".dropdown-back").length))continue;if("mouseenter"===e.type&&(this===e.target||r[0].contains(e.target)))continue}var l={relatedTarget:n[0]};e&&"click"===e.type&&(l.clickEvent=e),n.CFW_trigger("beforeHide.cfw.dropdown",l)&&n.CFW_Dropdown("_hideComplete",l)}}}};e.prototype={_init:function(){var e=this;if("object"==typeof this.settings.reference&&!this._isElement(this.settings.reference)&&"function"!=typeof this.settings.reference.getBoundingClientRect)throw new Error('CFW_Dropdown: Option "reference" provided type "object" without a required "getBoundingClientRect" method.');var i=this.$element.CFW_getSelectorFromChain("dropdown",this.settings.target),s=t(i);s.length||(s=t(this.$element.next(".dropdown-menu, ul, ol")[0])),s.length&&(this.$target=s,this._useContainer()&&(this.hasContainer={parent:this.$target.parent(),previous:this.$target.prev()}),this.$element.attr("data-cfw","dropdown"),this.instance=this.$element.CFW_getID("cfw-dropdown"),this.$target.CFW_getID("cfw-dropdown"),this.$element.attr("aria-expanded","false"),this.$target.attr("aria-labelledby",this.instance).addClass(this.c.isMenu),this.$element.on("click.cfw.dropdown",(function(t){t.preventDefault(),e.toggle(t)})),this._addBacklink(),this.$target.children("li").children("ul, ol").parent().each((function(){var i=t(this),s=i.children("a, button").eq(0),n=i.children("ul, ol").eq(0),a={};s.length&&n.length&&(i.addClass(e.c.hasSubMenu),"A"===s[0].nodeName&&s.attr("role","button"),a={isSubmenu:!0,target:n.CFW_getID("cfw-dropdown")},a=t.extend({},e.settings,a),s.CFW_Dropdown(a));var r=n.closest(".dropreverse, .dropend, .dropstart");r.hasClass("dropreverse")||r.hasClass("dropstart")?n.addClass("dropdown-subalign-reverse"):n.addClass("dropdown-subalign-forward")})),this.$target.find(".dropdown-divider").attr("role","separator"),this._navEnableKeyboard(),!t.CFW_isTouch&&this.settings.hover&&this._navEnableHover(),this.$element.CFW_trigger("init.cfw.dropdown"))},_findMenuItems:function(){var e=this.$target.hasClass("open"),i=this.$target;!e&&this.settings.isSubmenu&&(i=this.$element.closest(".dropdown-menu"));var s=i.children("li").find("a, .dropdown-item, button, input, textarea, select");return(s=s.filter(":not(:has(input)):not(:has(textarea):not(:has(select))")).filter((function(){return t.CFW_isFocusable(this)}))},_addBacklink:function(){var e=this;(this.settings.backlink&&this.settings.backtop&&!this.settings.isSubmenu||this.settings.backlink&&this.settings.isSubmenu)&&t('<li class="'+this.c.backLink+'"><button type="button" class="dropdown-item">'+this.settings.backtext+"</button></li>").prependTo(this.$target).children("button").on("click.cfw.dropdown.modeClick",(function(){e.hide(),e.$element.focus()}))},_navEnableKeyboard:function(){var e=this;t.each([this.$element,this.$target],(function(){t(this).on("keydown.cfw.dropdown",(function(t){e._actionsKeydown(t)}))}))},_actionsKeydown:function(e){var i=this.$target.hasClass("open"),s=new RegExp("^(38|39|40|37|27|32|9)$"),n=new RegExp("^(38|39|40|37)$"),a=/input|textarea|select/i.test(e.target.tagName),r=a&&/checkbox|radio/i.test(t(e.target).prop("type")),o=/button/i.test(e.target.tagName),l=/button/i.test(t(e.target).attr("role"));if(s.test(e.which)&&(!a&&!o||32!==e.which)&&(!a||r||!n.test(e.which))&&(i||27!==e.which&&37!==e.which||!t(e.target).is(this.$element))){var c=null,h=-1;if(9===e.which){if(null===this.hasContainer.helper)return;if(!(c=this._findMenuItems()).length)return;if((h=c.index(document.activeElement))<0&&r&&(h=c.index(t(e.target).closest(".dropdown-item")[0])),!i||!t(e.target).is(this.$element)||e.shiftKey)return e.shiftKey&&0===h?(this.$element.trigger("focus"),void e.preventDefault()):e.shiftKey||h!==c.length-1?void 0:void this.$element.trigger("focus");e.which=40}if(e.preventDefault(),e.stopPropagation(),27===e.which)return this.hide(),void this.$element.trigger("focus");if(!t.CFW_isDisabled(this.$element))if(l&&32===e.which)this.toggle(e);else{if(38!==e.which&&40!==e.which||i||this.settings.isSubmenu||this.show(),39===e.which&&!i&&this.settings.isSubmenu&&this.show(),37===e.which&&this.settings.isSubmenu)return this.hide(),void this.$element.trigger("focus");if((c=this._findMenuItems()).length){(h=c.index(document.activeElement))<0&&r&&(h=c.index(t(e.target).closest(".dropdown-item")[0]));var d=c[h],f=40===e.which||39===e.which;d=t.CFW_getNextActiveElement(c.toArray(),c[h],f,this.settings.loop,this.settings.startEnd&&!this.settings.subMenu),t(d).trigger("focus")}}}},_navEnableHover:function(){var e=this;t.CFW_isTouch||t.each([this.$element,this.$target],(function(){t(this).on("mouseenter.cfw.dropdown.modeHover",(function(t){e._actionsHoverEnter(t)})),t(this).on("mouseleave.cfw.dropdown.modeHover",(function(t){e._actionsHoverLeave(t)}))}))},_navDisableHover:function(){this.$element.off(".cfw.dropdown.modeHover"),this.$target.off(".cfw.dropdown.modeHover")},_actionsHoverEnter:function(t){clearTimeout(this.timerHide),i(t),this.show()},_actionsHoverLeave:function(e){var i=this,s=t(e.target);clearTimeout(this.timerHide),(s.is(this.$element)||s.is(this.$target)||this.$target[0].contains(s[0]))&&(this.timerHide=setTimeout((function(){i.timerHide=null,i.hide()}),this.settings.delay))},_insideNavbar:function(){return this.$element.closest(".navbar-collapse").length>0},_useContainer:function(){return!this.settings.isSubmenu&&this.settings.container},_containerPlacement:function(){var e=this.$element[0].getBoundingClientRect();e=t.extend({},e,this.$element.offset()),this.hasContainer.helper.css({top:e.top,left:e.left,width:e.width,height:e.height})},_containerSet:function(){this._useContainer()&&(this.hasContainer.helper=t(document.createElement("div")),this.hasContainer.helper.appendTo(this.settings.container).append(this.$target).addClass("dropdown-container"),t(window).on("resize.cfw.dropdown."+this.instance,this._containerPlacement.bind(this)),this._containerPlacement())},containerReset:function(){this._useContainer()&&(t(window).off("resize.cfw.dropdown."+this.instance),this.hasContainer.previous.length?this.$target.insertAfter(t(this.hasContainer.previous)):this.$target.appendTo(t(this.hasContainer.parent)),null!==this.hasContainer.helper&&(this.hasContainer.helper.off("keydown.cfw.dropdown").off("focusout.cfw.dropdown"),this.hasContainer.helper.remove()),this.hasContainer.helper=null)},_isElement:function(t){return(t[0]||t).nodeType},_getReference:function(){var t=this.$element[0];return null!==this.hasContainer.helper&&(t=this.hasContainer.helper),"parent"===this.settings.reference?t=this.$element.parent().get(0):this._isElement(this.settings.reference)?(t=this.settings.reference,void 0!==this.settings.reference.jquery&&(t=this.settings.reference[0])):"object"==typeof this.settings.reference&&(t=this.settings.reference),t},_getPlacement:function(){var e=t.CFW_isRTL(this.$element[0]),i={AUTO:"auto",TOP:e?"top-end":"top-start",TOPEND:e?"top-start":"top-end",FORWARD:e?"left-start":"right-start",FORWARDEND:e?"left-end":"right-end",BOTTOM:e?"bottom-end":"bottom-start",BOTTOMEND:e?"bottom-start":"bottom-end",REVERSE:e?"right-start":"left-start",REVERSEEND:e?"right-end":"left-end",TOPCENTER:"top",BOTTOMCENTER:"bottom",FORWARDMIDDLE:e?"left":"right",REVERSEMIDDLE:e?"right":"left"},s=this.$target.closest(".dropup, .dropreverse, .dropstart, .dropend, .dropcenter, .dropmiddle"),n=s.hasClass("dropup")?"TOP":"BOTTOM",a=s.hasClass("dropreverse")?"END":"",r=s.hasClass("dropstart")||s.hasClass("dropreverse")?"REVERSE":"FORWARD",o=s.hasClass("dropup")?"END":"";s.hasClass("dropcenter")&&(a="CENTER"),s.hasClass("dropmiddle")&&(o="MIDDLE");var l=i[n+a];return(s.hasClass("dropstart")||s.hasClass("dropend"))&&(l=i[r+o]),this.settings.isSubmenu&&(l=i[r+o]),l},_getPopperConfig:function(){var e={placement:this._getPlacement(),modifiers:{flip:{enabled:this.settings.flip,behavior:"flip"},preventOverflow:{boundariesElement:this.settings.boundary}}};return t.extend(!0,e,this.settings.popperConfig)},popperReset:function(){this.popper&&this.popper.destroy()},_popperLocate:function(){var t=Boolean("static"===window.getComputedStyle(this.$target[0],null).getPropertyValue("position").toLowerCase());if("dynamic"===this.settings.display&&!t){if("undefined"==typeof Popper)throw new TypeError("Figurations's Dropdown widget requires Popper (https://popper.js.org)");this.popper=new Popper(this._getReference(),this.$target[0],this._getPopperConfig())}},toggle:function(e){e&&e.preventDefault(),t.CFW_isDisabled(this.$element)||(this.$target.hasClass("open")?this.hide():(i(e),this.show()))},show:function(){var e=this;if(!t.CFW_isDisabled(this.$element)&&!this.$target.hasClass("open")){var i={relatedTarget:this.$element[0]};this.$element.CFW_trigger("beforeShow.cfw.dropdown",i)&&(this._containerSet(),this.$element.attr("aria-expanded","true").addClass("open"),this.$target.addClass("open"),t(document).on("focusin.cfw.dropdown."+this.instance,(function(t){if(e.$element[0]!==t.target&&!e.$target.has(t.target).length){var i=e.$target[0]===t.target||e.$target[0].contains(t.target);if(!1===e.settings.autoClose)return;if("inside"===e.settings.autoClose&&!i||"outside"===e.settings.autoClose&&i)return;e.hide()}})),!this.settings.isSubmenu&&t.CFW_isTouch&&t("body").children().on("mouseover.cfw.dropdown",t.noop),this._popperLocate(),this.$element.CFW_trigger("afterShow.cfw.dropdown",i))}},hide:function(){var e={relatedTarget:this.$element[0]};if(!t.CFW_isDisabled(this.$element)&&this.$target.hasClass("open")&&this.$element.CFW_trigger("beforeHide.cfw.dropdown",e)){for(var i=this.$target.find('[data-cfw="dropdown"].open'),s=i.length;s--;){var n=t(i[s]);n.data("cfw.dropdown")&&n.CFW_Dropdown("_hideComplete")}this._hideComplete(e)}},_hideComplete:function(e){t(document).off("focusin.cfw.dropdown."+this.instance),!this.settings.isSubmenu&&t.CFW_isTouch&&t("body").children().off("mouseover.cfw.dropdown"),this.$target.removeClass("open"),this.containerReset(),this.popperReset(),this.$element.attr("aria-expanded","false").removeClass("open").CFW_trigger("afterHide.cfw.dropdown",e)},dispose:function(){for(var e=this.$target.children("li").children("ul, ol").children("a"),i=e.length;i--;)e[i].eq(0).CFW_Dropdown("dispose");this._navDisableHover(),this.hide(),t(document).off(".cfw.dropdown."+this.instance),t(window).off(".cfw.dropdown."+this.instance),this.$target.find("."+this.c.backLink).remove(),this.$target.off(".cfw.dropdown"),this.$element.off(".cfw.dropdown").removeData("cfw.dropdown"),this.$element=null,this.$target=null,this.instance=null,this.timerHide=null,this.hasContainer=null,this.inNavbar=null,this.settings=null,this.popper&&this.popper.destroy(),this.popper=null}},t.fn.CFW_Dropdown=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.dropdown"),r="object"==typeof i&&i;a||n.data("cfw.dropdown",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Dropdown.Constructor=e,t(window).ready((function(){t(document).on("click",i)}))}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.$target=null,this.$navElm=null;var n=this.$element.CFW_parseData("tab",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={target:null,animate:!0},e.prototype={_init:function(){var e=this;this.$navElm=this.$element.closest("ul, ol, nav, .nav, .list, .btn-group, .is-tablist"),this.$navElm.length&&"nav"!==this.$navElm[0].nodeName.toLowerCase()&&this.$navElm.attr("role","tablist");var i=t(this.settings.target);if(i.length||(i=t(this.$element.attr("href"))),this.$target=t(i),this.$target.length){this.$element.attr("data-cfw","tab");var s=this.$element.CFW_getID("cfw-tab");this.$target.attr({tabindex:0,role:"tabpanel","aria-labelledby":s}),this.settings.animate?this.animEnable():this.animDisable(),this.$element.attr({tabindex:-1,role:"tab","aria-selected":"false","aria-controls":this.$target.attr("id")}),this.$element.parent("li").attr("role","presentation"),this.$element.on("click.cfw.tab",(function(t){t.preventDefault(),e.show(t)})),this.$element.on("keydown.cfw.tab",(function(t){e._actionsKeydown(t,this)})),this.$element.hasClass("active")&&(this.$element.attr({tabindex:0,"aria-selected":"true"}),this.$target.addClass("active"),this.settings.animate&&this.$target.addClass("in")),this.$navElm.find(".active").length<=0&&(this.$element.addClass("active"),this.$element.attr({tabindex:0,"aria-selected":"true"}),this.$target.addClass("active"),this.settings.animate&&this.$target.addClass("in")),this.$element.CFW_trigger("init.cfw.tab")}},show:function(e){if(e&&e.preventDefault(),!t.CFW_isDisabled(this.$element)&&!this.$element.hasClass("active")){var i,s,n=this.$navElm.find(".active");n.length&&(i=n.last().CFW_trigger("beforeHide.cfw.tab",{relatedTarget:this.$element[0]})),s=this.$element.CFW_trigger("beforeShow.cfw.tab",{relatedTarget:n.last()[0]}),i&&s&&(n.length&&n.attr({tabindex:-1,"aria-selected":"false"}),this.$element.attr({tabindex:0,"aria-selected":"true"}),this._activateTab())}},animEnable:function(){this.$target.addClass("fade"),this.$target.hasClass("active")&&this.$target.addClass("in"),this.settings.animate=!0},animDisable:function(){this.$target.removeClass("fade in"),this.settings.animate=!1},_actionsKeydown:function(e,i){if(new RegExp("^(38|39|40|37)$").test(e.which)){e.stopPropagation(),e.preventDefault();var s=t(i).closest('[role="tablist"]').find('[role="tab"]'),n=(s=s.filter((function(){return!t.CFW_isDisabled(this)&&t.CFW_isVisible(this)}))).index(s.filter('[aria-selected="true"]')),a=39===e.which||40===e.which;t(t.CFW_getNextActiveElement(s.toArray(),s[n],a,!1)).CFW_Tab("show").trigger("focus")}},_activateTab:function(){var e=this,i=this.$navElm.find('[role="tab"]'),s=this.$navElm.find('[role="tab"].active');i.removeClass("active"),i.each((function(){t(this).data("cfw.tab").$target.removeClass("active in")})),this.settings.animate?this.animEnable():this.animDisable(),this.$element.addClass("active"),this.$target.addClass("active");var n=function(){s.last().CFW_trigger("afterHide.cfw.tab",{relatedTarget:e.$element[0]}),e.$element.CFW_trigger("afterShow.cfw.tab",{relatedTarget:s.last()[0]}),e.$element.CFW_mutateTrigger(),e.$target.CFW_mutateTrigger()};this.settings.animate?(this.$target.CFW_transition(null,n),t.CFW_reflow(this.$target),this.$target.addClass("in")):n()},dispose:function(){this.$element.off(".cfw.tab").removeData("cfw.tab"),this.$element=null,this.$target=null,this.$navElm=null,this.settings=null}},t.fn.CFW_Tab=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.tab"),r="object"==typeof i&&i;a||n.data("cfw.tab",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Tab.Constructor=e}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.$target=null,this.affixed=null,this.unpin=null,this.pinnedOffset=null;var n=this.$element.CFW_parseData("affix",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={target:window,top:0,bottom:0},e.prototype={_init:function(){this.$element.attr("data-cfw","affix"),this.$target=t(this.settings.target).on("scroll.cfw.affix",this.checkPosition.bind(this)).on("click.cfw.affix",this.checkPositionDelayed.bind(this)),this.$element.CFW_trigger("init.cfw.affix"),this.checkPosition()},getState:function(t,e,i,s){var n=this.$target.scrollTop(),a=this.$element.offset(),r=this.$target.height();if(null!==i&&"top"===this.affixed)return n<i&&"top";if("bottom"===this.affixed)return null!==i?!(n+this.unpin<=a.top)&&"bottom":!(n+r<=t-s)&&"bottom";var o=null===this.affixed,l=o?n:a.top;return null!==i&&n<=i?"top":null!==s&&l+(o?r:e)>=t-s&&"bottom"},getPinnedOffset:function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t,this.pinnedOffset},checkPositionDelayed:function(){setTimeout(this.checkPosition.bind(this),1)},checkPosition:function(){if(t.CFW_isVisible(this.$element[0])){var i=this.$element.height(),s=this.settings.top,n=this.settings.bottom,a=Math.max(t(document).height(),t(document.body).height());"function"==typeof s&&(s=s(this.$element)),"function"==typeof n&&(n=n(this.$element));var r=this.getState(a,i,s,n);if(this.affixed!==r){null!==this.unpin&&this.$element.css({top:"",position:""});var o="affix"+(r?"-"+r:""),l=o+".cfw.affix";if(!this.$element.CFW_trigger(l))return;this.affixed=r,this.unpin="bottom"===r?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(o).CFW_trigger(l.replace("affix","affixed"))}"bottom"===r&&this.$element.offset({top:a-i-n})}},dispose:function(){this.$target.off(".cfw.affix"),this.$element.removeClass(e.RESET).removeData("cfw.affix"),this.$element=null,this.$target=null,this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.settings=null}},t.fn.CFW_Affix=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.affix"),r="object"==typeof i&&i;a||n.data("cfw.affix",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Affix.Constructor=e}(jQuery),function(t){var e=function(t,e){this._init("tooltip",t,e)};e.DEFAULTS={target:!1,placement:"top",trigger:"hover focus",display:"block",animate:!0,delay:{show:0,hide:100},container:!1,viewport:"scrollParent",padding:0,html:!1,closetext:'<span aria-hidden="true">&times;</span>',closesrtext:"Close",title:"",customClass:"",show:!1,unlink:!1,dispose:!1,template:'<div class="tooltip"><div class="tooltip-body"></div><div class="tooltip-arrow"></div></div>',gpuAcceleration:!0,popperConfig:null},e.prototype={_init:function(e,i,s){if("undefined"==typeof Popper)throw new TypeError("Figurations's Tooltip widget requires Popper (https://popper.js.org)");this.type=e,this.$element=t(i),this.$target=null,this.$arrow=null,this._focuser=null,this.instance=null,this.isDialog=!1,this.follow=!1,this.eventTypes=null,this.delayTimer=null,this.inTransition=null,this.closeAdded=!1,this.activate=!1,this.hoverState=null,this.dynamicTip=!1,this.inserted=!1,this.popper=null,this.settings=this.getSettings(s),this.inState={click:!1,hover:!1,focus:!1},this.disposeOnHide=this.settings.dispose,this.unlinkOnHide=this.settings.unlink,this.$element.attr("data-cfw",this.type);var n=this.$element.CFW_getSelectorFromChain(this.type,this.settings.target);null!==n?this.$target=t(n):this.fixTitle(),this.settings.show&&"manual"!==this.settings.trigger&&(this.settings.trigger="click"),this.eventTypes=this.settings.trigger.split(" "),this.bindTip(!0),this.$target&&this.$target.data("cfw."+this.type,this),this.settings.show&&(this.activate=!0,this.inState.click=!0,this.show()),this.$element.CFW_trigger("init.cfw."+this.type)},getDefaults:function(){return e.DEFAULTS},getSettings:function(e){var i=this.$element.CFW_parseData(this.type,this.getDefaults()),s=t.extend({},this.getDefaults(),i,e);return s.delay&&"number"==typeof s.delay&&(s.delay={show:s.delay,hide:s.delay}),s},createTip:function(){return t(this.settings.template)},fixTitle:function(){var t=this.$element,e=void 0!==t.attr("title")?t.attr("title"):null;(e||"string"!=typeof t.attr("data-cfw-"+this.type+"-original-title"))&&(t.attr("data-cfw-"+this.type+"-original-title",e||""),e&&void 0===t.attr("aria-label")&&!t[0].textContent.trim()&&t.attr("aria-label",e||""),t.removeAttr("title"))},getTitle:function(){var t=this.$element,e=this.settings;return"function"==typeof e.title?e.title.call(t[0]):e.title||t.attr("data-cfw-"+this.type+"-original-title")},_hasContent:function(){return Boolean(this.getTitle())},setContent:function(){var t=this.$target,e=t.find(".tooltip-body");if(this.dynamicTip){var i=this.getTitle();this.settings.html?e.html(i):e.text(i)}t.removeClass("fade in")},linkTip:function(){this.instance=this.$element.CFW_getID("cfw-"+this.type),this.targetID=this.$target.CFW_getID("cfw-"+this.type);var t="tooltip";"tooltip"!==this.type&&this.isDialog&&(t="dialog"),this.$target.attr({role:t,"aria-hidden":"true",tabindex:-1})},bindTip:function(e){for(var i=this.eventTypes.length;i--;){var s=this.eventTypes[i];if("click"!==s&&"manual"!==s||(this.isDialog=!0),"click"===s)this.$element.off("click.cfw."+this.type).on("click.cfw."+this.type,this.toggle.bind(this)),null===this.$target||this.closeAdded||this.$target.find('[data-cfw-dismiss="'+this.type+'"]').length||(t('<button type="button" class="close" data-cfw-dismiss="'+this.type+'" aria-label="'+this.settings.closesrtext+'">'+this.settings.closetext+"</button>").prependTo(this.$target),this.closeAdded=!0);else if("manual"!==s){var n="hover"===s?"mouseenter":"focusin",a="hover"===s?"mouseleave":"focusout";e?(this.$element.on(n+".cfw."+this.type,this.enter.bind(this)),this.$element.on(a+".cfw."+this.type,this.leave.bind(this))):(this.$target.off(".cfw."+this.type),this.$target.on(n+".cfw."+this.type,this.enter.bind(this)),this.$target.on(a+".cfw."+this.type,this.leave.bind(this)))}}this._escape(this.$element),this._escape(this.$target)},_escape:function(t){var e=this;t&&t.off("keydown.cfw."+this.type+".close").on("keydown.cfw."+this.type+".close",(function(i){27===i.which&&(e.$target&&(t===e.$target||e.$target.hasClass("in"))&&i.stopPropagation(),e.dismiss())}))},toggle:function(t){if(t)t.preventDefault(),this.inState.click=!this.inState.click,this.follow=!0,this._isInState()?this.enter():this.leave();else{var e=this.settings.delay;this.$target&&this.$target.hasClass("in")?(this.settings.delay.hide=0,this.leave()):(this.settings.delay.show=0,this.enter()),this.settings.delay=e}},enter:function(t){if(t&&(this.inState["focusin"===t.type?"focus":"hover"]=!0),this.$target&&this.$target.hasClass("in")||"in"===this.hoverState)this.hoverState="in";else if(clearTimeout(this.delayTimer),this.hoverState="in",this.settings.delay.show){var e=this;this.delayTimer=setTimeout((function(){"in"===e.hoverState&&e.show()}),this.settings.delay.show)}else this.show()},leave:function(t){if(t&&(this.inState["focusout"===t.type?"focus":"hover"]=!1),!this._isInState())if(clearTimeout(this.delayTimer),this.hoverState="out",this.settings.delay.hide){var e=this;this.delayTimer=setTimeout((function(){"out"===e.hoverState&&e.hide()}),this.settings.delay.hide)}else this.hide()},show:function(){if(clearTimeout(this.delayTimer),(this._hasContent()||this.$target)&&!this.inTransition&&(!this.$target||!this.$target.hasClass("in"))&&(this.activate||this.$element.CFW_trigger("beforeShow.cfw."+this.type))){if(this.inTransition=!0,!this.$target){var e=this.createTip();if(e.length<=0)return;this.dynamicTip=!0,this.$target=e}if(1!==this.$target.length)throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");this.$target.data("cfw."+this.type,this),this.linkTip(),this.bindTip(!1),this.setContent(),this.$target.css("display",this.settings.display),this.settings.animate&&this.$target.addClass("fade");var i="function"==typeof this.settings.customClass?this.settings.customClass():this.settings.customClass;i&&this.$target.addClass(i),this.locateTip(),this.settings.container&&this.isDialog&&(this._focuser=new CFW_Focuser({element:this.$target[0],autoFocus:!1,flowElement:this.$element[0],flowFocus:!0}),this._focuser.activate()),t.CFW_isTouch&&t("body").children().on("mouseover",null,t.noop),this.$target.CFW_transition(null,this._showComplete.bind(this))}},dismiss:function(){this.follow=!0,this.hide()},hide:function(t){clearTimeout(this.delayTimer),this.$target&&(void 0===t&&(t=!1),t?this._hideComplete():!this.inTransition&&this.$target.hasClass("in")&&this.$element.CFW_trigger("beforeHide.cfw."+this.type)&&(this.inTransition=!0,this.$target.removeClass("in"),this.$target.CFW_transition(null,this._hideComplete.bind(this))))},unlink:function(t){var e=this;void 0===t&&(t=!1),clearTimeout(this.delayTimer),this.$element.CFW_trigger("beforeUnlink.cfw."+this.type),this.$target&&this.$target.hasClass("in")?(this.$element.one("afterHide.cfw."+this.type,(function(){e._unlinkComplete()})),this.hide(t)):this._unlinkComplete()},_unlinkComplete:function(){var t=this.$element,e=this.type,i=this.$element.attr("data-cfw-"+this.type+"-original-title");void 0!==i&&i.length>0&&this.$element.attr("title",i),this.$element.removeAttr("data-cfw-"+this.type+"-original-title"),this.$target&&this.$target.off(".cfw."+this.type).removeData("cfw."+this.type),this.$element.off(".cfw."+this.type).removeAttr("data-cfw").removeData("cfw."+this.type),this.$element=null,this.$target=null,this.$arrow=null,this._focuser=null,this.instance=null,this.settings=null,this.type=null,this.isDialog=null,this.follow=null,this.eventTypes=null,this.delayTimer=null,this.inTransition=null,this.closeAdded=null,this.activate=null,this.hoverState=null,this.inState=null,this.dynamicTip=null,this.inserted=null,this.popper&&this.popper.destroy(),this.popper=null,this._unlinkCompleteExt(),t.CFW_trigger("afterUnlink.cfw."+e)},_unlinkCompleteExt:function(){},dispose:function(){var e=this.type,i=this.$element,s=this.$target;t(document).one("afterUnlink.cfw."+this.type,this.$element,(function(){s&&s.remove(),i.CFW_trigger("dispose.cfw."+e,{relatedTarget:s})})),this.unlink()},_insertTip:function(e){if(!this.inserted){var i=this.$target;i.detach(),null===t().CFW_findShadowRoot(this.$element[0])||this.settings.container||(this.settings.container="body"),"object"==typeof e&&(this.settings.container="body",i.appendTo(this.settings.container)),this.settings.container?i.appendTo(this.settings.container):i.insertAfter(this.$element),this.inserted=!0,this.$element.CFW_trigger("inserted.cfw."+this.type)}},locateUpdate:function(){null!==this.popper&&this.popper.scheduleUpdate()},locateTip:function(){var t="function"==typeof this.settings.placement?this.settings.placement.call(this,this.$target[0],this.$element[0]):this.settings.placement;if(this._insertTip(t),"object"==typeof t)return this.$target.offset(t),void this.$target.addClass("in");var e=/\s?auto?\s?/i,i=e.test(this.settings.placement);(t=this.settings.placement.replace(e,"")).trim().length||(t="auto");var s=this._getAttachment(t);this._addAttachmentClass(s),this.$target.addClass("in"),this.popper=new Popper(this.$element[0],this.$target[0],this._getPopperConfig(s,i))},_showComplete:function(){var e=this,i=this.hoverState;this.hoverState=null,this.$target.removeAttr("aria-hidden").CFW_mutateTrigger(),this.$target.attr("data-cfw-mutate","").CFW_mutationListen().on("mutate.cfw.mutate",(function(){e.locateUpdate()})),this.$element.attr("data-cfw-mutate","").CFW_mutationListen().on("mutate.cfw.mutate",(function(){t(this).is(":hidden")&&e.hide(!0)})),this.isDialog&&this.follow&&(this.$target.trigger("focus"),this.follow=!1),this.inTransition=!1,e.$element&&e.$element.attr("aria-describedby",e.targetID),this._showExt(),this.activate||this.$element.CFW_trigger("afterShow.cfw."+this.type),this.activate=!1,"out"===i&&this.leave()},_showExt:function(){},_hideComplete:function(){this._cleanTipClass(),this.$element.off(".cfw."+this.type+".focusStart").off("mutate.cfw.mutate").removeAttr("aria-describedby").removeAttr("data-cfw-mutate").CFW_mutationIgnore(),this.$target.css("display","none").off(".cfw."+this.type).off("mutate.cfw.mutate").removeClass("in").attr("aria-hidden",!0).removeAttr("data-cfw-mutate").CFW_mutationIgnore(),this._focuser&&(this._focuser.deactivate(),this._focuser=null),t.CFW_isTouch&&t("body").children().off("mouseover",null,t.noop),t(document).off(".cfw."+this.type+"."+this.instance),t(window).off(".cfw."+this.type+"."+this.instance),this.inState={click:!1,hover:!1,focus:!1},this.hoverState=null,this.inTransition=!1,this.isDialog&&(this.$target.attr("tabindex",-1),this.follow&&this.$element.trigger("focus")),this.follow=!1,"in"!==this.hoverState&&this.dynamicTip&&this._removeDynamicTip(),this.popper&&this.popper.destroy(),this._hideExt(),this.$element.CFW_trigger("afterHide.cfw."+this.type),this.disposeOnHide?this.dispose():this.unlinkOnHide&&this.unlink()},_hideExt:function(){},_removeDynamicTip:function(){this._removeDynamicTipExt(),this.dynamicTip=!1,this.inserted=!1,this.closeAdded=!1,this.$arrow=null},_removeDynamicTipExt:function(){this.$target.remove(),this.$target=null},_cleanTipClass:function(){var t=new RegExp("(^|\\s)cfw-"+this.type+"\\S+","g");if(this.$target){var e=this.$target[0].className.match(t);if(null!==e)for(var i=e.length;i--;)this.$target[0].classList.remove(e[i].trim())}},_handlePopperPlacementChange:function(t){this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement))},_addAttachmentClass:function(t){this.$target&&this.$target.addClass("cfw-"+this.type+"-"+t)},_isElement:function(t){return(t[0]||t).nodeType},_getViewport:function(){var e=this.settings.viewport;"function"==typeof e&&(e=this.settings.viewport.call(this,this.$element));var i=t(e);return this._isElement(i)&&(e=i[0]),e},_getAttachment:function(i){if(this.$element){var s=t.CFW_isRTL(this.$element[0]);return{AUTO:"auto",TOP:"top",FORWARD:s?"left":"right",RIGHT:"right",BOTTOM:"bottom",REVERSE:s?"right":"left",LEFT:"left"}[i.toUpperCase()]}return e.DEFAULTS.placement},_getPopperConfig:function(e,i){var s=this,n={placement:e,modifiers:{flip:{enabled:i,behavior:"flip"},arrow:{element:"."+this.type+"-arrow"},preventOverflow:{padding:this.settings.padding,boundariesElement:this._getViewport()},computeStyle:{gpuAcceleration:this.settings.gpuAcceleration}},onCreate:function(t){t.originalPlacement!==t.placement&&s._handlePopperPlacementChange(t)},onUpdate:function(t){s._handlePopperPlacementChange(t)}};return t.extend(!0,n,this.settings.popperConfig)},_isInState:function(){for(var t in this.inState)if(this.inState[t])return!0;return!1}},t.fn.CFW_Tooltip=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.tooltip"),r="object"==typeof i&&i;!a&&/unlink|dispose|hide/.test(i)||(a||n.data("cfw.tooltip",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s))}))},t.fn.CFW_Tooltip.Constructor=e,t.CFW_enableDismissControl("tooltip","dismiss")}(jQuery),function(t){if(void 0===t.fn.CFW_Tooltip)throw new Error("CFW_Popover requires CFW_Tooltip");var e=function(t,e){this.dragAdded=!1,this.keyTimer=null,this.keyDelay=750,this._init("popover",t,e)};e.DEFAULTS=t.extend({},t.fn.CFW_Tooltip.Constructor.DEFAULTS,{placement:"top",trigger:"click",content:"",drag:!1,dragtext:'<span aria-hidden="true">+</span>',dragsrtext:"Drag",dragstep:10,template:'<div class="popover"><h3 class="popover-header"></h3><div class="popover-body"></div><div class="popover-arrow"></div></div>'}),(e.prototype=t.extend({},t.fn.CFW_Tooltip.Constructor.prototype)).constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.createTip=function(){return t(this.settings.template)},e.prototype._hasContent=function(){return Boolean(this.getTitle()||this.getContent())},e.prototype.setContent=function(){var e=this.$target,i=e.find(".popover-header"),s=e.find(".popover-body");if(this.dynamicTip){var n=this.getTitle(),a=this.getContent();this.settings.html?(i.html(n),"string"==typeof a?s.html(a):s.empty().append(a)):(i.text(n),s.text(a))}if(i.length){var r=i.eq(0).CFW_getID("cfw-popover");this.$target.attr("aria-labelledby",r)}this.settings.drag&&!this.dragAdded&&this.$target.find('[data-cfw-drag="'+this.type+'"]').length<=0&&(t('<span role="button" tabindex="0" class="drag" data-cfw-drag="'+this.type+'" aria-label="'+this.settings.dragsrtext+'">'+this.settings.dragtext+"</span>").insertAfter(this.$target.find(".close").eq(0)),this.dragAdded=!0),this.$target.find('[data-cfw-drag="'+this.type+'"]').length&&(this.$target.addClass("draggable"),"manual"!==this.settings.trigger&&(this.settings.trigger="click"),this.settings.container="body",this.enableDrag())},e.prototype.getContent=function(){var t=this.$element,e=this.settings;return"function"==typeof e.content?e.content.call(t[0]):e.content},e.prototype.enableDrag=function(){var e=this,i={handle:'[data-cfw-drag="'+this.type+'"]'};this.$element.on("afterShow.cfw."+this.type,(function(){null!==e.popper&&e.popper.disableEventListeners(),e.$target.off("mutate.cfw.mutate").removeAttr("data-cfw-mutate").CFW_mutationIgnore(),t(window).off("resize.cfw."+e.type+"."+e.instance).on("resize.cfw."+e.type+"."+e.instance,(function(){var t=e.$target.offset();if(e._isFixed()){var i=window.getComputedStyle(e.$target[0]);t.top=parseInt(i.top,10),t.left=parseInt(i.left,10)}e.locateDragTip(t.top,t.left)}))})),this.settings.gpuAcceleration=!1,this.$target.off(".cfw.drag"),this.$target.on("dragStart.cfw.drag",(function(t){"cfw.drag"===t.namespace&&(e._updateZ(),e.$element.CFW_trigger("dragStart.cfw."+e.type))})).on("drag.cfw.drag",(function(t){"cfw.drag"===t.namespace&&e.locateDragTip(t.offsetY,t.offsetX)})).on("dragEnd.cfw.drag",(function(t){"cfw.drag"===t.namespace&&e.$element.CFW_trigger("dragEnd.cfw."+e.type)})).on("keydown.cfw.drag",'[data-cfw-drag="'+this.type+'"]',(function(t){if(new RegExp("^(38|39|40|37)$").test(t.which)){t&&(t.stopPropagation(),t.preventDefault()),e.keyTimer||e.$element.CFW_trigger("dragStart.cfw."+e.type),clearTimeout(e.keyTimer);var i=e.$target.offset(),s=Math.round(i.top),n=Math.round(i.left);if(e._isFixed()){var a=window.getComputedStyle(e.$target[0]);s=parseInt(a.top,10),n=parseInt(a.left,10)}var r=e.settings.dragstep;switch(t.which){case 37:n-=r;break;case 38:s-=r;break;case 39:n+=r;break;case 40:s+=r}e.locateDragTip(s,n),e.keyTimer=setTimeout((function(){e.$element.CFW_trigger("dragEnd.cfw."+e.type),e.keyTimer=null}),e.keyDelay)}})),this.$target.CFW_Drag(i)},e.prototype.getParentNode=function(t){return"HTML"===t.nodeName?t:t.parentNode||t.host},e.prototype.getScrollParent=function(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=window.getComputedStyle(t);return/^(auto|scroll|overlay)$/.test(e.overflow+e.overflowX+e.overflowY)?t:this.getScrollParent(this.getParentNode(t))},e.prototype.getOwnerBody=function(t){var e=t.ownerDocument;return e?e.body:document.body},e.prototype.viewportDragLimit=function(){var e={},i=this._getDragViewport(),s=this.viewportScrollbarWidth(i);if(e=i.offset(),this._isFixed()){var n=i[0].getBoundingClientRect();e.top=n.top,e.bottom=n.bottom,i.is("body")&&(i=t(window),e.top=n.top+window.pageYOffset,e.left=n.left+window.pageXOffset)}return e.bottom=e.top+i.outerHeight(),e.right=e.left+i.outerWidth()-s,i.is("body")&&(document.body.clientHeight<window.innerHeight&&(e.bottom=window.innerHeight),document.body.clientWidth<window.innerWidth&&(e.right=window.innerWidth-s)),e},e.prototype.viewportScrollbarWidth=function(e){var i=window.getComputedStyle(e[0]),s=/^(visible|auto|scroll)$/.test(i.overflow)||/^(visible|auto|scroll)$/.test(i.overflowY),n=e[0].scrollHeight;return e.is("body")&&s&&n>window.innerHeight||s&&n>e[0].clientHeight?t.CFW_measureScrollbar():0},e.prototype.locateDragTip=function(t,e){var i=this.$target,s=this.viewportDragLimit(),n=this.settings.padding;i.css({top:Math.min(s.bottom-n-i.outerHeight(),Math.max(s.top+n,t)),left:Math.min(s.right-n-i.outerWidth(),Math.max(s.left+n,e))})},e.prototype.hide=function(e){this.keyTimer&&(this.$element.CFW_trigger("dragEnd.cfw."+this.type),clearTimeout(this.keyTimer)),this._resetZ(this.$target),t.fn.CFW_Tooltip.Constructor.prototype.hide.call(this,e)},e.prototype._showExt=function(){this.$target.find('[data-cfw-drag="'+this.type+'"]').length&&this._isFixed()&&this._handleFixedDragScroll()},e.prototype._hideExt=function(){t(window).off("resize.cfw."+this.type+"."+this.instance).off("scroll.cfw."+this.type+"."+this.instance)},e.prototype._removeDynamicTipExt=function(){this.$target.remove(),this.$target=null,this.dragAdded=!1},e.prototype._resetZ=function(t){void 0!==t.attr("data-cfw-zindex")&&(t.removeAttr("data-cfw-zindex"),t[0].style.removeProperty("z-index"))},e.prototype._updateZ=function(){var e=this,i=0,s=null;if(t(".popover:visible").each((function(){var n=t(this);e._resetZ(n);var a=parseInt(n.css("z-index"),10);isNaN(a)&&(a=0),a>=i&&(i=a,s=n)})),s&&this.$target[0]!==s[0]){var n=this.$target.css("z-index");this.$target.attr("data-cfw-zindex",n),this.$target.css("z-index",parseInt(n,10)+1)}},e.prototype._arrow=function(){return this.$arrow||(this.$arrow=this.$target.find(".arrow, .popover-arrow")),this.$arrow},e.prototype._unlinkCompleteExt=function(){this.dragAdded=null,this.keyTimer=null,this.keyDelay=null},e.prototype._getDragViewport=function(){var e=this._getViewport(),i=null;return"scrollParent"===e&&(e=this.getScrollParent(this.$target[0])),"window"!==e&&e!==window||(e=this.getOwnerBody(this.$target[0])),(i=t(e)).length||(i=t(document.body)),i},e.prototype._isFixed=function(){var t=window.getComputedStyle(this.$target[0]);return/^(fixed)$/.test(t.position)},e.prototype._doFixedDragScroll=function(){var t={},e=window.getComputedStyle(this.$target[0]);t.top=parseInt(e.top,10),t.left=parseInt(e.left,10),this.locateDragTip(t.top,t.left)},e.prototype._handleFixedDragScroll=function(){var e=this._getDragViewport();t(window).off("scroll.cfw."+this.type+"."+this.instance),e.is("body")||t(window).on("scroll.cfw."+this.type+"."+this.instance,this._doFixedDragScroll.bind(this))},t.fn.CFW_Popover=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.popover"),r="object"==typeof i&&i;!a&&/unlink|dispose|hide/.test(i)||(a||n.data("cfw.popover",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s))}))},t.fn.CFW_Popover.Constructor=e,t.CFW_enableDismissControl("popover","dismiss")}(jQuery),function(t){var e=function(i,s){this.$rootElement=null,this.$element=t(i),this.$target=null,this._backdrop=null,this._focuser=null,this._scrollbar=null,this.isShown=null,this.fixedContent=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",this.stickyContent=".sticky-top";var n=this.$element.CFW_parseData("offcanvas",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={target:!1,animate:!0,backdrop:!0,keyboard:!0,scroll:!1,focus:!0,manual:!1,rootElement:"body"},e.prototype={_init:function(){if(this.$rootElement=t(this.settings.rootElement),this.$rootElement){var e=this.$element.CFW_getSelectorFromChain("offcanvas",this.settings.target);if(e){this.$target=t(e),this._backdrop=this._initializeBackdrop(),this._focuser=new CFW_Focuser({element:this.$target[0]}),this._scrollbar=new CFW_Scrollbar({rootElement:this.settings.rootElement}),this.$element.attr("data-cfw","offcanvas");var i=this.$target.CFW_getID("cfw-offcanvas");this.$element.attr("aria-controls",i);var s=this.$target.find(".offcanvas-title");if(s.length){var n=s.eq(0).CFW_getID("cfw-offcanvas");this.$target.attr("aria-labelledby",n)}this.$target.attr("tabindex",-1),this.settings.manual||this.$element.on("click.cfw.offcanvas",this.toggle.bind(this)),this.$target.data("cfw.offcanvas",this),this.$element.CFW_trigger("init.cfw.offcanvas")}}},toggle:function(e){if(/a|area/i.test(e.target.tagName)&&e.preventDefault(),!t.CFW_isDisabled(e.target)){var i=document.querySelector("[class*=offcanvas].in");i&&i!==this.$target[0]&&t(i).CFW_Offcanvas("hide"),this.isShown?this.hide():this.show()}},show:function(){var e=this;!this.isShown&&this.$element.CFW_trigger("beforeShow.cfw.offcanvas")&&(this.isShown=!0,this._backdrop.show(),this._disableScrollbar()&&this._scrollbar.disable(),this.$rootElement.addClass("offcanvas-open"),this._escape(),this.$target.attr("aria-modal",!0).attr("role","dialog"),this.settings.animate&&this.$target.addClass("showing"),this.$target.data("cfw.offcanvas",this),t(window).on("resize.cfw.offcanvas",this._handleResize.bind(this)),this.$target.data("cfw.offcanvas",this),this.$target.CFW_transition(null,(function(){e.$target.addClass("in").removeClass("showing"),e.settings.scroll||e._focuser.activate(),e.$element.CFW_trigger("afterShow.cfw.offcanvas")})))},hide:function(){var e=this;this.isShown&&this.$element.CFW_trigger("beforeHide.cfw.offcanvas")&&(this._focuser.deactivate(),t(window).off("resize.cfw.offcanvas"),this.$target.off(".dismiss.cfw.offcanvas").trigger("blur"),this.isShown=!1,this.settings.animate&&this.$target.addClass("hiding"),this._backdrop.hide(),this.$target.CFW_transition(null,(function(){e.$target.removeClass("in hiding").removeAttr("aria-modal role"),e.$rootElement.removeClass("offcanvas-open"),e._scrollbar.reset(),e.$element.CFW_trigger("afterHide.cfw.offcanvas"),t.CFW_isVisible(e.$element)&&!e.settings.manual&&e.$element.trigger("focus")})))},dispose:function(){this._backdrop.dispose(),this._focuser.deactivate(),this._scrollbar.reset(),t(window).off("resize.cfw.offcanvas"),this.$target.off(".cfw.offcanvas").removeData("cfw.offcanvas"),this.$element.off(".cfw.offcanvas").removeData("cfw.offcanvas"),this.$rootElement=null,this.$element=null,this.$target=null,this._backdrop=null,this._focuser=null,this._scrollbar=null,this.isShown=null,this.settings=null},_initializeBackdrop:function(){var t=this;return new CFW_Backdrop({className:"offcanvas-backdrop",isVisible:Boolean(this.settings.backdrop),isAnimated:this.settings.animate,rootElement:this.$target.parent(),clickCallback:function(){"static"===t.settings.backdrop?t._hideBlocked():t.hide()}})},_escape:function(){var t=this;this.isShown&&this.$target.on("keydown.dismiss.cfw.offcanvas",(function(e){27===e.which&&(t.settings.keyboard?t.hide():t._hideBlocked())}))},_hideBlocked:function(){var t=this;this.$target.CFW_trigger("beforeHide.cfw.offcanvas")&&(this.$target.addClass("offcanvas-blocked"),this.$target.CFW_transition(null,(function(){t.$target.trigger("focus"),t.$target.removeClass("offcanvas-blocked")})))},_disableScrollbar:function(){var t=this.$rootElement[0]===document.body?document.body.offsetWidth:this.$rootElement[0].offsetWidth,e=this.$rootElement[0]===document.body?window.innerHeight:this.$rootElement[0].offsetHeight;return!this.settings.scroll||this.$target[0].offsetWidth>=t&&this.$target[0].offsetHeight>=e},_isPositioned:function(){var t=window.getComputedStyle(this.$target[0],null).getPropertyValue("position");return/(fixed|absolute)/i.test(t)},_handleResize:function(){this.isShown&&(this._isPositioned()?this._disableScrollbar()?this._scrollbar.disable():this._scrollbar.reset():this.hide())}},t.fn.CFW_Offcanvas=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.offcanvas"),r="object"==typeof i&&i;!a&&/unlink|dispose/.test(i)||(a||n.data("cfw.offcanvas",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s))}))},t.fn.CFW_Offcanvas.Constructor=e,t.CFW_enableDismissControl("offcanvas","hide")}(jQuery),function(t){var e=function(i,s){this.$rootElement=null,this.$element=t(i),this.$target=null,this.$dialog=null,this._backdrop=null,this._focuser=null,this._scrollbar=null,this.isShown=null,this.fixedContent=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",this.stickyContent=".sticky-top",this.ignoreBackdropClick=!1;var n=this.$element.CFW_parseData("modal",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={target:!1,animate:!0,unlink:!1,dispose:!1,backdrop:!0,keyboard:!0,manual:!1,show:!1,focus:!0,rootElement:"body"},e.prototype={_init:function(){if(this.$rootElement=t(this.settings.rootElement),this.$rootElement){var e=this.$element.CFW_getSelectorFromChain("modal",this.settings.target);if(e){this.$target=t(e),this.$dialog=this.$target.find(".modal-dialog"),this._backdrop=this._initializeBackdrop(),this._focuser=new CFW_Focuser({element:this.$target[0]}),this._scrollbar=new CFW_Scrollbar({rootElement:this.settings.rootElement}),this.$element.attr("data-cfw","modal"),this.disposeOnHide=this.settings.dispose,this.unlinkOnHide=this.settings.unlink;var i=this.$target.CFW_getID("cfw-modal");this.$element.attr("aria-controls",i);var s=this.$target.find(".modal-title");if(s.length){var n=s.eq(0).CFW_getID("cfw-modal");this.$target.attr("aria-labelledby",n)}this.$target.attr({role:"dialog","aria-hidden":"true",tabindex:-1}),this.settings.manual||this.$element.on("click.cfw.modal",this.toggle.bind(this)),this.$target.data("cfw.modal",this),this.$target.CFW_trigger("init.cfw.modal"),this.settings.show&&this.show()}}},toggle:function(t){t&&t.preventDefault(),this.isShown?this.hide():this.show()},show:function(){var e=this;this.isShown||this.$target.CFW_trigger("beforeShow.cfw.modal")&&(this.isShown=!0,this._scrollbar.disable(),this.$target.CFW_trigger("scrollbarSet.cfw.modal"),this.$rootElement.addClass("modal-open"),this.escape(),this.resize(),this.$target.data("cfw.modal",this),this.$target.on("click.chain.cfw.modal","[data-cfw-modal-chain]",(function(t){t&&(t.stopImmediatePropagation(),t.preventDefault()),e.chain(t.currentTarget.getAttribute("data-cfw-modal-chain"))})).find("[data-cfw-modal-chain]").each((function(){var e=t(this.getAttribute("data-cfw-modal-chain"));e.length&&e.one("beforeShow.cfw.modal",(function(t){t.preventDefault()}))})),this.$dialog.on("mousedown.dismiss.cfw.modal",(function(){e.$target.one("mouseup.dismiss.cfw.modal",(function(i){t(i.target).is(e.$target)&&(e.ignoreBackdropClick=!0)}))})),this.backdrop((function(){e._showComplete()})))},hide:function(){this.isShown&&this.$target.CFW_trigger("beforeHide.cfw.modal")&&(this.isShown=!1,this._focuser.deactivate(),this.$target.removeClass("in").attr("aria-hidden",!0).removeAttr("aria-modal").off(".dismiss.cfw.modal").off(".chain.cfw.modal"),this.$target.find("[data-cfw-modal-chain]").each((function(){var e=t(this.getAttribute("data-cfw-modal-chain"));e.length&&e.off("beforeShow.cfw.modal")})),this.$dialog.off("mousedown.dismiss.cfw.modal"),this.$dialog.CFW_transition(null,this._hideComplete.bind(this)))},_showComplete:function(){var e=this,i=this.$dialog.find(".modal-body");this.settings.animate&&this.$target.addClass("fade"),this.$target.parent().length||this.$target.appendTo(this.$rootElement),this.$target.css("display","block"),i.length&&i.scrollTop(0),this.$dialog.scrollTop(0),this.$target.scrollTop(0),this.adjustDialog(),t.CFW_reflow(this.$target[0]),this.$target.addClass("in").removeAttr("aria-hidden").attr("aria-modal",!0),this.$target.attr("data-cfw-mutate","").on("mutate.cfw.mutate",(function(){e.handleUpdate()})),this.settings.focus&&this._focuser.activate(),this.$dialog.CFW_transition(null,(function(){e.$target.CFW_mutateTrigger().CFW_trigger("afterShow.cfw.modal")}))},_hideComplete:function(){var t=this;this.escape(),this.resize(),this.$target.off("mutate.cfw.mutate").removeAttr("data-cfw-mutate").CFW_mutationIgnore().css("display","none"),this.settings.manual||this.$element.trigger("focus"),this.backdrop((function(){t.$rootElement.removeClass("modal-open"),t.resetAdjustments(),t._scrollbar.reset(),t.$target.CFW_trigger("scrollbarReset.cfw.modal"),t.$target.CFW_mutateTrigger().CFW_trigger("afterHide.cfw.modal"),t.disposeOnHide?t.dispose():t.unlinkOnHide&&t.unlink()}))},handleHide:function(e){e.currentTarget!==this.$parent[0]&&(t.CFW_isDisabled(e.currentTarget)||this.close())},chain:function(e){var i=t(e);i.length&&(this.isShown?(this.$target.one("afterHide.cfw.modal",(function(){i.CFW_Modal("show")})),this.hide()):i.CFW_Modal("show"))},escape:function(){var t=this;this.isShown||this.$target.off("keydown.dismiss.cfw.modal"),this.isShown&&this.$target.on("keydown.dismiss.cfw.modal",(function(e){27===e.which&&(t.settings.keyboard?t.hide():t.hideBlocked())}))},resize:function(){this.isShown?t(window).on("resize.cfw.modal",this.handleUpdate.bind(this)):t(window).off("resize.cfw.modal")},handleUpdate:function(){this.adjustDialog()},adjustDialog:function(){var t=this.$target[0].scrollHeight>document.documentElement.clientHeight,e=this._scrollbar.getScrollbarWidth(),i=this._scrollbar.isOverflowing();this.$target.css({paddingLeft:!i&&t?e:"",paddingRight:i&&!t?e:""})},resetAdjustments:function(){this.$target.css({paddingLeft:"",paddingRight:""})},_initializeBackdrop:function(){return new CFW_Backdrop({isVisible:Boolean(this.settings.backdrop),isAnimated:this.settings.animate,rootElement:this.settings.rootElement})},backdrop:function(t){var e=this;this.isShown&&this.settings.backdrop?(this.$target.on("click.dismiss.cfw.modal",(function(t){e.ignoreBackdropClick?e.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e.settings.backdrop?e.hideBlocked():e.hide())})),this._backdrop.show(t)):!this.isShown&&this._backdrop?this._backdrop.hide(t):t&&t()},hideBlocked:function(){var t=this;this.$target.CFW_trigger("beforeHide.cfw.modal")&&(this.$target.addClass("modal-blocked"),this.$dialog.CFW_transition(null,(function(){t.$target.trigger("focus"),t.$target.removeClass("modal-blocked")})))},unlink:function(){var t=this;this.$target.CFW_trigger("beforeUnlink.cfw.modal"),this.isShown?(this.$target.one("afterHide.cfw.modal",(function(){t._unlinkComplete()})),this.hide()):this._unlinkComplete()},_unlinkComplete:function(){var t=this.$target;this.$target.off(".cfw.modal").removeAttr("aria-labelledby").removeData("cfw.modal"),this.$element.off(".cfw.modal").removeAttr("data-cfw aria-controls").removeData("cfw.modal"),this.$rootElement=null,this.$element=null,this.$target=null,this.$dialog=null,this._backdrop=null,this._focustrsp=null,this._scrollbar=null,this.isShown=null,this.fixedContent=null,this.ignoreBackdropClick=null,this.settings=null,t.CFW_trigger("afterUnlink.cfw.modal")},dispose:function(){t(document).one("afterUnlink.cfw.modal",this.$target,(function(e){var i=t(e.target);i.CFW_trigger("dispose.cfw.modal"),i.remove()})),this._backdrop.dispose(),this._focuser.deactivate(),this.unlink()}},t.fn.CFW_Modal=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.modal"),r="object"==typeof i&&i;!a&&/unlink|dispose/.test(i)||(a||n.data("cfw.modal",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s))}))},t.fn.CFW_Modal.Constructor=e,t.CFW_enableDismissControl("modal","hide")}(jQuery),function(t){if(void 0===t.fn.CFW_Collapse)throw new Error("CFW_Accordion requires CFW_Collapse");var e=function(e){this.$element=t(e),this._init()};e.prototype={_init:function(){var t=this;this.$element.attr("data-cfw","accordion").on("beforeShow.cfw.collapse",(function(e){e.isDefaultPrevented()||t._update(e)})).CFW_trigger("init.cfw.accordion")},_update:function(e){var i=!1,s=t(e.target),n=this.$element.find('[data-cfw="collapse"]');n.each((function(){1===t(this).data("cfw.collapse").inTransition&&(i=!0)})),i?e.preventDefault():n.not(s).CFW_Collapse("hide")},dispose:function(){this.$element.off(".cfw.collapse").removeData("cfw.accordion"),this.$element=null}},t.fn.CFW_Accordion=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.accordion");a||n.data("cfw.accordion",a=new e(this)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Accordion.Constructor=e}(jQuery),function(t){if(void 0===t.fn.CFW_Tab)throw new Error("CFW_TabResponsive requires CFW_Tab");if(void 0===t.fn.CFW_Collapse)throw new Error("CFW_TabResponsive requires CFW_Collapse");var e=function(e){this.$element=t(e),this._init()};e.prototype={_init:function(){var t=this;this.$element.attr("data-cfw","tabResponsive"),this.$element.on("beforeShow.cfw.tab",(function(e){e.isDefaultPrevented()||t.updateCollapse(e.target)})),this.$element.on("beforeShow.cfw.collapse",(function(e){e.isDefaultPrevented()||t.updateTab(e.target)})),this.$element.find('[data-cfw="tab"]').CFW_Tab("animDisable"),this.$element.find('[data-cfw="collapse"]').CFW_Collapse("animDisable");var e=this.$element.find('[data-cfw="tab"].active');this.updateCollapse(e),this.$element.CFW_trigger("init.cfw.tabResponsive")},updateCollapse:function(e){var i=t(e),s=t(i).data("cfw.tab");if(s){var n=s.$target;n.closest(".tab-content").find('[data-cfw="collapse"]').each((function(){t(this).one("afterHide.cfw.collapse",(function(t){t.stopPropagation(),t.preventDefault()})).CFW_Collapse("hide")})),n.find('[data-cfw="collapse"]').one("afterShow.cfw.collapse",(function(t){t.stopPropagation(),t.preventDefault()})).CFW_Collapse("show")}},updateTab:function(e){var i=t(e),s=i.closest(".tab-pane").attr("id");i.closest(".tab-content").find('[data-cfw="collapse"]').each((function(){var e=t(this);e[0]!==i[0]&&e.CFW_Collapse("hide")})),this.$element.find('[data-cfw="tab"]').each((function(){var e=t(this),i=e.attr("data-cfw-tab-target");i||(i=e.attr("href")),(i=i.replace(/^#/,""))===s&&e.one("beforeShow.cfw.tab",(function(t){t.stopPropagation()})).CFW_Tab("show")}))},dispose:function(){this.$element.off(".cfw.tab .cfw.collapse").removeData("cfw.tabResponsive"),this.$element=null,this.settings=null}},t.fn.CFW_TabResponsive=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.tabResponsive");a||n.data("cfw.tabResponsive",a=new e(this)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_TabResponsive.Constructor=e}(jQuery),function(t){if(void 0===t.fn.CFW_Tab)throw new Error("CFW_Slideshow requires CFW_Tab");var e=function(i,s){this.$element=t(i),this.$navPrev=this.$element.find('[data-cfw-slideshow-nav="prev"]'),this.$navNext=this.$element.find('[data-cfw-slideshow-nav="next"]');var n=this.$element.CFW_parseData("slideshow",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={loop:!1},e.prototype={_init:function(){var e=this;this.$element.attr("data-cfw","slideshow");var i=this.$element.find('[role="tab"]');i.length&&(this.$element.on("afterShow.cfw.tab",(function(){e.update()})),this.$navPrev.on("click.cfw.slideshow",(function(i){i.preventDefault(),t.CFW_isDisabled(i.target)||e.prev()})),this.$navNext.on("click.cfw.slideshow",(function(i){i.preventDefault(),t.CFW_isDisabled(i.target)||e.next()})),i.off("keydown.cfw.tab").add(this.$navPrev).add(this.$navNext).on("keydown.cfw.slideshow",(function(t){e._actionsKeydown(t)})),this.update(),this.$element.CFW_trigger("init.cfw.slideshow"))},prev:function(){var e=this._getTabs(),i=this._currIndex(e),s=t(t.CFW_getNextActiveElement(e.toArray(),e[i],!1,this.settings.loop));s.length&&(this.$element.CFW_trigger("prev.cfw.slideshow"),s.CFW_Tab("show"))},next:function(){var e=this._getTabs(),i=this._currIndex(e),s=t(t.CFW_getNextActiveElement(e.toArray(),e[i],!0,this.settings.loop));s.length&&(this.$element.CFW_trigger("next.cfw.slideshow"),s.CFW_Tab("show"))},update:function(){t.CFW_controlEnable(this.$navPrev),t.CFW_controlEnable(this.$navNext);var e=this._getTabs(),i=this._currIndex(e);i<=0&&!this.settings.loop&&t.CFW_controlDisable(this.$navPrev),i>=e.length-1&&!this.settings.loop&&t.CFW_controlDisable(this.$navNext),this.$element.CFW_trigger("update.cfw.slideshow")},_getTabs:function(){var e=this.$element.find('[role="tab"]');return e.filter((function(){return!t.CFW_isDisabled(this)&&t.CFW_isVisible(this)}))},_currIndex:function(t){var e=t.filter(".active");return t.index(e)},_actionsKeydown:function(t){if(new RegExp("38|39|40|37").test(t.which)&&(t.preventDefault(),38!==t.which&&37!==t.which||this.prev(),40!==t.which&&39!==t.which||this.next(),t.currentTarget!==this.$navPrev[0]&&t.currentTarget!==this.$navNext[0])){var e=this._getTabs(),i=this._currIndex(e);e.eq(i).trigger("focus")}},dispose:function(){this.settings.loop&&this.$element.find('[role="tab"]').off("keydown.cfw.tab"),this.$navPrev.off(".cfw.slideshow"),this.$navNext.off(".cfw.slideshow"),this.$element.off(".cfw.tab").removeData("cfw.slideshow"),this.$element=null,this.$navPrev=null,this.$navNext=null,this.settings=null}},t.fn.CFW_Slideshow=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.Slideshow"),r="object"==typeof i&&i;a||n.data("cfw.Slideshow",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Slideshow.Constructor=e}(jQuery),function(t){var e=function(i,s){this.$body=t("body"),this.$element=t(i),this.$scrollElement=this.$element.is("body")?t(window):this.$element,this.selector=null,this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0;var n=this.$element.CFW_parseData("scrollspy",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={target:null,offset:10,nested:!0,throttle:100},e.prototype={_init:function(){this.$element[0]!==this.$body[0]&&this.$element.attr("tabindex",0),this.$scrollElement.on("scroll.cfw.scrollspy",t.CFW_throttle(this.process.bind(this),this.settings.throttle)),this.selector=(this.settings.target||"")+" a, "+(this.settings.target||"")+" [data-cfw-scrollspy-target]",this.$scrollElement.CFW_trigger("init.cfw.scrollspy"),this.refresh(),this.process()},getScrollHeight:function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},refresh:function(){var e=this,i="offset",s=0;null!==this.$scrollElement[0]&&this.$scrollElement[0]!==this.$scrollElement[0].window&&(i="position",s=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this.$body.find(this.selector).map((function(){var e=t(this),n=e.attr("data-cfw-scrollspy-target")||e.attr("href"),a=/^#./.test(n)&&t(n);return a&&a.length&&a.is(":visible")&&[[a[i]().top+s,n]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},process:function(){var t,e=this.$scrollElement.scrollTop()+this.settings.offset,i=this.getScrollHeight(),s=this.settings.offset+i-this.$scrollElement.height(),n=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!==i&&this.refresh(),e>=s){var o=a[a.length-1];r!==o&&this.activate(o)}else{if(r&&e<n[0]&&n[0]>0)return this.activeTarget=null,void this.clear();for(t=n.length;t--;)r!==a[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(a[t])}},activate:function(e){this.activeTarget=e,this.clear();var i=this.settings.target+' [href="'+e+'"],'+this.settings.target+' [data-cfw-scrollspy-target="'+e+'"]',s=t(i).addClass("active"),n=!0===this.settings.nested||"string"==typeof this.settings.nested;s.closest(".dropdown-menu").length&&n?s=s.closest(".dropdown").find('[data-cfw="dropdown"]').addClass("active"):!0===this.settings.nested&&s.parents("ul, ol, nav").prev("li, a").addClass("active"),s.CFW_trigger("activate.cfw.scrollspy")},clear:function(){t(this.selector).filter(".active").removeClass("active")},dispose:function(){this.$scrollElement.off(".cfw.scrollspy"),this.$element.removeData("cfw.scrollspy"),this.$body=null,this.$element=null,this.$scrollElement=null,this.selector=null,this.offsets=null,this.targets=null,this.activeTarget=null,this.scrollHeight=null,this.settings=null}},t.fn.CFW_Scrollspy=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.scrollspy"),r="object"==typeof i&&i;a||n.data("cfw.scrollspy",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Scrollspy.Constructor=e}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.$parent=null,this.inTransition=null;var n=this.$element.CFW_parseData("alert",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={target:null,animate:!0},e.prototype={_init:function(){var t=this;this.findParent(),this.$element.data("cfw.alert",this).on("click.cfw.alert",(function(e){t.close(e)})),this.$parent.CFW_trigger("init.cfw.alert")},handleClose:function(i){if(i.currentTarget!==this.$parent[0]){var s=t(i.currentTarget).CFW_parseData("alert",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,s),this.findParent(),this.close(i)}},close:function(e){var i=this;e&&t.CFW_isDisabled(e.currentTarget)||this.inTransition||!this.$parent.CFW_trigger("beforeClose.cfw.alert")||(this.settings.animate&&this.$parent.addClass("fade in"),this.inTransition=1,this.$parent.removeClass("in").CFW_mutateTrigger().CFW_transition(null,(function(){i.$parent.detach().CFW_trigger("afterClose.cfw.alert"),i.$parent.remove(),i.inTransition=0})))},findParent:function(){var e=this.$element.CFW_getSelectorFromChain("alert",this.settings.target);this.$parent=e?t(e):this.$element.closest(".alert")},dispose:function(){this.$element.off(".cfw.alert").removeData("cfw.alert"),this.$element=null,this.$parent=null,this.inTransition=null,this.settings=null}},t.fn.CFW_Alert=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.alert"),r="object"==typeof i&&i;a||n.data("cfw.alert",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Alert.Constructor=e,t.CFW_enableDismissControl("alert","handleClose")}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.$window=t(window),this.instance=null,this.inTransition=null;var n=this.$element.CFW_parseData("lazy",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={src:"",throttle:250,trigger:"scroll resize mutate",delay:0,animate:!1,threshold:0,container:window,invisible:!1,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},e.prototype={_init:function(){var i=!1;this.$element.attr("data-cfw","lazy"),this.settings.delay=parseInt(this.settings.delay,10),(isNaN(this.settings.delay)||this.settings.delay<0)&&(this.settings.delay=e.DEFAULTS.delay),""!==this.$element.attr("src")&&void 0!==this.$element.attr("src")&&!1!==this.$element.attr("src")||this.$element.is("img")&&this.$element.attr("src",this.settings.placeholder),this.instance=this.$element.CFW_getID("cfw-lazy");for(var s=this.settings.trigger.split(" "),n=s.length;n--;){var a=s[n];"scroll"===a||"resize"===a?(t(this.settings.container).on(a+".cfw.lazy."+this.instance,t.CFW_throttle(this._handleTrigger.bind(this),this.settings.throttle)),i=!0):"mutate"===a?this.$element.attr("data-cfw-mutate","").on("mutate.cfw.mutate",this._handleTrigger.bind(this)):this.$element.on(a+".cfw.lazy",this.show.bind(this))}this.$element.CFW_trigger("init.cfw.lazy"),i&&this.inViewport()&&this.show()},inViewport:function(){return!(!this.settings.invisible&&!t.CFW_isVisible(this.$element)||this.belowFold()||this.afterRight()||this.aboveTop()||this.beforeLeft())},belowFold:function(){return(this.settings.container===window?(window.innerHeight?window.innerHeight:this.$window.height())+this.$window.scrollTop():t(this.settings.container).offset().top+t(this.settings.container).height())<=this.$element.offset().top-this.settings.threshold},afterRight:function(){return(this.settings.container===window?this.$window.width()+this.$window.scrollLeft():t(this.settings.container).offset().left+t(this.settings.container).width())<=this.$element.offset().left-this.settings.threshold},aboveTop:function(){return(this.settings.container===window?this.$window.scrollTop():t(this.settings.container).offset().top)>=this.$element.offset().top+this.settings.threshold+this.$element.height()},beforeLeft:function(){return(this.settings.container===window?this.$window.scrollLeft():t(this.settings.container).offset().left)>=this.$element.offset().left+this.settings.threshold+this.$element.width()},loadSrc:function(){var e=this;this.$element.attr("src",this.settings.src),t.CFW_imageLoaded(this.$element,this.instance,(function(){var t=function(){e.$element.removeClass("lazy in"),e.$element.CFW_trigger("afterShow.cfw.lazy"),e.dispose()};e.settings.animate&&e.$element.addClass("lazy"),setTimeout((function(){e.$element.addClass("in").CFW_transition(null,t)}),15)}))},show:function(){var t=this;this.inTransition||this.$element.CFW_trigger("beforeShow.cfw.lazy")&&(this.inTransition=!0,setTimeout((function(){t.loadSrc()}),t.settings.delay))},_handleTrigger:function(){null!==this.$element&&this.inViewport()&&this.show()},dispose:function(){t(this.settings.container).off(".cfw.lazy."+this.instance),this.$element.off(".cfw.lazy").off("load.cfw.imageLoaded."+this.instance).off(".cfw.mutate").removeData("cfw.lazy").removeAttr("data-cfw").removeAttr("data-cfw-mutate"),this.$element=null,this.$window=null,this.instance=null,this.inTransition=null,this.settings=null}},t.fn.CFW_Lazy=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.lazy"),r="object"==typeof i&&i;a||n.data("cfw.lazy",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Lazy.Constructor=e}(jQuery),function(t){var e=function(i,s){this.$element=t(i),this.$target=null,this.$window=t(window),this.instance="";var n=this.$element.CFW_parseData("equalize",e.DEFAULTS);this.settings=t.extend({},e.DEFAULTS,n,s),this._init()};e.DEFAULTS={target:"",throttle:250,stack:!1,row:!1,minimum:!1},e.prototype={_init:function(){var e=this,i=this.settings.target;void 0===i||i.length<=0||(this.$target=t(i,this.$element),this.$target.length||(this.$target=t('[data-cfw-equalize-group="'+i+'"]',this.$element)),this.$target.length&&(this.instance=t("<div/>").CFW_getID("cfw-equalize"),this._hasNested()&&this.$element.on("afterEqual.cfw.equalize",(function(t){t.target!==e.$element[0]&&e._equalize()})),this.$target.CFW_mutationListen(),this.$element.attr("data-cfw-mutate","").on("mutate.cfw.mutate",this._equalize.bind(this)),this.$window.on("resize.cfw.equalize."+this.instance,t.CFW_throttle(this._equalize.bind(this),this.settings.throttle)),this.$element.attr("data-cfw","equalize"),this.$element.CFW_trigger("init.cfw.equalize"),this.update()))},_hasNested:function(){return this.$element.find('[data-cfw="equalize"]').length>0},_isNested:function(){return this.$element.parentsUntil(document.body,'[data-cfw="equalize"]').length>0},_isStacked:function(t){return!(!t[0]||!t[1])&&t[0].getBoundingClientRect().top!==t[1].getBoundingClientRect().top},_equalize:function(){var t=this.$target.filter(":visible");t.length&&this.$element.CFW_trigger("beforeEqual.cfw.equalize")&&(this._equalizeGroup(t),this.$element.CFW_trigger("afterEqual.cfw.equalize"))},_equalizeGroup:function(t){this.$target.CFW_mutationIgnore(),t.height(""),this.settings.row||this.settings.stack?!this.settings.stack&&this._isStacked(t)||(this.settings.row?this._equalizeByRow(t):this._applyHeight(t)):this._applyHeight(t)},_equalizeByRow:function(e){var i=this,s=e.length,n=e.first().offset().top,a=t();e.each((function(e){var r=t(this);r.offset().top!==n&&(a.length>1&&i._applyHeight(a),a=t(),n=r.offset().top),a=a.add(r),e===s-1&&i._applyHeight(a)}))},_applyHeight:function(e,i){var s=e.map((function(){return t(this).outerHeight(!1)})).get(),n=this.settings.minimum?Math.min.apply(null,s):Math.max.apply(null,s);e.css("height",n),this.$target.CFW_mutationListen(),i&&i()},update:function(){var e=this,i=this.$element.find("img");i.length||i.each((function(){t.CFW_imageLoaded(t(this),e.instance,(function(){e._equalize()}))})),this._equalize()},dispose:function(){this.$window.off(".cfw.equalize."+this.instance),this.$element.off("mutate.cfw.mutate").removeAttr("data-cfw-mutate").removeData("cfw.equalize").find("img").off("load.cfw.imageLoaded."+this.instance),this.$target.CFW_mutationIgnore(),this.$element=null,this.$target=null,this.$window=null,this.instance=null,this.settings=null}},t.fn.CFW_Equalize=function(i){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.equalize"),r="object"==typeof i&&i;a||n.data("cfw.equalize",a=new e(this,r)),"string"==typeof i&&a[i].apply(a,s)}))},t.fn.CFW_Equalize.Constructor=e}(jQuery),function(t){var e={audio:null,video:null};e.audio=function(){var t=document.createElement("audio"),e=!1;try{(e=!!t.canPlayType)&&((e=new Boolean(e)).ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),e.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),e.opus=t.canPlayType('audio/ogg; codecs="opus"')||t.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return e}(),e.video=function(){var t=document.createElement("video"),e=!1;try{(e=!!t.canPlayType)&&((e=new Boolean(e)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),e.vp9=t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),e.hls=t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(t){}return e}();var i=function(e,s){this.$element=t(e),this.type="audio",this.$media=null,this.media=null,this.$player=null,this.$focus=null,this.$sources=null,this.$sliderSeek=null,this.$volSeek=null,this.activity=null,this.over=null,this.userActive=!0,this.activityTimer=null,this.mouseActivity=null,this.played=!1,this.status={duration:0,currentTime:0,remaining:0},this.support={mute:!0,volume:!0},this.trackValid=[],this.trackCurrent=-1,this.$captionWrapper=null,this.$scriptElm=null,this.scriptCurrent=-1,this.scriptCues=null,this.seekPoint=".player-transcript-seekpoint, .player-description-seekpoint",this.descCurrent=-1,this.descCues=null,this.trackDescription=[],this.$textDescribeElm=null,this.textDescribeCurrent=-1,this.textDescribeCues=null;var n=this.$element.CFW_parseData("player",i.DEFAULTS);this.settings=t.extend({},i.DEFAULTS,n,s),this._init()};i.DEFAULTS={mediaDescribe:!1,textDescribe:-1,textDescribeAnnounce:!1,textDescribeVisible:!0,transcript:-1,transcriptScroll:!0,transcriptDescribe:!0,transcriptOption:!0},i.prototype={_init:function(){this.$media=this.$element.find("audio, video"),this.media=this.$media[0],void 0!==this.media&&("video"===this.media.nodeName.toLowerCase()&&(this.type="video"),"audio"===this.type&&!e.audio||"video"===this.type&&!e.video?this.$media.CFW_trigger("noSupport.cfw.player"):(this.$sources=this.$media.find("source"),this.$sources.length&&(this.$sources.each((function(){t(this).attr("data-src-orig",t(this).attr("src"))})),this.$element.attr("data-cfw","player").addClass("player-unstarted"),this.$player=this.$element.find('[data-cfw-player="player"]'),this.$player.length>0&&(this.media.controls=!1),this.settings.mediaDescribe&&this.description(),this.loadComplete())))},insertPlayer:function(){var e=t(document.createElement("div")).addClass("player");this.$media.after(e)},loadCheck:function(){var t=this,e=0;try{this.media.play(),this.media.pause()}catch(t){return void this.error()}var i=setInterval((function(){return t.media.readyState>0?(clearInterval(i),void t.loadComplete()):3===t.media.networkState||75===e?(clearInterval(i),void t.error()):void e++}),50)},loadComplete:function(){var e=this;this.$media.on("error",(function(){e.error()})),this.$media.on("play canplay pause",(function(){e.controlStatus(),e.playedStatus()})),this.$media.on("loadedmetadata loadeddata progress canplay canplaythrough timeupdate durationchange",(function(){e.playedStatus(),e.timeStatus(),e.seekStatus()})),this.$media.on("ended",(function(){e.seekReset()})),this.$media.on("volumechange",(function(){e.muteStatus(),e.volumeStatus()})),"video"===this.type&&(t(document).on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange fullscreenchange",(function(){e.fullscreenStatus()})),this.$player.on("mouseenter mouseleave",(function(t){switch(e.activity=!0,t.type){case"mouseenter":e.over=!0;break;case"mouseleave":e.over=!1}})),this.$element.on("mousemove mousedown mouseup keydown keyup touchmove touchstart touchend",(function(t){switch(e.activity=!0,t.type){case"mousedown":case"touchstart":clearInterval(e.mouseActivity),e.mouseActivity=setInterval((function(){e.activity=!0}),250);break;case"mouseup":case"touchend":clearInterval(e.mouseActivity)}})),this.$media.on("click",(function(){e.toggle(),e._focusHelper()})),this.activityInit()),this.$player.on("click",'[data-cfw-player="play"]',(function(t){t.preventDefault(),e.media.play(),e._focusControl(e.$player.find('[data-cfw-player="pause"]')[0])})),this.$player.on("click",'[data-cfw-player="pause"]',(function(t){t.preventDefault(),e.media.pause(),e._focusControl(e.$player.find('[data-cfw-player="play"]')[0])})),this.$player.on("click",'[data-cfw-player="stop"]',(function(t){t.preventDefault(),e.stop(),e._focusControl(this)})),this.$player.on("click",'[data-cfw-player="mute"]',(function(t){t.preventDefault(),e.mute(),e._focusControl(this)})),this.$player.on("click",'[data-cfw-player="loop"]',(function(t){t.preventDefault(),e.loop(),e._focusControl(this)})),this.$player.on("click",'[data-cfw-player="fullscreen"]',(function(t){t.preventDefault(),e.fullscreen(),e._focusControl(this)})),this.$player.on("click",'[data-cfw-player="description"]',(function(t){t.preventDefault(),e.description(),e._focusControl(this)})),this.$element.on("keydown",(function(t){e._actionsKeydown(t)})),this.controlStatus(),this.volumeSupport(),this.timeStatus(),this.seekStatus(),this.muteStatus(),this.volumeStatus(),this.loopStatus();var i=this.$element.find('[data-cfw-player="caption-display"]');i.length&&(this.$captionWrapper=i,this.captionDisplayUpdate(null)),this.trackList(),this.trackInit(),this.scriptInit(),this.textDescriptionInit(),this.$player.addClass("ready");var s=document.createElement("div");s.className="player-focus sr-only",s.tabIndex="-1",this.$focus=t(s),this.$element.prepend(this.$focus),this.$media.CFW_trigger("ready.cfw.player"),this.media.autoplay&&this.media.play(),this.$element.attr("data-cfw-mutate","").CFW_mutationListen().on("mutate.cfw.mutate",(function(){t(this).is(":hidden")&&e.media.pause()}))},error:function(){this.$media.CFW_trigger("error.cfw.player")},toggle:function(){this.media.paused?(this.playedStatus(!0),this.media.play()):this.media.pause()},play:function(){this.playedStatus(!0),this.media.play()},pause:function(){this.media.pause()},stop:function(){this.media.pause(),this.seekTo(0)},controlStatus:function(){var t=this.$player.find('[data-cfw-player="control"]'),e=this.$player.find('[data-cfw-player="play"]'),i=this.$player.find('[data-cfw-player="pause"]');t.removeClass("pause play"),e.add(i).removeClass("on off").addClass("off"),this.media.paused?(t.addClass("pause"),e.removeClass("off").addClass("on"),this.$element.addClass("player-paused")):(t.addClass("play"),i.removeClass("off").addClass("on"),this.$element.removeClass("player-paused"))},playedStatus:function(t){void 0===t&&(t=!1),this.played||(t||this.media.played.length>0)&&(this.played=!0,this.$element.removeClass("player-unstarted"))},timeStatus:function(){this.status.duration=this.media.duration,this.status.currentTime=this.media.currentTime,this.status.remaining=this.status.duration-this.status.currentTime,this.status.remaining<0&&(this.status.remaining=0);var t=this.$player.find('[data-cfw-player="time-duration"]'),e=this.$player.find('[data-cfw-player="time-current"]'),i=this.$player.find('[data-cfw-player="time-remainder"]');this.status.duration>0?this.$player.removeClass("player-notime"):this.$player.addClass("player-notime"),this.status.duration===1/0?this.$player.addClass("player-live"):this.$player.removeClass("player-live"),t.html(this.timeSplit(this.status.duration)),e.html(this.timeSplit(this.status.currentTime)),i.html(this.timeSplit(this.status.remaining))},timeSplit:function(t){(isNaN(t)||t===1/0)&&(t=0);var e=Math.floor(t/3600),i=Math.floor(t/60)-60*e,s=Math.floor(t)-3600*e-60*i,n=this.timeDigits(i)+":"+this.timeDigits(s);return e>0&&(n=e+":"+n),0===n.indexOf("0")&&(n=n.substr(1)),n},timeDigits:function(t){return("0"+t).slice(-2)},seekStatus:function(){this.$player.find('[data-cfw-player="seek"]').find('input[type="range"]').length?this.seekRange():this.seekProgress()},seekRange:function(){var e=this;if(!isNaN(this.media.duration)&&this.media.duration!==1/0){var i=this.$player.find('[data-cfw-player="seek"]').find('input[type="range"]').eq(0);null===this.$sliderSeek&&(this.$sliderSeek=i,i.prop({min:0,max:this.media.duration,step:1}),i.on("change input",(function(){var t=parseFloat(i.val()),s=e.media.paused;e.media.pause(),e.seekTo(t),s||e.media.play()})),i.on("keydown",(function(e){"keydown"===e.type&&e.stopPropagation(),t(this).off("keyup.cfw.playerSeek"),t(this).one("keyup.cfw.playerSeek",(function(t){"keyup"===t.type&&t.stopPropagation()}))}))),i.val(this.media.currentTime);var s=this.timeSplit(this.media.currentTime)+" / "+this.timeSplit(this.media.duration);i.attr("aria-valuetext",s)}},seekProgress:function(){if(!isNaN(this.media.duration)&&this.media.duration!==1/0){var t=this.$player.find('[data-cfw-player="seek-current"]'),e=t.children(".progress-bar").length>0?t.children(".progress-bar").first():t,i=this.media.currentTime/this.media.duration*100;i>100&&(i=100),t.attr({role:"progressbar","aria-label":"Playback progress","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i}),e.css("width",i+"%")}},seekReset:function(){this.media.loop?this.media.play():this.media.pause()},seekIncrement:function(t){var e=this.media.currentTime+t;e<0&&(e=0),e>this.media.duration&&(e=this.media.duration),this.seekTo(e)},seekTo:function(t){var e=this.media.seekable;e.length>0&&t>=e.start(0)&&t<=e.end(0)&&(this.media.currentTime=t)},mute:function(){this.media.muted=!this.media.muted,this.muteStatus(),this.volumeStatus()},muteStatus:function(){var e=this.$player.find('[data-cfw-player="mute"]');this.support.mute?this.media.muted?e.addClass("active"):e.removeClass("active"):t.CFW_controlDisable(e)},volumeSupport:function(){var t=this.media.muted,e=this.media.volume,i=.5;.5===this.media.volume&&(i=.25),this.media.volume=i,this.media.volume!==i&&(this.support.mute=!1,this.support.volume=!1),this.media.volume=e,this.media.muted=t},volumeStatus:function(){this.$player.find('[data-cfw-player="volume"]').find('input[type="range"]').length&&this.volumeRange()},volumeRange:function(){var e=this,i=this.$player.find('[data-cfw-player="volume"]');if(this.support.mute){var s=i.find('input[type="range"]').eq(0);if(null===this.$volSeek&&(this.$volSeek=s,s.prop({min:0,max:1,step:.05}),s.on("change input",(function(){var t=parseFloat(s.val());0===t?e.media.muted=!0:(e.media.muted=!1,e.media.volume=t)})),s.on("keydown",(function(e){"keydown"===e.type&&e.stopPropagation(),t(this).off("keyup.cfw.playerSeek"),t(this).one("keyup.cfw.playerSeek",(function(t){"keyup"===t.type&&t.stopPropagation()}))}))),this.media.muted)s.val(0),s.attr("aria-valuetext","0%");else{s.val(this.media.volume);var n=parseInt(100*this.media.volume,10);s.attr("aria-valuetext",n+"%")}}else t.CFW_controlDisable(i)},volumeIncrement:function(t){var e=100*this.media.volume+t;e<0&&(e=0),e>100&&(e=100),this.media.volume=parseInt(e,10)/100},loop:function(t){this.media.loop=void 0!==t?t:!this.media.loop,this.loopStatus()},speed:function(t){void 0!==t&&(this.media.playbackRate=t)},loopStatus:function(){var t=this.$player.find('[data-cfw-player="loop"]');this.media.loop?(t.addClass("active"),this._pressedState(t,!0)):(t.removeClass("active"),this._pressedState(t,!1))},isFullScreen:function(){return t(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement).is(this.$element)},fullscreen:function(){if("audio"!==this.type)if(this.isFullScreen())document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var t=this.$element[0];t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},fullscreenStatus:function(){var t=this.$player.find('[data-cfw-player="fullscreen"]');this.isFullScreen()?(t.addClass("active"),this.$element.addClass("player-fulldisplay"),this.$media.CFW_trigger("enterFullscreen.cfw.player")):(t.removeClass("active"),this.$element.removeClass("player-fulldisplay"),this.$media.CFW_trigger("exitFullscreen.cfw.player"))},_srcHasAlternate:function(t){return this.$sources[0].hasAttribute("data-src-"+t)},_srcIsAlternate:function(t){return this.$sources.first().attr("data-src-"+t)===this.$sources.first().attr("src")},_srcLoadAlternate:function(e){var i=this,s=this.media.currentTime,n=this.media.paused;this.$sources.each((function(){t(this).attr("src",t(this).attr("data-src-"+e))})),this.$media.one("loadeddata",(function(){i.seekTo(s),n||i.media.play()})),this.media.load()},description:function(){if(this._srcHasAlternate("describe")){var t=this.$player.find('[data-cfw-player="description"]');this._srcIsAlternate("describe")?(this._srcLoadAlternate("orig"),t.removeClass("active")):(this._srcLoadAlternate("describe"),t.addClass("active"))}},trackList:function(){var t=this,e=this.media.textTracks;if(!(e.length<=0)){for(var i=[],s=[],n=0;n<e.length;n++)"captions"!==e[n].kind&&"subtitles"!==e[n].kind||i.push(n),"descriptions"===e[n].kind&&s.push(n);this.trackValid=i,this.trackDescription=s,this.media.textTracks.addEventListener("change",(function(){t.trackStatus()}))}},trackInit:function(){var e=this,i=this.$player.find('[data-cfw-player="caption"]');if(!(i.length<=0))if(this.trackValid.length<=0)t.CFW_controlDisable(i);else{if(1===this.trackValid.length)this.$player.on("click",'[data-cfw-player="caption"]',(function(t){t.preventDefault(),i.hasClass("active")?e.trackSet(-1):e.trackSet(0),e._focusControl(this)})),"showing"===this.media.textTracks[0].mode&&this.trackSet(0);else{var s=t('<ul class="player-caption-menu dropdown-menu"></ul>');i.wrap('<span class="player-caption-wrapper"></span>'),i.parent().append(s);var n=s.CFW_getID("cfw-player"),a=t('<li class="player-caption-off"><button type="button" class="dropdown-item" data-cfw-player-track="-1">Off</button></li>');s.append(a);for(var r=this.media.textTracks,o=0;o<r.length;o++)"showing"===r[o].mode&&this.trackSet(o);for(var l=0;l<this.trackValid.length;l++){var c=this.trackValid[l];a=t('<li><button type="button" class="dropdown-item" data-cfw-player-track="'+c+'">'+r[c].label+"</button></li>"),s.append(a)}this.$player.on("click","[data-cfw-player-track]",(function(i){i.preventDefault();var s=t(this).attr("data-cfw-player-track");e.trackSet(s)})),i.CFW_Dropdown({target:"#"+n})}this.trackStatus()}},trackSet:function(t){t=parseInt(t,10);var e=this.media.textTracks;if(!(e.length<=0)){-1!==this.trackCurrent&&this._cuechangeDisable(this.trackCurrent,"captionDisplay"),this.trackCurrent=t;for(var i=0;i<e.length;i++)"showing"===e[i].mode&&(e[i].mode="hidden"),i===t&&(e[i].mode=null!==this.$captionWrapper?"hidden":"showing");-1!==this.trackCurrent&&null!==this.$captionWrapper&&this._cuechangeEnable(this.trackCurrent,"captionDisplay",this.captionDisplayUpdate),this.trackStatus()}},trackStatus:function(){var t=this.media.textTracks;if(!(t.length<=0)){var e=this.$player.find('[data-cfw-player="caption"]');if(!(e.length<=0))if(1===this.trackValid.length)-1===this.trackCurrent?(e.removeClass("active"),this._pressedState(e,!1)):(e.addClass("active"),this._pressedState(e,!0));else{var i=e.parent();e.removeClass("active"),i.removeClass("active"),i.find("[data-cfw-player-track]").removeClass("active").removeAttr("aria-pressed");for(var s=0;s<t.length;s++)s===this.trackCurrent&&(e.addClass("active"),i.addClass("active"),i.find('[data-cfw-player-track="'+s+'"]').addClass("active").attr("aria-pressed","true"))}}},scriptInit:function(){var e=this,i=this.$player.find('[data-cfw-player="transcript"]');if(!(i.length<=0))if(this.trackValid.length<=0)t.CFW_controlDisable(i);else{if(1!==this.trackValid.length||this.settings.transcriptOption){var s=t('<ul class="player-script-menu dropdown-menu"></ul>');i.wrap('<span class="player-script-wrapper"></span>'),i.parent().append(s);var n=s.CFW_getID("cfw-player"),a=t('<li class="player-script-off"><button type="button" class="dropdown-item" data-cfw-player-script="-1">Off</button></li>');s.append(a);for(var r=this.media.textTracks,o=0;o<this.trackValid.length;o++){var l=this.trackValid[o];a=t('<li><button type="button" class="dropdown-item" data-cfw-player-script="'+l+'">'+r[l].label+"</a></li>"),s.append(a)}if(this.settings.transcriptOption){a=t('<li class="dropdown-divider"></li>'),s.append(a);var c=this.settings.transcriptScroll?"checked":"",h="transcriptScroll-"+n;a=t('<li class="dropdown-text"><div class="form-check"><input type="checkbox" data-cfw-player-script-scroll class="form-check-input" '+c+' id="'+h+'"> <label class="form-check-label" for="'+h+'">Auto-scroll</label></div></li>'),s.append(a);var d=this.settings.transcriptDescribe?"checked":"",f="transcriptDescribe-"+n;a=t('<li class="dropdown-text"><div class="form-check"><input type="checkbox" data-cfw-player-script-describe class="form-check-input" '+d+' id="'+f+'"> <label class="form-check-label" for="'+f+'">Show Description</label></div></li>'),s.append(a)}this.$player.on("click","[data-cfw-player-script]",(function(i){i.preventDefault();var s=t(this).attr("data-cfw-player-script");e.scriptSet(s)})),this.settings.transcriptOption&&(this.$player.on("click","[data-cfw-player-script-scroll]",(function(){e.settings.transcriptScroll=!e.settings.transcriptScroll,t(this).prop("checked",e.settings.transcriptScroll)})),this.$player.on("click","[data-cfw-player-script-describe]",(function(i){t.CFW_isDisabled(i.target)||(e.settings.transcriptDescribe=!e.settings.transcriptDescribe,t(this).prop("checked",e.settings.transcriptDescribe),e.scriptLoad())}))),i.CFW_Dropdown({target:"#"+n})}else i.removeClass("active"),this._pressedState(i,!1),i.on("click",(function(t){t.preventDefault(),i.hasClass("active")?e.scriptSet(-1):e.scriptSet(0),e._focusControl(this)}));-1!==this.settings.transcript&&this.scriptSet(this.settings.transcript)}},scriptSet:function(t){if(t=parseInt(t,10),!(this.trackValid.length<=0)&&(-1!==this.trackValid.indexOf(t)||-1===t)&&t!==this.scriptCurrent&&(-1!==t||null===this.$scriptElm||this.$media.CFW_trigger("beforeTranscriptHide.cfw.player"))&&this.$media.CFW_trigger("beforeTranscriptShow.cfw.player")){var e=this.$player.find('[data-cfw-player="transcript"]');if(null!==this.$scriptElm&&(this.$scriptElm.remove(),this.$scriptElm=null),this.$element.removeClass("player-scriptshow"),e.length)if(1!==this.trackValid.length||this.settings.transcriptOption){var i=e.parent();e.removeClass("active"),i.removeClass("active"),i.find("[data-cfw-player-script]").removeClass("active").removeAttr("aria-pressed")}else e.removeClass("active"),this._pressedState(e,!1);-1!==this.scriptCurrent&&this._cuechangeDisable(this.scriptCurrent,"transcript"),this.scriptCurrent=t,-1===t?(this.scriptCues=null,this.descCues=null,this.$media.CFW_trigger("afterTranscriptHide.cfw.player")):this.scriptLoad()}},scriptLoad:function(e){var i=this;void 0===e&&(e=!1),this.$media.off("loadeddata.cfw.player.script");var s=this.media.textTracks,n=s.length;n<=0&&(this.scriptCues=null,this.descCurrent=-1,this.descCues=null);for(var a=-1===this.trackCurrent?null:s[this.trackCurrent].mode,r=0;r<n;r++)s[r].mode="hidden";null!==a&&(s[this.trackCurrent].mode=a);var o=!1;if(this.descCurrent=-1,this.descCues=null,-1!==this.scriptCurrent)for(var l=s[this.scriptCurrent].language,c=0;c<n;c++)l===s[c].language&&"descriptions"===s[c].kind&&(i.settings.transcriptDescribe&&(i.descCurrent=c),o=!0);var h=this.$player.find("[data-cfw-player-script-describe]");o?t.CFW_controlEnable(h):t.CFW_controlDisable(h);for(var d=!1,f=0;f<n;f++)"descriptions"===s[f].kind&&(d=!0);var u=this.$player.find('[data-cfw-player="textdescription"]');d?t.CFW_controlEnable(u):t.CFW_controlDisable(u),setTimeout((function(){!function(t){var e=i.media.textTracks,s=-1===i.scriptCurrent?null:e[i.scriptCurrent].cues,n=-1===i.descCurrent?null:e[i.descCurrent].cues,a=-1===i.textDescribeCurrent?null:e[i.textDescribeCurrent].cues;if(s&&s.length<=0&&!t)return i.$media.one("loadeddata.cfw.player.script",(function(){i.scriptLoad(!0)})),void i.$media.trigger("load");i.scriptCues=s,i.descCues=n,i.textDescribeCues=a,i.scriptProcess()}(e)}),100)},scriptProcess:function(){var e=this;if(null!==this.scriptCues||null!==this.descCues){var i=function(e,i){var s=t('<span class="player-transcript-seekpoint player-transcript-caption"></span>'),n=i.getCueAsHTML();s.append(n),s.attr({"data-start":i.startTime.toString(),"data-end":i.endTime.toString()}),e.append(s),e.append("\n")},s=function(e,i){var s=t('<div class="player-description"></div>');s.append('<span class="sr-only">Description: </span>');var n=t('<span class="player-description-seekpoint player-description-caption"></span>'),a=i.getCueAsHTML();n.append(a),n.attr({"data-start":i.startTime.toString(),"data-end":i.endTime.toString()}),s.append(n),e.append(s),e.append("\n")},n=this.$player.find('[data-cfw-player="transcript"]');if(this.$element.addClass("player-scriptshow"),1!==this.trackValid.length||this.settings.transcriptOption){if(n.length){var a=n.parent();n.addClass("active"),a.addClass("active"),a.find('[data-cfw-player-script="'+this.scriptCurrent+'"]').addClass("active").attr("aria-pressed","true")}}else n.addClass("active"),this._pressedState(n,!0);this.$element.find(".player-transcript").remove();var r=t('<div class="player-transcript"></div>');this.$element.append(r),this.$scriptElm=this.$element.find(".player-transcript");for(var o=this.scriptCues||[],l=this.descCues||[],c=0,h=0,d=null;c<o.length||h<l.length;)null!==(d=h<l.length&&c<o.length?Math.min(l[h].startTime,o[c].startTime):null)?void 0!==l[h]&&l[h].startTime===d?(s(this.$scriptElm,l[h]),h+=1):(i(this.$scriptElm,o[c]),c+=1):h<l.length?(s(this.$scriptElm,l[h]),h+=1):c<o.length&&(i(this.$scriptElm,o[c]),c+=1);this._cuechangeEnable(this.scriptCurrent,"transcript",this.scriptHighlight),t(this.seekPoint,this.$scriptElm).off("click.cfw.player.scriptseek").on("click.cfw.player.scriptseek",(function(){var i=parseFloat(t(this).attr("data-start"));e.scriptSeek(i)})),this.$media.CFW_trigger("afterTranscriptShow.cfw.player")}},scriptHighlight:function(e){if(t(".player-transcript-active",this.$scriptElm).removeClass("player-transcript-active"),!(e.length<=0)){var i=e[0].startTime,s=t('.player-transcript-caption[data-start="'+i+'"]',this.$scriptElm);if(s.addClass("player-transcript-active"),this.settings.transcriptScroll){var n=this.$scriptElm.scrollTop(),a=this.$scriptElm.innerHeight()/2,r=s.position().top,o=s.height()/2,l=Math.floor(n+r-a+o);l!==Math.floor(n)&&this.$scriptElm.scrollTop(l)}}},scriptSeek:function(t){var e=this;t+=.01,this.media.readyState<2?(this.$media.one("canplay",(function(){e.seekTo(t)})),this.$media.trigger("load")):this.seekTo(t)},textDescriptionInit:function(){var e=this,i=this.$player.find('[data-cfw-player="textdescription"]');if(!(i.length<=0))if(this.trackDescription.length<=0)t.CFW_controlDisable(i);else{var s=t('<ul class="player-text-describe-menu dropdown-menu"></ul>');i.wrap('<span class="player-text-describe-wrapper"></span>'),i.parent().append(s);var n=s.CFW_getID("cfw-player"),a=t('<li class="player-text-describe-off"><button type="button" class="dropdown-item" data-cfw-player-text-describe="-1">Off</button></li>');s.append(a);for(var r=this.media.textTracks,o=0;o<this.trackDescription.length;o++){var l=this.trackDescription[o];a=t('<li><button type="button" class="dropdown-item" data-cfw-player-text-describe="'+l+'">'+r[l].label+"</a></li>"),s.append(a)}if(this.settings.transcriptOption){a=t('<li class="dropdown-divider"></li>'),s.append(a);var c=this.settings.textDescribeAnnounce?"checked":"",h="textDescribeAnnounce-"+n;a=t('<li class="dropdown-text"><div class="form-check"><input type="checkbox" data-cfw-player-text-describe-announce class="form-check-input" '+c+' id="'+h+'"> <label class="form-check-label" for="'+h+'">Announce with Screen Reader</label></div></li>'),s.append(a);var d=this.settings.textDescribeVisible?"checked":"",f="textDescribeVisible-"+n;a=t('<li class="dropdown-text"><div class="form-check"><input type="checkbox" data-cfw-player-text-describe-visible class="form-check-input" '+d+' id="'+f+'"> <label class="form-check-label" for="'+f+'">Visible Description</label></div></li>'),s.append(a)}this.$player.on("click","[data-cfw-player-text-describe]",(function(i){i.preventDefault();var s=t(this).attr("data-cfw-player-text-describe");e.textDescriptionSet(s)})),this.settings.transcriptOption&&(this.$player.on("click","[data-cfw-player-text-describe-announce]",(function(){e.settings.textDescribeAnnounce=!e.settings.textDescribeAnnounce,t(this).prop("checked",e.settings.textDescribeAnnounce),e.textDescriptionSet(e.textDescribeCurrent)})),this.$player.on("click","[data-cfw-player-text-describe-visible]",(function(i){t.CFW_isDisabled(i.target)||(e.settings.textDescribeVisible=!e.settings.textDescribeVisible,t(this).prop("checked",e.settings.textDescribeVisible),e.textDescriptionSet(e.textDescribeCurrent))}))),i.CFW_Dropdown({target:"#"+n}),this.textDescriptionSet(this.settings.textDescribe)}},textDescriptionSet:function(e){if(e=parseInt(e,10),!(this.trackDescription.length<=0||-1===this.trackDescription.indexOf(e)&&-1!==e)){if(-1===e&&null!==this.$textDescribeElm){if(!this.$media.CFW_trigger("beforeTextDescriptionHide.cfw.player"))return}else if(!this.$media.CFW_trigger("beforeTextDescriptionShow.cfw.player"))return;null!==this.$textDescribeElm&&(this.$textDescribeElm.remove(),this.$textDescribeElm=null),this.$element.removeClass("player-textdescshow"),this.$element.find(".player-textdesc-announce").remove(),this.$element.find(".player-textdesc-visible").remove();var i=this.$player.find('[data-cfw-player="textdescription"]');if(i.length){var s=i.parent();i.removeClass("active"),s.removeClass("active"),s.find("[data-cfw-player-text-describe]").removeClass("active").removeAttr("aria-pressed"),-1!==e&&(i.addClass("active"),s.addClass("active"),s.find('[data-cfw-player-text-describe="'+e+'"]').addClass("active").attr("aria-pressed","true"))}if(-1!==this.textDescribeCurrent&&this._cuechangeDisable(this.textDescribeCurrent,"textdescribe"),this.textDescribeCurrent=e,-1===e?(this.textDescribeCues=null,this.$media.CFW_trigger("afterTextDescriptionHide.cfw.player")):this.scriptLoad(),-1!==e){var n=t('<div class="player-textdesc"></div>'),a=this.media.textTracks[e].language;a.length&&n.attr("lang",a),this.settings.textDescribeAnnounce&&n.attr({"aria-live":"assertive","aria-atomic":"true"}),this.settings.textDescribeVisible||n.addClass("sr-only"),this.$element.append(n),this.$textDescribeElm=this.$element.find(".player-textdesc"),this._cuechangeEnable(this.textDescribeCurrent,"textdescribe",this.textDescribeUpdate),this.$media.CFW_trigger("afterTextDescriptionShow.cfw.player")}}},textDescribeUpdate:function(e){if(null===e||e.length<=0)this.$textDescribeElm.empty();else{var i=t(document.createElement("div"));i.append(e[0].getCueAsHTML());var s=i.html().replace("\n","<br>");this.$textDescribeElm.append(s)}},activityInit:function(){var t=this;setInterval((function(){t.activity&&!t.over&&(t.activity=!1,clearTimeout(t.activityTimer),t.activityStatus(!0),t.activityTimer=setTimeout((function(){t.activity||t.activityStatus(!1)}),1e3))}),250)},activityStatus:function(t){t!==this.userActive&&(this.userActive=t,t?(this.activity=!0,this.$element.removeClass("player-inactive")):(this.activity=!1,this.$element.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.$element.addClass("player-inactive")))},captionDisplayUpdate:function(e){if(null!==this.$captionWrapper)if(-1===this.trackCurrent||null===e||e.length<=0)this.$captionWrapper.attr("aria-hidden","true").css("display","none").empty();else{var i=t(document.createElement("div"));i.append(e[0].getCueAsHTML());var s=i.html().replace("\n","<br>");this.$captionWrapper.removeAttr("aria-hidden").css("display","").append(s)}},_actionsKeydown:function(e){if(/(32|33|34|35|36|37|38|39|40|70|77)/.test(e.which)&&32!==e.which&&"button"!==e.target.tagName&&"button"!==t(e.target).attr("role"))switch(e.stopPropagation(),e.preventDefault(),e.which){case 32:this.media.paused?this.media.play():this.media.pause(),this._focusHelper();break;case 38:this.volumeIncrement(5);break;case 40:this.volumeIncrement(-5);break;case 36:this.seekTo(0);break;case 35:this.seekTo(this.media.duration);break;case 37:this.seekIncrement(-5);break;case 39:this.seekIncrement(5);break;case 33:this.seekIncrement(this.status.duration/5);break;case 34:this.seekIncrement(this.status.duration/-5);break;case 70:this.fullscreen();break;case 77:this.mute()}},_pressedState:function(t,e){if(!(t.length<=0)){var i=t.get(0).nodeName.toLowerCase(),s=t.attr("role");"button"!==i&&"button"!==s||t.attr("aria-pressed",e)}},_focusControl:function(e){var i=t(e);i.length<=0||setTimeout((function(){i.is("a, button")?i.trigger("focus"):i.find("a:visible, button:visible").eq(0).trigger("focus")}),150)},_focusHelper:function(){var e=this,i=t(document.activeElement);setTimeout((function(){i.is(":visible")||e.$focus.trigger("focus")}),10)},_cuechangeEnable:function(e,i,s){var n,a=this;void 0!==this.media.textTracks[e].oncuechange?t(this.media.textTracks[e]).on("cuechange.cfw.player."+i,(function(){s.call(a,this.activeCues)})):this.$media.on("timeupdate.cfw.player."+i,(function(){var t=a.media.textTracks[e].activeCues;s.call(a,t)})),void 0!==this.media.textTracks[e].oncuechange?(n=t.Event("cuechange"),t(this.media.textTracks[e]).trigger(n)):(n=t.Event("timeupdate"),this.$media.trigger(n))},_cuechangeDisable:function(e,i){t(this.media.textTracks[e]).off("cuechange.cfw.player."+i),this.$media.off("timeupdate.cfw.player."+i)},dispose:function(){clearTimeout(this.activityTimer),this.$scriptElm&&(t(this.seekPoint,this.$scriptElm).off(".cfw.player.seekpoint"),this.$scriptElm.remove()),this.$sliderSeek&&this.$sliderSeek.off(),this.$volSeek&&this.$volSeek.off(),t.hasData(this.$player.find('[data-cfw-player="caption"]'))&&this.$player.find('[data-cfw-player="caption"]').CFW_Dropdown("dispose"),t.hasData(this.$player.find('[data-cfw-player="transcript"]'))&&this.$player.find('[data-cfw-player="transcript"]').CFW_Dropdown("dispose"),this.$player.off(),this.$media.off(),this.$element.off().removeData("cfw.player"),this.$element=null,this.type=null,this.$media=null,this.media=null,this.$player=null,this.$sources=null,this.$focus=null,this.$sliderSeek=null,this.$volSeek=null,this.activity=null,this.over=null,this.userActive=null,this.activityTimer=null,this.mouseActivity=null,this.played=null,this.status=null,this.support=null,this.trackValid=null,this.trackCurrent=null,this.$captionWrapper=null,this.$scriptElm=null,this.scriptCurrent=null,this.scriptCues=null,this.descCues=null,this.trackDescription=null,this.$textDescribeElm=null,this.textDescribeCurrent=null,this.textDescribeCues=null,this.settings=null}},t.fn.CFW_Player=function(e){var s=[].splice.call(arguments,1);return this.each((function(){var n=t(this),a=n.data("cfw.player"),r="object"==typeof e&&e;a||n.data("cfw.player",a=new i(this,r)),"string"==typeof e&&a[e].apply(a,s)}))},t.fn.CFW_Player.Constructor=i}(jQuery),function(t){var e={'[data-cfw="collapse"]':"CFW_Collapse",'[data-cfw="dropdown"]':"CFW_Dropdown",'[data-cfw="tab"]':"CFW_Tab",'[data-cfw="tooltip"]':"CFW_Tooltip",'[data-cfw="popover"]':"CFW_Popover",'[data-cfw="offcanvas"]':"CFW_Offcanvas",'[data-cfw="modal"]':"CFW_Modal",'[data-cfw="affix"]':"CFW_Affix",'[data-cfw="tabResponsive"]':"CFW_TabResponsive",'[data-cfw="accordion"]':"CFW_Accordion",'[data-cfw="slideshow"]':"CFW_Slideshow",'[data-cfw="scrollspy"]':"CFW_Scrollspy",'[data-cfw="lazy"]':"CFW_Lazy",'[data-cfw="equalize"]':"CFW_Equalize",'[data-cfw="player"]':"CFW_Player"};t.fn.CFW_Init=function(){var i=t(this);for(var s in i.length||(i=t(document.body)),e)"function"==typeof t.fn[e[s]]&&i.find(s).add(i.filter(s)).each((function(){t(this)[e[s]]()}));return this},t.fn.CFW_Dispose=function(){var i=t(this);for(var s in i.length||(i=t(document.body)),e)"function"==typeof t.fn[e[s]]&&i.find(s).add(i.filter(s)).each((function(){t(this)[e[s]]("dispose")}));return this},t(window).ready((function(){"undefined"!=typeof CFW_API&&!1===CFW_API||t(document.body).CFW_Init()}))}(jQuery);
//# sourceMappingURL=figuration.min.js.map