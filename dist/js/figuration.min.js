/*!
 * Figuration (v3.0.0-alpha.1)
 * http://figuration.org
 * Copyright 2013-2017 CAST, Inc.
 * Licensed under MIT (https://github.com/cast-org/figuration/blob/master/LICENSE)
 * -----
 * Portions Copyright 2011-2017  the Bootstrap Authors and Twitter, Inc.
 * Used under MIT License (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("CAST Figuration's JavaScript requires jQuery");!function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>=4)throw new Error("CAST Figuration's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(jQuery),function(a){"use strict";function b(a){a&&a()}function c(){var a=document.createElement("div"),b={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return{end:"cfwTransitionEnd"}}function d(a){var b=[0];a.each(function(){var c=a.css("transition-duration")||a.css("-webkit-transition-duration")||a.css("-moz-transition-duration")||a.css("-ms-transition-duration")||a.css("-o-transition-duration");if(c)for(var d=c.split(","),e=d.length;e--;)b=b.concat(parseFloat(d[e]))});var c=Math.max.apply(Math,b);return c*=1e3}function e(a,c){var e=d(this);if(e){var f=!1;this.one("cfwTransitionEnd",function(){f||(f=!0,b(c))}),setTimeout(function(){f||(f=!0,b(c))},e),b(a)}else b(a),b(c);return this}function f(){return{bindType:g.end,delegateType:g.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}}}String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var g=!1;g=c(),a.fn.CFW_transition=e,a.event.special.cfwTransitionEnd=f(),a.fn.CFW_getID=function(b){var c=a(this),d=c.attr("id");if(void 0===d){do d=b+"-"+~~(1e6*Math.random());while(document.getElementById(d));c.attr("id",d)}return d},a.fn.CFW_trigger=function(b,c){var d=a.Event(b);return a.isPlainObject(c)&&(d=a.extend({},d,c)),a(this).trigger(d),!d.isDefaultPrevented()},a.fn.CFW_parseData=function(b,c){var d={},e=a(this),f=e.data();b=b.capitalize();for(var g in c)if(c.hasOwnProperty(g)){var h=g.capitalize();void 0!==f["cfw"+b+h]&&(d[g]=f["cfw"+b+h])}return d},a.fn.CFW_throttle=function(a,b,c){void 0===b&&(b=250);var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&g<d+b?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}},a.fn.CFW_measureScrollbar=function(){var b=a(document.body),c=document.createElement("div");c.setAttribute("style"," position: absolute; top: -9999px; width: 50px; height: 50px; overflow: scroll;"),b.append(c);var d=c.getBoundingClientRect().width-c.clientWidth;return b[0].removeChild(c),d}}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.drag"),g="object"==typeof b&&b;if(!f&&/dispose/.test(b))return!1;f||e.data("cfw.drag",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.dragging=!1,this.dragdata={},this.settings=a.extend({},c.DEFAULTS,d),this._init()};c.DEFAULTS={handle:null},c.prototype={_init:function(){this._reset(),this._dragStartOn(),this.$element.CFW_trigger("init.cfw.drag")},dispose:function(){this.$element[0].detachEvent&&this.$element[0].detachEvent("ondragstart",this._dontStart),this._dragStartOff(),this.$element.off(".cfw.drag").removeData("cfw.drag"),this.$element=null,this.dragging=null,this.dragdata=null,this.settings=null},_dragStartOn:function(){this.$element.on("mousedown.cfw.dragstart touchstart.cfw.dragstart MSPointerDown.cfw.dragstart",a.proxy(this._dragStart,this)),this.$element[0].attachEvent&&this.$element[0].attachEvent("ondragstart",this._dontStart)},_dragStartOff:function(b){b&&b.preventDefault(),a(document).off(".cfw.dragin"),this.$element.off(".cfw.dragstart")},_dragStart:function(b){var c=this;if(!this.settings.handle||a(b.target).closest(this.settings.handle,b.currentTarget).length){this._dragStartOff(b),this.dragging=!0,a(document).off(".cfw.dragin").on("mousemove.cfw.dragin touchmove.cfw.dragin MSPointerMove.cfw.dragin",function(a){c._drag(a)}).on("mouseup.cfw.dragin touchend.cfw.dragin MSPointerUp.cfw.dragin MSPointerCancel.cfw.dragin",function(){c._dragEnd(b)});var d=this._coordinates(b);this.dragdata=d,this.dragdata.originalX=b.currentTarget.offsetLeft,this.dragdata.originalY=b.currentTarget.offsetTop;var e=this._properties(d,this.dragdata);this.$element.CFW_trigger("dragStart.cfw.drag",e)}},_drag:function(a){if(this.dragging){a.preventDefault();var b=this._coordinates(a),c=this._properties(b,this.dragdata);this.$element.CFW_trigger("drag.cfw.drag",c)}},_dragEnd:function(b){b.preventDefault(),this.dragging=!1,this.dragStart=null,a(document).off(".cfw.dragin");var c=this._coordinates(b),d=this._properties(c,this.dragdata);this.$element.CFW_trigger("dragEnd.cfw.drag",d),this._reset(),this._dragStartOn()},_reset:function(){this.dragging=!1,this.dragdata.pageX=null,this.dragdata.pageY=null},_coordinates:function(a){var b={};a.originalEvent&&(a=a.originalEvent);var c=a.touches;return b.pageX=c?c[0].pageX:a.pageX,b.pageY=c?c[0].pageY:a.pageY,b},_properties:function(a,b){var c={};return c.startX=b.pageX,c.startY=b.pageY,c.pageX=a.pageX,c.pageY=a.pageY,c.deltaX=a.pageX-b.pageX,c.deltaY=a.pageY-b.pageY,c.originalX=b.originalX,c.originalY=b.originalY,c.offsetX=c.originalX+c.deltaX,c.offsetY=c.originalY+c.deltaY,c},_dontStart:function(){return!1}},a.fn.CFW_Drag=b,a.fn.CFW_Drag.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.collapse"),g="object"==typeof b&&b;f||e.data("cfw.collapse",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$target=null,this.$triggers=null,this.inTransition=!1;var e=this.$element.CFW_parseData("collapse",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this._init()};c.DEFAULTS={toggle:null,animate:!0,follow:!1,horizontal:!1},c.prototype={_init:function(){var b=this.settings.toggle,c=a(this.settings.toggle);if(c.length||(c=a('[data-cfw-collapse-target="'+b+'"]')),c.length||(b=this.$element.attr("href"),c=a(b)),!c.length)return!1;if(void 0===b||b.length<=0)return!1;this.$target=c,this.$element.attr({"data-cfw":"collapse","data-cfw-collapse-toggle":b}),this.$triggers=a('[data-cfw="collapse"][data-cfw-collapse-toggle="'+b+'"],[data-cfw="collapse"][href="'+b+'"]'),this.$target.addClass("collapse"),this.settings.horizontal&&this.$target.addClass("width");var d="";this.$target.each(function(){d+=a(this).CFW_getID("cfw-collapse")+" "}),this.$triggers.attr("aria-controls",a.trim(d));var e=this.dimension();this.$triggers.hasClass("open")?(this.$triggers.attr("aria-expanded","true"),this.$target.addClass("collapse in")[e]("")):this.$triggers.attr("aria-expanded","false"),this.$element.on("click.cfw.collapse.toggle",a.proxy(this.toggle,this)).CFW_trigger("init.cfw.collapse")},toggle:function(a){a&&a.preventDefault(),this.$element.hasClass("open")||this.$target.hasClass("in")?this.hide():this.show()},dimension:function(){return this.$target.hasClass("width")||this.settings.horizontal?"width":"height"},show:function(b){function c(){e.$target.each(function(){a(this)[f](a(this)[0][g])})}function d(){e.$triggers.attr("aria-expanded","true"),e.$target.removeClass("collapsing").addClass("collapse in")[f](""),e.inTransition=!1,b&&e.$target.attr("tabindex","-1").get(0).trigger("focus"),e.$element.CFW_trigger("afterShow.cfw.collapse")}var e=this;if(null===b&&(b=this.settings.follow),!this.inTransition&&!this.$target.hasClass("in")&&this.$element.CFW_trigger("beforeShow.cfw.collapse")){var f=this.dimension();this.inTransition=!0,this.$triggers.addClass("open"),this.$target.removeClass("collapse")[f](0),this.settings.animate&&this.$target.addClass("collapsing");var g=a.camelCase(["scroll",f].join("-"));this.$target.eq(0).CFW_transition(c,d)}},hide:function(b){function c(){e.$target[f]("")}function d(){e.$triggers.attr("aria-expanded","false"),e.$target.removeClass("collapsing in").addClass("collapse"),e.inTransition=!1,b&&e.$element.trigger("focus"),e.$element.CFW_trigger("afterHide.cfw.collapse")}var e=this;if(null===b&&(b=this.settings.follow),!this.inTransition&&this.$target.hasClass("in")&&this.$element.CFW_trigger("beforeHide.cfw.collapse")){var f=this.dimension();this.inTransition=!0,this.$triggers.removeClass("open"),this.$target.each(function(){var b=a(this);b[f](b[f]())[0].offsetHeight}),this.$target.removeClass("collapse in"),this.settings.animate&&this.$target.addClass("collapsing"),this.$target.eq(0).CFW_transition(c,d)}},animDisable:function(){this.settings.animate=!1},animEnable:function(){this.settings.animate=!0},dispose:function(){this.$element.off(".cfw.collapse").removeData("cfw.collapse"),this.$element=null,this.$target=null,this.$triggers=null,this.inTransition=null,this.settings=null}},a.fn.CFW_Collapse=b,a.fn.CFW_Collapse.Constructor=c}(jQuery),function(a){"use strict";function b(b){var c,d=b.attr("data-cfw-dropdown-target");return d&&(c=a(d)),c&&c.length?c:b.parent()}function c(c){c&&3===c.which||a('[data-cfw="dropdown"]').each(function(){b(a(this)).hasClass("open")&&a(this).CFW_Dropdown("hideRev")})}function d(b){var c=[].splice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data("cfw.dropdown"),f="object"==typeof b&&b;e||d.data("cfw.dropdown",e=new g(this,f)),"string"==typeof b&&e[b].apply(e,c)})}var e=void 0!==window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints,f=!!("ontouchstart"in window||e||window.DocumentTouch&&document instanceof DocumentTouch),g=function(b,c){this.$element=a(b),this.$target=null,this.instance=null,this.timerHide=null;var d=this.$element.CFW_parseData("dropdown",g.DEFAULTS);this.settings=a.extend({},g.DEFAULTS,d,c),this.settings.isTouch=f,this.c=g.CLASSES,this._init()};g.CLASSES={isMenu:"dropdown-menu",hasSubMenu:"dropdown-submenu",showSubMenu:"show-menu",backdrop:"dropdown-backdrop",backLink:"dropdown-back",hover:"dropdown-hover"},g.DEFAULTS={toggle:null,delay:350,hover:!1,backlink:!1,backtop:!1,backtext:"Back"},g.prototype={_init:function(){var b=this,c=this.settings.toggle,d=a(this.settings.toggle);if(void 0===c||d.length||(d=a('[data-cfw-dropdown-target="'+c+'"]')),!d.length){var e=this.$element.attr("href");e=e&&/#[]A-Za-z]/.test(e),e&&(d=a(e))}if(d.length||(d=a(this.$element.siblings(".dropdown-menu")[0])),!d.length)return!1;if(this.$target=d,this.$element.attr("data-cfw","dropdown"),this.instance=this.$element.CFW_getID("cfw-dropdown"),c=this.$target.CFW_getID("cfw-dropdown"),this.$target.attr({"aria-hidden":"true","aria-labelledby":this.instance}).addClass(this.c.isMenu),a("a",this.$target).attr("tabIndex",-1).not(".disabled, :disabled"),this.$element.attr({"aria-haspopup":"true","aria-expanded":"false"}),this.settings.backlink&&this.settings.backtop){var f=a('<li class="'+this.c.backLink+'"><a href="#">'+this.settings.backtext+"</a></li>").prependTo(this.$target);this.$target.hasClass("dropdown-menu-left")&&f.addClass("dropdown-back-left")}this.$target.find("ul").each(function(){var c=a(this),d=c.closest("li").find("a").eq(0),e=d.CFW_getID("cfw-dropdown"),f=c.closest(".dropdown-menu-left, .dropdown-menu-right");if(f.hasClass("dropdown-menu-left")?c.closest("li").addClass("dropdown-subalign-left"):c.closest("li").addClass("dropdown-subalign-right"),b.settings.backlink){var g=a('<li class="'+b.c.backLink+'"><a href="#">'+b.settings.backtext+"</a></li>").prependTo(c);f.hasClass("dropdown-menu-left")&&g.addClass("dropdown-back-left")}c.attr({"aria-hidden":"true","aria-labelledby":e}).addClass(b.c.isMenu).closest("li").addClass(b.c.hasSubMenu),d.attr({"aria-haspopup":"true","aria-expanded":"false"})}),a(".dropdown-divider",this.$target).attr("role","separator"),!this.settings.isTouch&&this.settings.hover&&this.navEnableHover(),this.navEnableClick(),this.navEnableKeyboard(),this.$element.CFW_trigger("init.cfw.dropdown")},navEnableClick:function(){var b=this;this.$element.on("click.cfw.dropdown.modeClick",function(a){b.toggleMenu(a,b.$element,b.$target)});var c=this.$target.find("ul").closest("li").find("a:eq(0)");c.length&&c.on("click.cfw.dropdown.modeClick",function(c){var d=a(this).parent().find("ul").eq(0);b.toggleMenu(c,a(this),d)});var d=this.$target.find("."+this.c.backLink);d.length&&d.on("click.cfw.dropdown.modeClick",function(c){c&&(c.stopPropagation(),c.preventDefault()),b.settings.backtop&&a(this).closest("ul")[0]==b.$target[0]?b.closeUp(a(this).closest("li")):b.closeUp(a(this).closest("."+b.c.hasSubMenu))})},navEnableHover:function(){var b=this;this.settings.isTouch||a.each([this.$element,this.$target,this.$target.find("."+this.c.hasSubMenu)],function(){a(this).on("mouseenter.cfw.dropdown.modeHover",function(a){b._actionsHoverEnter(a,this)}),a(this).on("mouseleave.cfw.dropdown.modeHover",function(a){b._actionsHoverLeave(a,this)})})},navDisableHover:function(){this.$element.off(".cfw.dropdown.modeHover"),this.$target.find("."+this.c.hasSubMenu).off(".cfw.dropdown.modeHover")},navEnableKeyboard:function(){var b=this;this.$target.find("a").on("focus.cfw.dropdown",function(){var c=a(this);b.$target.find("."+b.c.hasSubMenu+".open").each(function(){if(!a(this).find(c).length){var d=a(this).children("a"),e=c.parent().find("ul").eq(0);b.hideMenu(null,d,e)}})}),a.each([this.$element,this.$target,this.$target.find("."+this.c.hasSubMenu)],function(){a(this).on("keydown.cfw.dropdown",function(a){b._actionsKeydown(a,this)})})},toggleMenu:function(a,d,e){if(!d.add().parent().is(".disabled, :disabled")){var f=b(d),g=f.hasClass("open"),h=d.attr("href");if(h&&!/^#$/.test(h)&&g)return void c();a&&a.stopPropagation(),g?this.hideMenu(a,d,e):this.showMenu(a,d,e),d.trigger("focus")}},showMenu:function(d,e,f){var g=this;d&&d.preventDefault();var h=b(e);h.hasClass("open")||e.CFW_trigger("beforeShow.cfw.dropdown")&&(e.is(this.$element)&&(this.settings.isTouch&&(a("."+this.c.backdrop).remove(),a(document.createElement("div")).addClass(this.c.backdrop).insertAfter(this.$target).on("click.cfw.dropdown",c)),c(),h.hasClass(this.c.hover)||e.trigger("focus"),a(document).on("focusin.cfw.dropdown."+this.instance,function(a){g.$element[0]===a.target||g.$target.has(a.target).length||g.hideRev()})),this.$target.find("."+this.c.hasSubMenu+".open").each(function(){if(!a(this).find(e).length){var b=a(this).children("a"),c=e.parent().find("ul").eq(0);g.hideMenu(null,b,c)}}),h.addClass("open"),e.attr("aria-expanded","true"),f.removeAttr("aria-hidden"),this.$target.find("li").redraw(),e.CFW_trigger("afterShow.cfw.dropdown"))},hideMenu:function(c,d,e){c&&c.preventDefault();var f=b(d);if(f.hasClass("open")&&d.CFW_trigger("beforeHide.cfw.dropdown")){d.is(this.$element)&&(a(document).off("focusin.cfw.dropdown."+this.instance),a("."+this.c.backdrop).remove());var g=e.find("."+this.c.hasSubMenu+".open");if(g.length)for(var h=g.toArray().reverse(),i=0;i<h.length;i++){var j=a(h[i]).children("a"),k=j.parent().find("ul").eq(0);this.hideMenu(null,j,k)}f.removeClass("open"),d.attr("aria-expanded","false"),e.attr("aria-hidden","true").find("a").attr("tabIndex",-1),f.hasClass(this.c.hover)||d.trigger("focus"),f.removeClass(this.c.hover),d.CFW_trigger("afterHide.cfw.dropdown")}},toggle:function(){this.toggleMenu(null,this.$element,this.$target)},show:function(){this.showMenu(null,this.$element,this.$target)},hide:function(){this.hideMenu(null,this.$element,this.$target)},hideRev:function(){this.hideMenu(null,this.$element,this.$target)},closeUp:function(a){var c;a=a.hasClass("open")?a.find("a").eq(0):a.closest(".open").find('[data-cfw="dropdown"], a').eq(0),c=a.find("ul").eq(0),this.hideMenu(null,a,c);var d=b(a);d.hasClass(this.c.hover)||a.trigger("focus"),d.removeClass(this.c.hover)},_actionsKeydown:function(b,d){if(/(37|38|39|40|27|32|9)/.test(b.which)){var e=a(d),f=null;if(9==b.which)return void c();if(b.stopPropagation(),b.preventDefault(),27==b.which){if(e.is(this.$element)||e.is(this.$target))return void this.hideMenu(null,this.$element,this.$target);if(e.hasClass(this.c.hasSubMenu))return void this.closeUp(e)}var g=a(b.target),h=null;if(h=e.is(this.$element)||e.is(this.$target)?this.$target:g.closest(".dropdown-menu"),h.removeClass(this.c.hover),38==b.which||40==b.which){if(h.is(":hidden"))return void this.showMenu(null,e,h);if(f=h.children("li").children("a:not(.disabled):visible"),!f.length)return;var i=f.index(b.target);38==b.which&&i>0&&i--,40==b.which&&i<f.length-1&&i++,~i||(i=0),f.eq(i).trigger("focus")}if(37==b.which||39==b.which){if(!a.contains(this.$target[0],g[0]))return;if(!g.closest("li.dropdown-submenu"))return;var j=g.parent().find("ul").eq(0),k=g.closest("li.dropdown-submenu").parent("ul.dropdown-menu"),l=j.is(":hidden"),m=k.is(":hidden");if(39==b.which&&l)return this.showMenu(null,g,j),f=j.children("li").children("a:not(.disabled):visible"),void f.eq(0).trigger("focus");if(37==b.which&&!m)return void this.closeUp(e)}}},_actionsHoverEnter:function(c,d){var e=a(d);if(clearTimeout(this.timerHide),e.is(this.$element))return b(e).addClass(this.c.hover),void this.showMenu(null,this.$element,this.$target);if(e.hasClass(this.c.hasSubMenu)){e=e.find("a").eq(0);var f=e.parent().find("ul").eq(0);return b(e).addClass(this.c.hover),void this.showMenu(null,e,f)}},_actionsHoverLeave:function(b,c){var d=this,e=a(c);if(clearTimeout(this.timerHide),e.is(this.$element)||e.is(this.$target))return void(this.timerHide=setTimeout(function(){d.timerHide=null,d.hideMenu(null,d.$element,d.$target)},this.settings.delay));if(e.hasClass(this.c.hasSubMenu)){e=e.find("a").eq(0);var f=e.find("ul").eq(0);return void(this.timerHide=setTimeout(function(){d.timerHide=null,d.hideMenu(null,e,f)},d.settings.delay))}},dispose:function(){a(document).off("focusin.cfw.dropdown."+this.instance),this.$element.CFW_Dropdown("hideRev"),this.$target.find("."+this.c.backLink).remove(),this.$target.find("."+this.c.hasSubMenu).off(".cfw.dropdown"),this.$target.find("a").off(".cfw.dropdown"),this.$target.off(".cfw.dropdown"),this.$element.off(".cfw.dropdown").removeData("cfw.dropdown"),this.$element=null,this.$target=null,this.instance=null,this.timerHide=null,this.settings=null}},a.fn.redraw=function(){if(void 0!==document.documentMode)return this.hide(0,function(){a(this).show(),a(this).css("display","")});/Edge\/\d+/.test(navigator.userAgent)&&a(this).css("list-style","none").css("list-style","")},a.fn.CFW_Dropdown=d,a.fn.CFW_Dropdown.Constructor=g,a(window).ready(function(){a(document).on("click",c)})}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.tab"),g="object"==typeof b&&b;f||e.data("cfw.tab",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$target=null,this.$navElm=null;var e=this.$element.CFW_parseData("tab",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this._init()};c.DEFAULTS={target:null,animate:!0},c.prototype={_init:function(){var b=this;this.$navElm=this.$element.closest("ul, ol, nav"),this.$navElm.attr("role","tablist");var c=a(this.settings.target);if(c.length||(c=a(this.$element.attr("href"))),this.$target=a(c),!this.$target.length)return!1;this.$element.attr("data-cfw","tab");var d=this.$element.CFW_getID("cfw-tab");this.$target.attr({role:"tabpanel","aria-labelledby":d}),this.settings.animate?this.animEnable():this.animDisable(),this.$element.attr({tabindex:-1,role:"tab","aria-selected":"false","aria-expanded":"false","aria-controls":this.$target.attr("id")}),this.$element.on("click.cfw.tab",function(a){a.preventDefault(),b.show(a)}),this.$element.on("keydown.cfw.tab",function(a){b._actionsKeydown(a,this)}),this.$element.hasClass("active")&&(this.$element.attr({tabindex:0,"aria-selected":"true","aria-expanded":"true"}),this.$target.addClass("active"),this.settings.animate&&this.$target.addClass("in")),this.$navElm.find(".active").length<=0&&(this.$element.addClass("active"),this.$element.attr({tabindex:0,"aria-selected":"true","aria-expanded":"true"}),this.$target.addClass("active"),this.settings.animate&&this.$target.addClass("in")),this.$element.CFW_trigger("init.cfw.tab")},show:function(a){if(a&&a.preventDefault(),!(this.$element.hasClass("active")||this.$element.hasClass("disabled")||this.$element[0].hasAttribute("disabled"))){var b=this.$navElm.find(".active:last");b.length&&!b.CFW_trigger("beforeHide.cfw.tab",{relatedTarget:this.$element[0]})||this.$element.CFW_trigger("beforeShow.cfw.tab",{relatedTarget:b[0]})&&(b.length&&b.attr({tabindex:-1,"aria-selected":"false","aria-expanded":"false"}).CFW_trigger("afterHide.cfw.tab",{relatedTarget:this.$element[0]}),this.$element.attr({tabindex:0,"aria-selected":"true","aria-expanded":"true"}),this._activateTab(this.$element,this.$navElm,!1,b),this._activateTab(this.$target,this.$target.parent(),!0,b))}},animEnable:function(){this.$target.addClass("fade"),this.$target.hasClass("active")&&this.$target.addClass("in"),this.settings.animate=!0},animDisable:function(){this.$target.removeClass("fade in"),this.settings.animate=!1},_actionsKeydown:function(b,c){var d=b.which;if(/(37|38|39|40)/.test(d)){b.stopPropagation(),b.preventDefault();var e=a(c),f=e.closest('[role="tablist"]'),g=f.find('[role="tab"]:visible').not(".disabled"),h=g.index(g.filter('[aria-selected="true"]'));(38==d||37==d)&&h>0&&h--,(39==d||40==d)&&h<g.length-1&&h++,~h||(h=0);g.eq(h).CFW_Tab("show").trigger("focus")}},_activateTab:function(a,b,c,d){function e(){g.removeClass("active"),a.addClass("active"),h?(a[0].offsetWidth,a.addClass("in")):(c&&(f.settings.animate=!1),a.removeClass("fade")),c&&f.$element.CFW_trigger("afterShow.cfw.tab",{relatedTarget:d[0]})}var f=this,g=b.find(".active"),h=c&&this.settings.animate;a.CFW_transition(null,e),g.removeClass("in")},dispose:function(){this.$element.off(".cfw.tab").removeData("cfw.tab"),this.$element=null,this.$target=null,this.$navElm=null,this.settings=null}},a.fn.CFW_Tab=b,a.fn.CFW_Tab.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.affix"),g="object"==typeof b&&b;f||e.data("cfw.affix",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$window=a(window),this.$target=null,this.affixed=null,this.unpin=null,this.pinnedOffset=null;var e=this.$element.CFW_parseData("affix",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this._init()};c.RESET="affix affix-top affix-bottom",c.DEFAULTS={target:window,top:0,bottom:0},c.prototype={_init:function(){this.$element.attr("data-cfw","affix"),this.$target=a(this.settings.target).on("scroll.cfw.affix)",a.proxy(this.checkPosition,this)).on("click.cfw.affix",a.proxy(this.checkPositionDelayed,this)),this.$element.CFW_trigger("init.cfw.affix"),this.checkPosition()},getState:function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},getPinnedOffset:function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},checkPositionDelayed:function(){setTimeout(a.proxy(this.checkPosition,this),1)},checkPosition:function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.settings.top,e=this.settings.bottom,f=Math.max(a(document).height(),a(document.body).height());"function"==typeof d&&(d=d(this.$element)),"function"==typeof e&&(e=e(this.$element));var g=this.getState(f,b,d,e);if(this.affixed!=g){null!=this.unpin&&this.$element.css({top:"",position:""});var h="affix"+(g?"-"+g:""),i=h+".cfw.affix";if(!this.$element.CFW_trigger(i))return;this.affixed=g,this.unpin="bottom"==g?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(h).CFW_trigger(i.replace("affix","affixed"))}"bottom"==g&&this.$element.offset({top:f-b-e})}},dispose:function(){this.$element.off(".cfw.affix").removeClass(c.RESET).removeData("cfw.affix"),this.$element=null,this.$window=null,this.$target=null,this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.settings=null}},a.fn.CFW_Affix=b,a.fn.CFW_Affix.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.tooltip"),g="object"==typeof b&&b;if(!f&&/unlink|dispose|hide/.test(b))return!1;f||e.data("cfw.tooltip",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(a,b){this.$element=null,this.$target=null,this.$viewport=null,this.$arrow=null,this.$focusLast=null,this.instance=null,this.settings=null,this.dataToggle=null,this.type=null,this.isDialog=!1,this.eventTypes=null,this.delayTimer=null,this.inTransition=null,this.closeAdded=!1,this.activate=!1,this.hoverState=null,this.inState=null,this.dynamicTip=!1,this.flags={keyShift:!1,keyTab:!1},this._init("tooltip",a,b)};c.DEFAULTS={toggle:!1,placement:"top",trigger:"hover focus",animate:!0,delay:{show:0,hide:100},container:!1,viewport:"body",padding:0,html:!1,closetext:'<span aria-hidden="true">&times;</span>',closesrtext:"Close",title:"",activate:!1,unlink:!1,dispose:!1,template:'<div class="tooltip"><div class="tooltip-body"></div><div class="tooltip-arrow"></div></div>'},c.prototype={_init:function(b,c,d){this.type=b,this.$element=a(c),this.settings=this.getSettings(d),this.$viewport=this.settings.viewport&&a(a.isFunction(this.settings.viewport)?this.settings.viewport.call(this,this.$element):this.settings.viewport.selector||this.settings.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element.attr("data-cfw",this.type);var e,f=a(this.settings.toggle).eq(0);f.length?e=this.settings.toggle:(e=this.$element.attr("data-cfw-"+this.type+"-toggle"),f=a("[data-cfw-"+this.type+'-target="'+e+'"]')),f.length?(this.dataToggle=e,this.$target=f):this.fixTitle(),this.settings.activate&&(this.settings.trigger="click"),this.eventTypes=this.settings.trigger.split(" "),this.bindTip(!0),this.$target&&this.$target.data("cfw."+this.type,this),this.settings.activate&&(this.activate=!0,this.inState.click=!0,this.show()),this.$element.CFW_trigger("init.cfw."+this.type)},getDefaults:function(){return c.DEFAULTS},getSettings:function(b){var c=this.$element.CFW_parseData(this.type,this.getDefaults()),d=a.extend({},this.getDefaults(),c,b);return d.delay&&"number"==typeof d.delay&&(d.delay={show:d.delay,hide:d.delay}),d},createTip:function(){return a(this.settings.template)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-cfw-"+this.type+"-original-title"))&&a.attr("data-cfw-"+this.type+"-original-title",a.attr("title")||"").attr("title","")},getTitle:function(){var a=this.$element,b=this.settings;return("function"==typeof b.title?b.title.call(a[0]):b.title)||a.attr("data-cfw-"+this.type+"-original-title")},setContent:function(){var a=this.$target,b=a.find(".tooltip-body");if(!this.dataToggle){var c=this.getTitle();this.settings.html?b.html(c):b.text(c)}a.removeClass("fade in top bottom left right")},linkTip:function(){this.instance=this.$element.CFW_getID("cfw-"+this.type),this.targetID=this.$target.CFW_getID("cfw-"+this.type),this.$target.attr({role:"tooltip"==this.type?"tooltip":this.isDialog?"dialog":"tooltip","aria-hidden":"true",tabindex:-1})},bindTip:function(b){for(var c=this,d=this.eventTypes.length;d--;){var e=this.eventTypes[d];if("click"!=e&&"manual"!=e||(this.isDialog=!0),"click"==e){if(this.$element.off("click.cfw."+this.type).on("click.cfw."+this.type,a.proxy(this.toggle,this)),null!=this.$target&&!this.closeAdded&&!this.$target.find('[data-cfw-dismiss="'+this.type+'"]').length){var f=a('<button type="button" class="close" data-cfw-dismiss="'+this.type+'" aria-label="'+this.settings.closesrtext+'">'+this.settings.closetext+"</button>");f.prependTo(this.$target),this.closeAdded=!0}}else if("manual"!=e){var g="hover"==e?"mouseenter":"focusin",h="hover"==e?"mouseleave":"focusout";b?(this.$element.on(g+".cfw."+this.type,a.proxy(this.enter,this)),this.$element.on(h+".cfw."+this.type,a.proxy(this.leave,this))):(this.$target.off(".cfw."+this.type),this.$target.on(g+".cfw."+this.type,a.proxy(this.enter,this)),this.$target.on(h+".cfw."+this.type,a.proxy(this.leave,this)))}}this.$target&&(this.$target.off("keydown.cfw."+this.type+".close").on("keydown.cfw."+this.type+".close",function(b){var d=b.charCode||b.which;d&&27==d&&(b.stopPropagation(),a(".close",c.$target).length>0?a(".close",c.$target).eq(0).trigger("click"):c.hide(!0))}),this.$target.off("click.dismiss.cfw."+this.type,'[data-cfw-dismiss="'+this.type+'"]').on("click.dismiss.cfw."+this.type,'[data-cfw-dismiss="'+this.type+'"]',function(a){c.toggle(a)}),this.$element.closest(".modal").off("beforeHide.cfw.modal").on("beforeHide.cfw.modal",function(){c.hide(!0)}))},toggle:function(a){if(a)this.inState.click=!this.inState.click,this._isInState()?this.enter():this.leave();else{var b=this.settings.delay;this.$target&&this.$target.hasClass("in")?(this.settings.delay.hide=0,this.leave()):(this.settings.delay.show=0,this.enter()),this.settings.delay=b}},enter:function(a){if(a&&(this.inState["focusin"==a.type?"focus":"hover"]=!0),this.$target&&this.$target.hasClass("in")||"in"==this.hoverState)return void(this.hoverState="in");if(clearTimeout(this.delayTimer),this.hoverState="in",!this.settings.delay.show)return this.show();var b=this;this.delayTimer=setTimeout(function(){"in"==b.hoverState&&b.show()},this.settings.delay.show)},leave:function(a){if(a&&(this.inState["focusout"==a.type?"focus":"hover"]=!1),!this._isInState()){if(clearTimeout(this.delayTimer),this.hoverState="out",!this.settings.delay.hide)return this.hide();var b=this;this.delayTimer=setTimeout(function(){"out"==b.hoverState&&b.hide()},this.settings.delay.hide)}},show:function(){clearTimeout(this.delayTimer);var b=this;if(!this.inTransition&&(!this.$target||!this.$target.hasClass("in"))&&(this.activate||this.$element.CFW_trigger("beforeShow.cfw."+this.type))){if(this.inTransition=!0,!this.$target){var c=this.createTip();if(c.length<=0)return!1;this.dynamicTip=!0,this.$target=c}if(1!=this.$target.length)throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");this.linkTip(),this.bindTip(!1),this.setContent(),this.settings.animate&&this.$target.addClass("fade"),this.locateTip(),this.settings.container&&(this.$element.off("focusin.cfw."+this.type+".focusStart").on("focusin.cfw."+this.type+".focusStart",function(c){if(b.$target.hasClass("in")){var d=b._tabItems(),e=d.length-1,f=a(c.relatedTarget);if((f.closest(".tooltip").length>0||f.closest(".popover").length>0)&&(f=null),f&&1===f.length){var g=d.index(b.$element);if(e=d.index(f),g<e){var h=b._tabItems(b.$target),i=h.length-2;h.eq(i).trigger("focus")}else b.$target.trigger("focus")}else b.$target.trigger("focus")}}),this.$target.off(".cfw."+this.type+".keyflag").on("keydown.cfw."+this.type+".keyflag",function(a){9==a.which&&(b.flags.keyTab=!0,a.shiftKey&&(b.flags.keyShift=!0))}).on("keyup.cfw."+this.type+".keyflag",function(a){9==a.which&&(b.flags.keyTab=!1,b.flags.keyShift=!1)}),!this.$focusLast&&this.eventTypes.indexOf("click")>=0&&(this.$focusLast=a(document.createElement("span")).addClass(this.type+"-focuslast").attr("tabindex",0).appendTo(this.$target)),this.$focusLast&&this.$focusLast.off("focusin.cfw."+this.type+".focusLast").on("focusin.cfw."+this.type+".focusLast",function(a){if(b.$target[0]!==a.relatedTarget&&!b.$target.has(a.relatedTarget).length)return void a.preventDefault();b._tabNext(b.$element[0])}),this.$target.off("focusout.cfw."+this.type).on("focusout.cfw."+this.type,function(){a(document).off("focusin.cfw."+this.type+"."+this.instance).one("focusin.cfw."+this.type+"."+this.instance,function(a){document===a.target||b.$target[0]===a.target||b.$target.has(a.target).length||(b.flags.keyTab&&(b.flags.keyShift?b._tabPrev(b.$element[0]):b._tabNext(b.$element[0])),
b.flags={keyShift:!1,keyTab:!1})})})),this.$target.CFW_transition(null,a.proxy(this._showComplete,this))}},hide:function(b){if(clearTimeout(this.delayTimer),this.$target){if(void 0===b&&(b=!1),b)return void this._hideComplete();!this.inTransition&&this.$target.hasClass("in")&&this.$element.CFW_trigger("beforeHide.cfw."+this.type)&&(this.inTransition=!0,this.$target.removeClass("in"),this.inState={click:!1,hover:!1,focus:!1},this.$target.CFW_transition(null,a.proxy(this._hideComplete,this)),this.hoverState=null)}},unlink:function(a){var b=this;void 0===a&&(a=!1),clearTimeout(this.delayTimer),this.$element.CFW_trigger("beforeUnlink.cfw."+this.type),this.$target&&this.$target.hasClass("in")?(this.$element.one("afterHide.cfw."+this.type,function(){b._unlinkComplete()}),this.hide(a)):this._unlinkComplete()},_unlinkComplete:function(){var a=this.$element,b=this.type;this.$target&&this.$target.off(".cfw."+this.type).removeData("cfw."+this.type),this.$element.off(".cfw."+this.type).removeAttr("data-cfw").removeData("cfw."+this.type),this.$element=null,this.$target=null,this.$viewport=null,this.$arrow=null,this.$focusLast=null,this.instance=null,this.settings=null,this.dataToggle=null,this.type=null,this.isDialog=null,this.eventTypes=null,this.delayTimer=null,this.inTransition=null,this.closeAdded=null,this.activate=null,this.hoverState=null,this.inState=null,this.dynamicTip=null,this.flags=null,this._unlinkCompleteExt(),a.CFW_trigger("afterUnlink.cfw."+b)},_unlinkCompleteExt:function(){},dispose:function(){var b=this.$target;a(document).one("afterUnlink.cfw."+this.type,this.$element,function(c){var d=a(c.target);b&&b.remove(),d.CFW_trigger("dispose.cfw."+this.type)}),this.unlink()},locateTip:function(){var a=this.$target;a.removeClass("top left bottom right"),a.detach().css({top:0,left:0,display:"block"});var b="function"==typeof this.settings.placement?this.settings.placement.call(this,this.$target[0],this.$element[0]):this.settings.placement;if("object"==typeof b)this.settings.container="body",a.appendTo(this.settings.container),this.$element.CFW_trigger("inserted.cfw."+this.type),a.offset(b),a.addClass("in");else{var d=/\s?auto?\s?/i,e=d.test(b);e&&(b=b.replace(d,"")||c.DEFAULTS.placement),a.addClass(b).data("cfw."+this.type,this),this.settings.container?a.appendTo(this.settings.container):a.insertAfter(this.$element),this.$element.CFW_trigger("inserted.cfw."+this.type);var f=this._getPosition(),g=a[0].getBoundingClientRect().width,h=a[0].getBoundingClientRect().height;if(e){var i=b,j=this.getViewportBounds();b="bottom"==b&&f.bottom+h>j.bottom?"top":"top"==b&&f.top-h<j.top?"bottom":"right"==b&&f.right+g>j.width?"left":"left"==b&&f.left-g<j.left?"right":b,a.removeClass(i).addClass(b).data("cfw."+this.type,this)}var k=this._getCalculatedOffset(b,f,g,h);this._applyPlacement(k,b)}},_showComplete:function(){var a=this,b=this.hoverState;this.hoverState=null,this.$target.removeAttr("aria-hidden"),this.isDialog&&this.$target.trigger("focus"),this.inTransition=!1,setTimeout(function(){a.$element&&a.$element.attr("aria-describedby",a.targetID)},25),this.activate||this.$element.CFW_trigger("afterShow.cfw."+this.type),this.activate=!1,"out"==b&&this.leave()},_hideComplete:function(){this.$element.off(".cfw."+this.type+".focusStart").off(".cfw.modal").removeAttr("aria-describedby"),this.$target.off(".cfw."+this.type).removeClass("in"),this.$focusLast&&this.$focusLast.off(".cfw."+this.type+".focusLast"),a(document).off(".cfw."+this.type+"."+this.instance),this.$target.removeClass("in").css("display","none").attr({"aria-hidden":"true",role:""}),this.inTransition=!1,this.isDialog&&(this.$target.attr("tabindex",-1),this.$element.trigger("focus")),"in"!=this.hoverState&&this.dynamicTip&&this._removeDynamicTip(),this.$element.CFW_trigger("afterHide.cfw."+this.type)},_removeDynamicTip:function(){this.$target.remove(),this.dynamicTip=!1,this.closeAdded=!1,this.$arrow=null,this.$target=null},_getPosition:function(){var b=this.$element,c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();e=a.extend({},e,{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset});var f=d?{top:0,left:0}:b.offset();b[0].className instanceof SVGAnimatedString&&(f={});var g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},_getCalculatedOffset:function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},_applyPlacement:function(b,c){var d=this.$target,e=d[0].getBoundingClientRect().width,f=d[0].getBoundingClientRect().height,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].getBoundingClientRect().width,j=d[0].getBoundingClientRect().height;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this._getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this._replaceArrow(m,d[0][n],l)},getViewportBounds:function(){var b=this.$viewport,c=b[0].getBoundingClientRect();return b.is("body")&&/fixed|absolute/.test(this.$element.css("position"))?a.extend({},c,this.getScreenSpaceBounds(b)):a.extend({},c,b.offset(),{width:b.outerWidth(),height:b.outerHeight()})},getScreenSpaceBounds:function(b){return{top:b.scrollTop(),left:b.scrollLeft(),width:a(window).width(),height:a(window).height()}},_getViewportAdjustedDelta:function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.settings.padding,g=this.getViewportBounds();if(/right|left/.test(a)){var h=b.top-f,i=b.top+f+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},_replaceArrow:function(a,b,c){this._arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},_arrow:function(){return this.$arrow||(this.$arrow=this.$target.find(".tooltip-arrow")),this.$arrow},_isInState:function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},_tabPrev:function(b){var c=this,d=c._tabItems(),e=d.length-1;if(1===a(b).length){var f=d.index(b);f>0&&(e=f-1)}d.eq(e).trigger("focus")},_tabNext:function(b){var c=this,d=c._tabItems(),e=0;if(1===a(b).length){var f=d.index(b);f+1<d.length&&(e=f+1)}d.eq(e).trigger("focus")},_focusable:function(b,c){var d,e,f,g=b.nodeName.toLowerCase();return"area"===g?(d=b.parentNode,e=d.name,!(!b.href||!e||"map"!==d.nodeName.toLowerCase())&&(f=a('img[usemap="#'+e+'"]'),f.length>0&&f.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(g)?!b.disabled:"a"===g?b.href||c:c)&&a(b).is(":visible")},_tabItems:function(b){var c=this;return void 0===b&&(b=a(document)),b.find("*").filter(function(){var b=a(this).attr("tabindex"),d=isNaN(b);return(d||b>=0)&&c._focusable(this,!d)})}},a.fn.CFW_Tooltip=b,a.fn.CFW_Tooltip.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.popover"),g="object"==typeof b&&b;if(!f&&/unlink|dispose|hide/.test(b))return!1;f||e.data("cfw.popover",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}if(void 0===a.fn.CFW_Tooltip)throw new Error("CFW_Popover requires CFW_Tooltip");var c=function(a,b){this.dragAdded=!1,this.docAdded=!1,this.keyTimer=null,this.keyDelay=750,this.flags={keyShift:!1,keyTab:!1},this._init("popover",a,b)};c.DEFAULTS=a.extend({},a.fn.CFW_Tooltip.Constructor.DEFAULTS,{placement:"top",trigger:"click",content:"",drag:!1,dragtext:'<span aria-hidden="true">+</span>',dragsrtext:"Drag",dragstep:10,template:'<div class="popover"><h3 class="popover-header"></h3><div class="popover-body"></div><div class="popover-arrow"></div></div>'}),c.prototype=a.extend({},a.fn.CFW_Tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.createTip=function(){return a(this.settings.template)},c.prototype.setContent=function(){var b=this.$target,c=b.find(".popover-header"),d=b.find(".popover-body");if(!this.dataToggle){var e=this.getTitle(),f=this.getContent();this.settings.html?(c.html(e),"string"==typeof f?d.html(f):d.empty().append(f)):(c.text(e),d.text(f))}if(c.length){var g=c.eq(0).CFW_getID("cfw-popover");this.$target.attr("aria-labelledby",g)}if(this.settings.drag&&!this.dragAdded&&this.$target.find('[data-cfw-drag="'+this.type+'"]').length<=0){a('<span role="button" tabindex="0" class="drag" data-cfw-drag="'+this.type+'" aria-label="'+this.settings.dragsrtext+'">'+this.settings.dragtext+"</span>").insertAfter(this.$target.find(".close").eq(0)),this.dragAdded=!0}if(this.$target.find('[data-cfw-drag="'+this.type+'"]').length&&(this.$target.addClass("draggable"),this.settings.trigger="click",this.settings.container="body",this.enableDrag()),b.removeClass("fade in top bottom left right"),c.html()||c.hide(),this.isDialog&&!this.docAdded){var h=this.$target.children().not(this.$arrow),i=document.createElement("div");i.setAttribute("role","document"),h.wrapAll(i),this._arrow(),this.$arrow.appendTo(this.$target),this.docAdded=!0}},c.prototype.getContent=function(){var a=this.$element,b=this.settings;return"function"==typeof b.content?b.content.call(a[0]):b.content},c.prototype.enableDrag=function(){var b=this,c={},d={handle:'[data-cfw-drag="'+this.type+'"]'};this.$target.off(".cfw.drag"),this.$target.on("dragStart.cfw.drag",function(){var d=b.$viewport;c=d.offset(),c.bottom=c.top+d.outerHeight()-a(this).outerHeight(),c.right=c.left+d.outerWidth()-a(this).outerWidth(),b._updateZ(),b.$element.CFW_trigger("dragStart.cfw."+b.type)}).on("drag.cfw.drag",function(d){var e=b.settings.padding;a(this).css({top:Math.min(c.bottom-e,Math.max(c.top+e,d.offsetY)),left:Math.min(c.right-e,Math.max(c.left+e,d.offsetX))})}).on("dragEnd.cfw.drag",function(){b.$element.CFW_trigger("dragEnd.cfw."+b.type)}).on("keydown.cfw.drag",'[data-cfw-drag="'+this.type+'"]',function(a){if(/(37|38|39|40)/.test(a.which)){a&&a.stopPropagation(),b.keyTimer||b.$element.CFW_trigger("dragStart.cfw."+b.type),clearTimeout(b.keyTimer);var d=b.$viewport,e=b.settings.padding,f=b.$target,g=b.settings.dragstep;c=d.offset(),c.bottom=c.top+d.outerHeight()-f.outerHeight(),c.right=c.left+d.outerWidth()-f.outerWidth();var h=f.offset(),i=Math.round(h.top),j=Math.round(h.left);switch(a.which){case 37:j-=g;break;case 38:i-=g;break;case 39:j+=g;break;case 40:i+=g}return f.css({top:Math.min(c.bottom-e,Math.max(c.top+e,i)),left:Math.min(c.right-e,Math.max(c.left+e,j))}),b.keyTimer=setTimeout(function(){b.$element.CFW_trigger("dragEnd.cfw."+b.type),b.keyTimer=null},b.keyDelay),!1}}),this.$target.CFW_Drag(d)},c.prototype.hide=function(b){this.keyTimer&&(this.$element.CFW_trigger("dragEnd.cfw."+this.type),clearTimeout(this.keyTimer)),a.fn.CFW_Tooltip.Constructor.prototype.hide.call(this,b)},c.prototype._removeDynamicTip=function(){this.$target.detach(),this.dynamicTip=!1,this.closeAdded=!1,this.dragAdded=!1,this.docAdded=!1,this.$arrow=!1,this.$target=null},c.prototype._updateZ=function(){var b=0,c=null;a(".popover:visible").each(function(){var d=parseInt(a(this).css("z-index"),10);d>b&&(b=d,c=a(this))}),this.$target[0]!==c[0]&&this.$target.css("z-index",++b)},c.prototype._arrow=function(){return this.$arrow||(this.$arrow=this.$target.find(".arrow, .popover-arrow")),this.$arrow},c.prototype._unlinkCompleteExt=function(){this.dragAdded=null,this.docAdded=null,this.keyTimer=null,this.keyDelay=null},a.fn.CFW_Popover=b,a.fn.CFW_Popover.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.modal"),g="object"==typeof b&&b;if(!f&&/unlink|dispose/.test(b))return!1;f||e.data("cfw.modal",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$body=a(document.body),this.$element=a(b),this.$target=null,this.$dialog=null,this.$backdrop=null,this.$focusLast=null,this.isShown=null,this.scrollbarWidth=0,this.fixedContent=".fixed-top, .fixed-botton, .is-fixed",this.ignoreBackdropClick=!1;var e=this.$element.CFW_parseData("modal",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this._init()};c.DEFAULTS={toggle:!1,animate:!0,unlink:!1,dispose:!1,backdrop:!0,keyboard:!0,show:!1},c.prototype={_init:function(){var b=a(this.settings.toggle).eq(0);if(b.length<=0){b=a('[data-cfw-modal-target="'+this.$element.attr("data-cfw-modal-toggle")+'"]')}if(b.length<=0)return!1;this.$target=b,this.$dialog=this.$target.find(".modal-dialog"),this.$element.attr("data-cfw","modal");var c=this.$target.CFW_getID("cfw-modal");this.$element.attr("aria-controls",c);var d=this.$target.find(".modal-title");if(d.length){var e=d.eq(0).CFW_getID("cfw-modal");this.$target.attr("aria-labelledby",e)}this.$target.attr({role:"dialog","aria-hidden":"true",tabindex:-1}),this.$dialog.attr("role","document"),this.$element.on("click.cfw.modal.toggle",a.proxy(this.toggle,this)),this.$target.data("cfw.modal",this),this.$target.CFW_trigger("init.cfw.modal"),this.settings.show&&this.show()},toggle:function(a){a&&a.preventDefault(),this.isShown?this.hide():this.show()},show:function(){var b=this;this.isShown||this.$target.CFW_trigger("beforeShow.cfw.modal")&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$target.on("click.dismiss.cfw.modal",'[data-cfw-dismiss="modal"]',function(a){a&&a.preventDefault(),b.hide()}).data("cfw.modal",this),this.$dialog.on("mousedown.dismiss.cfw.modal",function(){b.$target.one("mouseup.dismiss.cfw.modal",function(c){a(c.target).is(b.$target)&&(b.ignoreBackdropClick=!0)})}),this.backdrop(function(){b._showComplete()}))},hide:function(){this.isShown&&this.$target.CFW_trigger("beforeHide.cfw.modal")&&(this.isShown=!1,a(document).off("focusin.cfw.modal"),this.$target.removeClass("in").attr("aria-hidden",!0).off(".dismiss.cfw.modal"),this.$dialog.off("mousedown.dismiss.cfw.modal"),this.$focusLast&&this.$focusLast.off(".cfw."+this.type+".focusLast"),this.$target.CFW_transition(null,a.proxy(this._hideComplete,this)))},_showComplete:function(){function a(){b.$target.trigger("focus"),b.$target.CFW_trigger("afterShow.cfw.modal")}var b=this;this.settings.animate&&this.$target.addClass("fade"),this.$target.parent().length||this.$target.appendTo(this.$body),this.$target.show().scrollTop(0),this.adjustDialog(),this.$target[0].offsetWidth,this.$target.addClass("in").removeAttr("aria-hidden"),this.enforceFocus(),this.enforceFocusLast(),this.$target.CFW_transition(null,a)},_hideComplete:function(){var a=this;this.escape(),this.resize(),this.$target.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$target.CFW_trigger("afterHide.cfw.modal")}),this.$element&&this.$element.trigger("focus")},enforceFocus:function(){var b=this;a(document).off("focusin.cfw.modal").on("focusin.cfw.modal",function(a){document===a.target||b.$target[0]===a.target||b.$target.has(a.target).length||b.$target.trigger("focus")})},enforceFocusLast:function(){var b=this;this.$focusLast||(this.$focusLast=a(document.createElement("span")).addClass("modal-focuslast").attr("tabindex",0).appendTo(this.$target)),this.$focusLast&&this.$focusLast.off("focusin.cfw.modal.focusLast").on("focusin.cfw.modal.focusLast",function(){b.$target.trigger("focus")})},escape:function(){var a=this;this.isShown&&this.settings.keyboard?this.$target.on("keydown.dismiss.cfw.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$target.off("keydown.dismiss.cfw.modal")},resize:function(){this.isShown?a(window).on("resize.cfw.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.cfw.modal")},handleUpdate:function(){this.settings.backdrop&&this.adjustBackdrop(),this.adjustDialog()},adjustBackdrop:function(){this.$backdrop.css("height",0).css("height",this.$target[0].scrollHeight)},adjustDialog:function(){var a=this.$target[0].scrollHeight>document.documentElement.clientHeight;this.$target.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},resetAdjustments:function(){this.$target.css({paddingLeft:"",paddingRight:""})},checkScrollbar:function(){this.bodyIsOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=a().CFW_measureScrollbar()},setScrollbar:function(){var b=this;if(this.bodyIsOverflowing){a(this.fixedContent).each(function(){var c=a(this);c.data("cfw.padding-right",this.style.paddingRight||"");var d=parseFloat(c.css("padding-right")||0);c.css("padding-right",d+b.scrollbarWidth)}),this.$body.data("cfw.padding-right",document.body.style.paddingRight||"");var c=parseFloat(this.$body.css("padding-right")||0);this.$body.css("padding-right",c+this.scrollbarWidth)}this.$target.CFW_trigger("scrollbarSet.cfw.modal")},resetScrollbar:function(){a(this.fixedContent).each(function(){var b=a(this),c=b.data("cfw.padding-right");b.css("padding-right",c),b.removeData("cfw.padding-right")});var b=this.$body.data("cfw.padding-right");void 0!==typeof b&&(this.$body.css("padding-right",b),this.$body.removeData("cfw.padding-right"))},measureScrollbar:function(){var b=a(document.body),c=document.createElement("div");c.className="modal-scrollbar-measure",b.append(c);var d=c.getBoundingClientRect().width-c.clientWidth;return b[0].removeChild(c),d},backdrop:function(b){var c=this,d=this.settings.animate?"fade":"";if(this.isShown&&this.settings.backdrop)this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+d).appendTo(this.$body),this.$target.on("click.dismiss.cfw.modal",function(a){if(c.ignoreBackdropClick)return void(c.ignoreBackdropClick=!1);a.target===a.currentTarget&&("static"==c.settings.backdrop?c.$target.trigger("focus"):c.hide())}),this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),this.$backdrop.CFW_transition(null,b);else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var e=function(){c.removeBackdrop(),b&&b()};this.$backdrop.CFW_transition(null,e)}else b&&b()},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},unlink:function(){var a=this;this.$target.CFW_trigger("beforeUnlink.cfw.modal"),this.isShown?(this.$target.one("afterHide.cfw.modal",function(){a._unlinkComplete()}),this.hide()):this._unlinkComplete()},_unlinkComplete:function(){var a=this.$target;this.$target.off(".cfw.modal").removeAttr("aria-labelledby").removeData("cfw.modal"),this.$element.off(".cfw.modal").removeAttr("data-cfw aria-controls").removeData("cfw.modal"),this.$body=null,this.$element=null,this.$target=null,this.$dialog=null,this.$backdrop=null,this.$focusLast=null,this.isShown=null,this.scrollbarWidth=null,this.fixedContent=null,this.ignoreBackdropClick=null,this.settings=null,a.CFW_trigger("afterUnlink.cfw.modal")},dispose:function(){a(document).one("afterUnlink.cfw.modal",this.$target,function(b){var c=a(b.target);c.CFW_trigger("dispose.cfw.modal"),c.remove()}),this.unlink()}},a.fn.CFW_Modal=b,a.fn.CFW_Modal.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.accordion");f||e.data("cfw.accordion",f=new c(this)),"string"==typeof b&&f[b].apply(f,d)})}if(void 0===a.fn.CFW_Collapse)throw new Error("CFW_Accordion requires CFW_Collapse");var c=function(b){this.$element=a(b),this._init()};c.prototype={_init:function(){var a=this;this.$element.attr("data-cfw","accordion").on("beforeShow.cfw.collapse",function(b){b.isDefaultPrevented()||a._update(b)}).CFW_trigger("init.cfw.accordion")},_update:function(b){var c=!1,d=a(b.target),e=this.$element.find('[data-cfw="collapse"]');if(e.each(function(){1===a(this).data("cfw.collapse").inTransition&&(c=!0)}),c)return void b.preventDefault();e.not(d).CFW_Collapse("hide")},dispose:function(){this.$element.off(".cfw.collapse").removeData("cfw.accordion"),this.$element=null}},a.fn.CFW_Accordion=b,a.fn.CFW_Accordion.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.tabResponsive");f||e.data("cfw.tabResponsive",f=new c(this)),"string"==typeof b&&f[b].apply(f,d)})}if(void 0===a.fn.CFW_Tab)throw new Error("CFW_TabResponsive requires CFW_Tab");if(void 0===a.fn.CFW_Collapse)throw new Error("CFW_TabResponsive requires CFW_Collapse");var c=function(b){this.$element=a(b),this._init()};c.prototype={_init:function(){var a=this;this.$element.attr("data-cfw","tabResponsive"),this.$element.on("beforeShow.cfw.tab",function(b){b.isDefaultPrevented()||a.updateCollapse(b.target)}),this.$element.on("beforeShow.cfw.collapse",function(b){b.isDefaultPrevented()||a.updateTab(b.target)}),this.$element.find('[data-cfw="tab"]').CFW_Tab("animDisable"),this.$element.find('[data-cfw="collapse"]').CFW_Collapse("animDisable");var b=this.$element.find('[data-cfw="tab"].active');this.updateCollapse(b),this.$element.CFW_trigger("init.cfw.tabResponsive")},updateCollapse:function(b){var c=a(b),d=a(c).data("cfw.tab");if(d){var e=d.$target;e.closest(".tab-content").find('[data-cfw="collapse"]').each(function(){a(this).one("afterHide.cfw.collapse",function(a){a.stopPropagation(),a.preventDefault()}).CFW_Collapse("hide")});e.find('[data-cfw="collapse"]').one("afterShow.cfw.collapse",function(a){a.stopPropagation(),a.preventDefault()}).CFW_Collapse("show")}},updateTab:function(b){var c=a(b),d=c.closest(".tab-pane"),e=d.attr("id");c.closest(".tab-content").find('[data-cfw="collapse"]').each(function(){var b=a(this);b[0]!==c[0]&&b.CFW_Collapse("hide")}),this.$element.find('[data-cfw="tab"]').each(function(){var b=a(this),c=b.attr("data-cfw-tab-target");c||(c=b.attr("href")),c=c.replace(/^#/,""),c==e&&b.one("beforeShow.cfw.tab",function(a){a.stopPropagation()}).CFW_Tab("show")})},dispose:function(){this.$element.off(".cfw.tab .cfw.collapse").removeData("cfw.tabResponsive"),this.$element=null,this.settings=null}},a.fn.CFW_TabResponsive=b,a.fn.CFW_TabResponsive.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.Slideshow");f||e.data("cfw.Slideshow",f=new c(this)),"string"==typeof b&&f[b].apply(f,d)})}if(!a.fn.CFW_Tab)throw new Error("CFW_Slideshow requires CFW_Tab");var c=function(b){this.$element=a(b),this.$navPrev=this.$element.find('[data-cfw-slideshow-nav="prev"]'),this.$navNext=this.$element.find('[data-cfw-slideshow-nav="next"]'),this.currIndex=0,this._init()};c.prototype={_init:function(){var b=this;this.$element.attr("data-cfw","slideshow"),this._getTabs().length&&(this.$element.on("afterShow.cfw.tab",function(){b.update()}),this.$navPrev.on("click.cfw.slideshow",function(c){c.preventDefault(),a(c.target).not(".disabled, :disabled")&&b.prev()}),this.$navNext.on("click.cfw.slideshow",function(c){c.preventDefault(),a(c.target).not(".disabled, :disabled")&&b.next()}),this.update(),this.$element.CFW_trigger("init.cfw.slideshow"))},prev:function(){var a=this._getTabs(),b=this._currIndex(a);b>0&&(this.$element.CFW_trigger("prev.cfw.slideshow"),a.eq(b-1).CFW_Tab("show"))},next:function(){var a=this._getTabs(),b=this._currIndex(a);b<a.length-1&&(this.$element.CFW_trigger("next.cfw.slideshow"),a.eq(b+1).CFW_Tab("show"))},update:function(){this.$navPrev.removeClass("disabled"),this.$navNext.removeClass("disabled");var a=this._getTabs(),b=this._currIndex(a);b<=0&&this.$navPrev.addClass("disabled"),b>=a.length-1&&this.$navNext.addClass("disabled"),this.$element.CFW_trigger("update.cfw.slideshow")},_getTabs:function(){return this.$element.find('[role="tab"]:visible').not(".disabled")},_currIndex:function(a){var b=a.filter(".active");return a.index(b)},dispose:function(){this.$navPrev.off(".cfw.slideshow"),this.$navNext.off(".cfw.slideshow"),this.$element.off(".cfw.tab").removeData("cfw.slideshow"),this.$element=null,this.$navPrev=null,this.$navNext=null}},a.fn.CFW_Slideshow=b,a.fn.CFW_Slideshow.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.scrollspy"),g="object"==typeof b&&b;f||e.data("cfw.scrollspy",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$body=a("body"),this.$element=a(b),this.$scrollElement=this.$element.is("body")?a(window):this.$element,this.selector=null,this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0;var e=this.$scrollElement.CFW_parseData("scrollspy",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this._init()};c.DEFAULTS={target:null,offset:10,throttle:100},c.prototype={_init:function(){this.$scrollElement.on("scroll.cfw.scrollspy",a().CFW_throttle(a.proxy(this.process,this),this.settings.throttle)),this.selector=(this.settings.target||"")+" a",this.$scrollElement.CFW_trigger("init.cfw.scrollspy"),this.refresh(),this.process()},getScrollHeight:function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},refresh:function(){var b=this,c="offset",d=0;a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.settings.offset,c=this.getScrollHeight(),d=this.settings.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0]&&e[0]>0)return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},activate:function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).addClass("active");d.closest(".dropdown-menu").length?d=d.closest(".dropdown").find('[data-cfw="dropdown"]').addClass("active"):d.parents("ul, ol, nav").prev("li, a").addClass("active"),d.CFW_trigger("activate.cfw.scrollspy")},clear:function(){a(this.selector).filter(".active").removeClass("active")},dispose:function(){this.$scrollElement.off(".cfw.scrollspy"),this.$element.removeData("cfw.scrollspy"),this.$body=null,this.$element=null,this.$scrollElement=null,this.selector=null,this.offsets=null,this.targets=null,this.activeTarget=null,this.scrollHeight=null,this.settings=null}},a.fn.CFW_Scrollspy=b,a.fn.CFW_Scrollspy.Constructor=c}(jQuery),function(a){"use strict";function b(b){var c=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.alert"),g="object"==typeof b&&b;f||e.data("cfw.alert",f=new d(this,g)),"string"==typeof b&&f[b].apply(f,c)})}var c='[data-cfw-dismiss="alert"]',d=function(b,c){this.$element=a(b),this.$parent=null,this.inTransition=null;var e=this.$element.CFW_parseData("alert",d.DEFAULTS);this.settings=a.extend({},d.DEFAULTS,e,c),this._init()};d.DEFAULTS={target:null,animate:!0},d.prototype={_init:function(){var a=this;this.findParent(),this.settings.animate&&this.$parent.addClass("fade in"),this.$parent.on("click.cfw.alert",c,function(){a.close()}).data("cfw.alert",this).find(c).data("cfw.alert",this).CFW_trigger("init.cfw.alert")},close:function(a){function b(){c.$parent.detach().CFW_trigger("afterClose.cfw.alert"),c.$parent.remove(),c.inTransition=0}var c=this;a&&a.preventDefault(),this.inTransition||this.$parent.CFW_trigger("beforeClose.cfw.alert")&&(this.inTransition=1,this.$parent.removeClass("in").CFW_transition(null,b))},findParent:function(){var b=this.settings.target,c=null;b||(b=this.$element.attr("href")),c=a("#"===b?[]:b),c.length||(c=this.$element.closest(".alert")),this.$parent=c},dispose:function(){this.$parent.off(".cfw.alert"),this.$element.removeData("cfw.alert"),this.$element=null,this.$parent=null,this.inTransition=null,this.settings=null}},a.fn.CFW_Alert=b,a.fn.CFW_Alert.Constructor=d,"undefined"!=typeof CFW_API&&CFW_API===!1||a(document).on("click.cfw.alert",c,function(){a(this).CFW_Alert("close")})}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.button"),g="object"==typeof b&&b;e.is('[data-cfw="buttons"]')?e.find(".btn").CFW_Button(b):(f||e.data("cfw.button",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d))})}var c=function(b){this.$element=a(b),this.$parent=this.$element.closest('[data-cfw="buttons"]'),this._init()};c.prototype={_init:function(){var b=this,c=this.$element.find("input").first();c.length&&(c.prop("checked")?this.$element.addClass("active"):this.$element.removeClass("active")),this.$element.attr("aria-pressed",this.$element.hasClass("active")),this.$element.on("click.cfw.button",function(c){var d=a(this);b.toggle(),a(c.target).is("input")||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}),c.length&&this.$element.on("focusin.cfw.button focusout.cfw.button",function(b){a(this).toggleClass("focus",/^focus(in)?$/.test(b.type))})},toggle:function(){var a=!0;if(this.$parent.length){var b=this.$element.find("input");b.length&&("radio"==b.prop("type")&&(b.prop("checked")&&this.$element.hasClass("active")?a=!1:this.$parent.find(".active").removeClass("active").attr("aria-pressed",!1)),a&&b.prop("checked",!this.$element.hasClass("active")).trigger("change"))}a&&this.$element.attr("aria-pressed",!this.$element.hasClass("active")).toggleClass("active")},dispose:function(){this.$element.off(".cfw.button").removeData("cfw.button"),this.$element=null,this.$parent=null}},a.fn.CFW_Button=b,a.fn.CFW_Button.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.lazy"),g="object"==typeof b&&b;f||e.data("cfw.lazy",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$window=a(window),this.instance=null,this.inTransition=null;var e=this.$element.CFW_parseData("lazy",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this._init()};c.DEFAULTS={src:"",throttle:250,trigger:"scroll resize",delay:0,effect:"show",speed:0,threshold:0,container:window,invisible:!1,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},c.prototype={_init:function(){var b=!1;this.$element.attr("data-cfw","lazy"),""!==this.$element.attr("src")&&void 0!==this.$element.attr("src")&&this.$element.attr("src")!==!1||this.$element.is("img")&&this.$element.attr("src",this.settings.placeholder),this.instance=this.$element.CFW_getID("cfw-lazy");for(var c=this.settings.trigger.split(" "),d=c.length;d--;){var e=c[d];"scroll"==e||"resize"==e?(a(this.settings.container).on(e+".cfw.lazy."+this.instance,a().CFW_throttle(a.proxy(this._handleTrigger,this),this.settings.throttle)),b=!0):a(this.$element).on(e+".cfw.lazy",a.proxy(this.show,this))}this.$element.CFW_trigger("init.cfw.lazy"),b&&this.inViewport()&&this.show()},inViewport:function(){return!(!this.settings.invisible&&!this.$element.is(":visible"))&&!(this.belowFold()||this.afterRight()||this.aboveTop()||this.beforeLeft())},belowFold:function(){var b
;return b=this.settings.container===window?(window.innerHeight?window.innerHeight:this.$window.height())+this.$window.scrollTop():a(this.settings.container).offset().top+a(this.settings.container).height(),b<=this.$element.offset().top-this.settings.threshold},afterRight:function(){var b;return b=this.settings.container===window?this.$window.width()+this.$window.scrollLeft():a(this.settings.container).offset().left+a(this.settings.container).width(),b<=this.$element.offset().left-this.settings.threshold},aboveTop:function(){var b;return b=this.settings.container===window?this.$window.scrollTop():a(this.settings.container).offset().top,b>=this.$element.offset().top+this.settings.threshold+this.$element.height()},beforeLeft:function(){var b;return b=this.settings.container===window?this.$window.scrollLeft():a(this.settings.container).offset().left,b>=this.$element.offset().left+this.settings.threshold+this.$element.width()},loadSrc:function(){var a=this;this.$element.hide(),this.$element.attr("src",this.settings.src),this.$element[this.settings.effect](this.settings.speed),setTimeout(function(){a.$element.CFW_trigger("afterShow.cfw.lazy"),a.dispose()},this.settings.speed)},show:function(){var a=this;this.inTransition||this.$element.CFW_trigger("beforeShow.cfw.lazy")&&(this.inTransition=!0,setTimeout(function(){a.loadSrc()},this.settings.delay))},_handleTrigger:function(){null!==this.$element&&this.inViewport()&&this.show()},dispose:function(){a(this.settings.container).off(".cfw.lazy."+this.instance),this.$element.off(".cfw.lazy").removeData("cfw.lazy").removeAttr("data-cfw"),this.$element=null,this.$window=null,this.instance=null,this.inTransition=null,this.settings=null}},a.fn.CFW_Lazy=b,a.fn.CFW_Lazy.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.slider"),g="object"==typeof b&&b;f||e.data("cfw.slider",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}if(!a.fn.CFW_Drag)throw new Error("CFW_Slider requires CFW_Drag");var c=function(b,d){this.$element=a(b),this.$slider=null,this.$track=null,this.$selection=null,this.$thumbMin=null,this.$thumbMax=null,this.$inputMin=null,this.labelMinTxt="",this.$inputMax=null,this.labelMaxTxt="",this.ordinal=!1,this.range=!1,this.val0=0,this.val1=0;var e=this.$element.CFW_parseData("slider",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this.inDrag=null,this.startPos=null,this.offsetPos=this.settings.vertical?"top":"left",this.stepsTotal=null,this._init()};c.DEFAULTS={min:null,max:null,step:1,chunk:null,enabled:!0,vertical:!1,reversed:!1},c.prototype={_init:function(){this._initInputs()!==!1&&(this._initChunk(),this.createSlider(),this.updateValues(),this.updateThumbs(),this.updateLabels(),this.settings.enabled?this.enable(!0):this.disable(),this.$element.attr("data-cfw","slider"),this.$slider.CFW_trigger("init.cfw.slider"))},_initInputs:function(){var a=this.$element.find("input");if(a.length<=0&&(a=this.$element.find("select")),a.length<=0)return!1;this.$inputMin=a.eq(0),"SELECT"==this.$inputMin[0].nodeName&&(this.ordinal=!0),a.length>1&&(this.$inputMax=a.eq(a.length-1),this.range=!0)},_initChunk:function(){this.stepsTotal=Math.floor((this.settings.max-this.settings.min)/this.settings.step),this.settings.chunk||(this.settings.chunk=this.stepsTotal>4?Math.round(this.stepsTotal/4):2*this.settings.step)},createSlider:function(){var b=document.createElement("div");this.$slider=a(b).addClass("slider"),this.settings.vertical?a(b).addClass("slider-vertical"):a(b).addClass("slider-horizontal");var c=document.createElement("div");this.$track=a(c).addClass("slider-track");var d=document.createElement("div");this.$selection=a(d).addClass("slider-selection");var e=this._getLabel(this.$inputMin),f=e.CFW_getID("cfw-slider");this.labelMinTxt=e.text();var g=document.createElement("div");if(this.$thumbMin=a(g).addClass("slider-thumb slider-thumb-min").attr({role:"slider",tabindex:-1,"aria-labelledby":f}),this.range){var h=this._getLabel(this.$inputMax),i=h.CFW_getID("cfw-slider");this.labelMaxTxt=h.text();var j=document.createElement("div");this.$thumbMax=a(j).addClass("slider-thumb slider-thumb-max").attr({role:"slider",tabindex:-1,"aria-labelledby":i}),this.$thumbMin.attr("aria-controls",this.$thumbMax.CFW_getID("cfw-slider")),this.$thumbMax.attr("aria-controls",this.$thumbMin.CFW_getID("cfw-slider"))}this.$track.append(this.$selection),this.$track.append(this.$thumbMin),this.range&&this.$track.append(this.$thumbMax),this.$slider.append(this.$track),this.$element.append(this.$slider)},updateValues:function(){this.val0=this.ordinal?this.$inputMin[0].selectedIndex:parseFloat(this.$inputMin.val()),this.range?(this.val1=this.ordinal?this.$inputMax[0].selectedIndex:parseFloat(this.$inputMax.val()),this.$thumbMin.attr({"aria-valuemin":this.settings.min,"aria-valuemax":this.val1,"aria-valuenow":this.val0}),this.$thumbMax.attr({"aria-valuemin":this.val0,"aria-valuemax":this.settings.max,"aria-valuenow":this.val1})):this.$thumbMin.attr({"aria-valuemin":this.settings.min,"aria-valuemax":this.settings.max,"aria-valuenow":this.val0})},updateThumbs:function(){var a,b,c,d,e,f;this.$selection.css({top:"",left:"",width:"",height:""}),this.$thumbMin.css({top:"",left:""}),this.range&&this.$thumbMax.css({top:"",left:""}),this.range?(a=this.val0,b=this.val1):(a=this.settings.min,b=this.val0),c=(a-this.settings.min)/(this.settings.max-this.settings.min)*100,f=c,d=(b-this.settings.min)/(this.settings.max-this.settings.min)*100,c<0&&(c=0),d>100&&(d=100),e=d-c,this.settings.reversed&&(c=100-c,d=100-d,f=d);var g=this.settings.vertical?"top":"left",h=this.settings.vertical?"height":"width";this.$selection.css(g,f+"%").css(h,e+"%"),this.range?(this.$thumbMin.css(g,c+"%"),this.$thumbMax.css(g,d+"%")):this.$thumbMin.css(g,d+"%")},updateLabels:function(){this.$thumbMin.attr("aria-valuetext",this.labelMinTxt+" "+this.$inputMin.val()),this.range&&this.$thumbMax.attr("aria-valuetext",this.labelMaxTxt+" "+this.$inputMax.val())},enable:function(a){void 0===a&&(a=!1),!a&&this.settings.enabled||(this.settings.enabled=!0,this.$slider.removeClass("disabled"),this.bindSlider(),this.$slider.CFW_trigger("enabled.cfw.slider"))},disable:function(){this.settings.enabled&&(this.settings.enabled=!1,this.$slider.addClass("disabled"),this.unbindSlider(),this.$slider.CFW_trigger("disabled.cfw.slider"))},bindSlider:function(){var b=this,c=this.$thumbMin,d=this.$inputMin;this.range&&(c=c.add(this.$thumbMax),d=d.add(this.$inputMax)),c.attr("tabindex",0).on("keydown.cfw.slider",function(a){b._actionsKeydown(a,this)}).on("focusin.cfw.slider",function(){a(this).css("z-index",parseInt(a(this).css("z-index"),10)+1)}).on("focusout.cfw.slider",function(){a(this).css("z-index","")}),this.$track.on("dragStart.cfw.drag",function(a){b._dragStart(a)}).on("drag.cfw.drag",function(a){b._drag(a)}).on("dragEnd.cfw.drag",function(){b._dragEnd()}).CFW_Drag(),d.on("change.cfw.slider",function(){var c=a(this),d=b.ordinal?c[0].selectedIndex:parseFloat(c.val());b.changeValue(d,c,!0)})},unbindSlider:function(){var a=this.$thumbMin,b=this.$inputMin;this.range&&(a=a.add(this.$thumbMax),b=b.add(this.$inputMax)),a.attr("tabindex","").off(".cfw.slider"),this.$track.CFW_Drag("dispose"),b.off(".cfw.slider")},decrement:function(a,b){var c=this.ordinal?b[0].selectedIndex:parseFloat(b.val());this.changeValue(c-(a?this.settings.chunk*this.settings.step:this.settings.step),b)},increment:function(a,b){var c=this.ordinal?b[0].selectedIndex:parseFloat(b.val());this.changeValue(c+(a?this.settings.chunk*this.settings.step:this.settings.step),b)},changeValue:function(a,b,c){void 0===c&&(c=!1);var d,e,f=this.ordinal?b[0].selectedIndex:parseFloat(b.val());this.range?b.is(this.$inputMax)?(d=this.val0,e=this.settings.max):(d=this.settings.min,e=this.val1):(d=this.settings.min,e=this.settings.max);var g;void 0!==a&&(g=Math.min(Math.max(a,d),e),g=Math.round(g/this.settings.step)*this.settings.step),void 0!==g&&(this.ordinal?b[0].selectedIndex=g:b.prop("value",g),this.updateValues(),this.updateThumbs(),this.updateLabels(),c||this.$slider.CFW_trigger("slid.cfw.slider"),(c||g!=f)&&this.$slider.CFW_trigger("changed.cfw.slider"))},_getInput:function(b){return a(b).is(this.$thumbMax)?this.$inputMax:this.$inputMin},_getLabel:function(b){var c=a('label[for="'+b.attr("id")+'"]');return c.length<=0&&(c=b.closest("label")),c},_actionsKeydown:function(a,b){var c=this;if(/(37|38|39|40|33|34|35|36)/.test(a.which)){a.stopPropagation(),a.preventDefault();var d=this._getInput(b);switch(a.which){case 37:case 40:c.decrement(!1,d);break;case 38:case 39:c.increment(!1,d);break;case 33:c.increment(!0,d);break;case 34:c.decrement(!0,d);break;case 35:c.changeValue(this.settings.max,d);break;case 36:c.changeValue(this.settings.min,d)}}},_dragStart:function(b){var c=a(b.currentTarget);c.is(this.$track)&&(c=this._closestThumb(b)),c.trigger("focus"),this.inDrag=c[0];var d=this.settings.vertical?b.startY:b.startX,e=this.$track.offset(),f=d-e[this.offsetPos];this.startPos=f;var g=this._positionToValue(f),h=this._getInput(c[0]);this.changeValue(g,h),this.$slider.CFW_trigger("dragStart.cfw.slider")},_drag:function(a){if(null!=this.inDrag){var b=this.settings.vertical?a.deltaY:a.deltaX,c=this.startPos+b,d=this._getInput(this.inDrag),e=this._positionToValue(c);this.changeValue(e,d)}},_dragEnd:function(){this.inDrag=null,this.startPos=null,this.$slider.CFW_trigger("dragEnd.cfw.slider")},_positionToValue:function(a){var b;b=this.settings.vertical?this.$track.outerHeight():this.$track.outerWidth();var c=b/this.stepsTotal;return a=this.settings.reversed?b-a:a,Math.round(a/c)*this.settings.step+this.settings.min},_closestThumb:function(a){var b;if(this.range){var c=this.settings.vertical?a.pageY:a.pageX,d=this.$track.offset();b=Math.abs(c-d[this.offsetPos]-this.$thumbMin.position()[this.offsetPos])<Math.abs(c-d[this.offsetPos]-this.$thumbMax.position()[this.offsetPos])?this.$thumbMin:this.$thumbMax}else b=this.$thumbMin;return b},dispose:function(){this.unbindSlider(),this.$element.removeData("cfw.slider"),this.$slider.remove(),this.$element=null,this.$slider=null,this.$track=null,this.$selection=null,this.$thumbMin=null,this.$thumbMax=null,this.$inputMin=null,this.labelMinTxt=null,this.$inputMax=null,this.labelMaxTxt=null,this.ordinal=null,this.range=null,this.val0=null,this.val1=null,this.settings=null,this.inDrag=null,this.startPos=null,this.offsetPos=null,this.stepsTotal=null}},a.fn.CFW_Slider=b,a.fn.CFW_Slider.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.equalize"),g="object"==typeof b&&b;f||e.data("cfw.equalize",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$window=a(window),this.instance="";var e=this.$element.CFW_parseData("equalize",c.DEFAULTS);this.settings=a.extend({},c.DEFAULTS,e,d),this._init()};c.DEFAULTS={target:"",throttle:250,stack:!1,row:!1,minimum:!1},c.prototype={_init:function(){this.instance=a("<div/>").CFW_getID("cfw-equalize"),this.$window.on("resize.cfw.equalize."+this.instance,a().CFW_throttle(a.proxy(this.update,this),this.settings.throttle)),this.$element.attr("data-cfw","equalize"),this.$element.CFW_trigger("init.cfw.equalize"),this.update(!0)},equalize:function(b){var c,d=this,e=!1;void 0===b&&(b=!1);var f=this.$element.find('[data-cfw="equalize"]'),g=!1;if((b||(f.each(function(){a(this).data("cfw.equalize")&&(g=!0)}),!g))&&this.$element.CFW_trigger("beforeEqual.cfw.equalize")){var h=this.settings.target;if(void 0===h||h.length<=0)return!1;var i=a(this.settings.target,this.$element);i.length||(i=a('[data-cfw-equalize-group="'+h+'"]',this.$element)),i=i.filter(":visible");var j=i.length;if(j<=0)return!1;if(i.height(""),this.settings.row&&!this.settings.stack){var k=0,l=a();i.each(function(b){var e=a(this);k=parseInt(e.offset().top,10),k!==c&&(l.length>1&&d._applyHeight(l),l=a(),c=parseInt(e.offset().top,10)),l=l.add(e),b===j-1&&d._applyHeight(l)})}else this.settings.stack||(c=i.first().offset().top,i.each(function(){if(a(this).offset().top!==c)return e=!0,!1})),e||this._applyHeight(i);this.$element.CFW_trigger("afterEqual.cfw.equalize"),this.$element.parent().closest('[data-cfw="equalize"]').each(function(){var b=a(this);"object"==typeof b.data("cfw.equalize")&&b.CFW_Equalize("update",!0)})}},_applyHeight:function(b,c){var d=b.map(function(){return a(this).outerHeight(!1)}).get();if(this.settings.minimum){var e=Math.min.apply(null,d);b.css("height",e)}else{var f=Math.max.apply(null,d);b.css("height",f)}c&&c()},update:function(a){var b=this;void 0!==a&&"object"!=typeof a||(a=!1);var c=this.$element.find("img");this.imageLoaded(c,function(){b.equalize(a)})},imageLoaded:function(b,c){function d(a){for(var b=a.length,c=b-1;c>=0;c--)if(void 0===a.attr("height"))return!1;return!0}var e=this,f=b.length;(0===f||d(b))&&c(b),b.each(function(){e.imageWatch(a(this),function(){f-=1,0===f&&c(b)})})},imageWatch:function(a,b){function c(){b(a[0])}function d(){if(a.off("load").one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var b=a.attr("src"),d=b.match(/\?/)?"&":"?";d+="cfwequalize="+(new Date).getTime(),a.attr("src",b+d)}}if(!a.attr("src"))return void c();a.is('[data-cfw="lazy"]')?a.one("afterShow.cfw.lazy",c):a[0].complete||4===a[0].readyState?c():d()},dispose:function(){this.$window.off(".cfw.equalize."+this.instance),this.$element.removeData("cfw.equalize"),this.$element=null,this.$window=null,this.instance=null,this.settings=null}},a.fn.CFW_Equalize=b,a.fn.CFW_Equalize.Constructor=c}(jQuery),function(a){"use strict";function b(){var a=document.createElement("audio"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),b.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),b.opus=a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),b.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),b.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return b}function c(){var a=document.createElement("video"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),b.vp9=a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),b.hls=a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(a){}return b}function d(b){var c=[].splice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data("cfw.player"),g="object"==typeof b&&b;e||d.data("cfw.player",e=new f(this,g)),"string"==typeof b&&e[b].apply(e,c)})}var e={audio:null,video:null};e.audio=b(),e.video=c();var f=function(b,c){this.$element=a(b),this.type="audio",this.$media=null,this.media=null,this.$player=null,this.$focus=null,this.$sliderSeek=null,this.$volSeek=null,this.activity=null,this.over=null,this.userActive=!0,this.activityTimer=null,this.mouseActivity=null,this.scrubPlay=null,this.played=!1,this.status={duration:0,currentTime:0,remaining:0},this.support={mute:!0,volume:!0},this.trackValid=[],this.trackCurrent=-1,this.$scriptElm=null,this.scriptCurrent=-1,this.scriptCues=null;var d=this.$element.CFW_parseData("player",f.DEFAULTS);this.settings=a.extend({},f.DEFAULTS,d,c),this._init()};f.DEFAULTS={src:"",transcript:-1,transcriptScroll:!0,transcriptOption:!0},f.prototype={_init:function(){return this.$media=this.$element.find("audio, video"),this.media=this.$media[0],null!=this.media&&("VIDEO"==this.media.nodeName&&(this.type="video"),"audio"==this.type&&!e.audio||"video"==this.type&&!e.video?(this.$media.CFW_trigger("noSupport.cfw.player"),!1):(this.$element.attr("data-cfw","player").addClass("player-unstarted"),this.$player=this.$element.find('[data-cfw-player="player"]'),this.$player.length>0&&(this.media.controls=!1),void this.loadComplete()))},insertPlayer:function(){var b=a(document.createElement("div")).addClass("player");this.$media.after(b)},loadCheck:function(){var a=this,b=0;try{this.media.play(),this.media.pause()}catch(a){return void this.error()}var c=setInterval(function(){return a.media.readyState>0?(clearInterval(c),void a.loadComplete()):3===a.media.networkState||75===b?(clearInterval(c),void a.error()):void b++},50)},loadComplete:function(){var b=this;this.$media.on("error",function(){b.error()}),this.$media.on("play canplay pause",function(){b.controlStatus(),b.playedStatus()}),this.$media.on("loadedmetadata loadeddata progress canplay canplaythrough timeupdate durationchange",function(){b.playedStatus(),b.timeStatus(),b.seekStatus()}),this.$media.on("ended",function(){b.seekReset()}),this.$media.on("volumechange",function(){b.muteStatus(),b.volumeStatus()}),"video"==this.type&&(a(document).on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange fullscreenchange",function(){b.fullscreenStatus()}),this.$player.on("mouseenter mouseleave",function(a){switch(b.activity=!0,a.type){case"mouseenter":b.over=!0;break;case"mouseleave":b.over=!1}}),this.$element.on("mousemove mousedown mouseup keydown keyup touchmove touchstart touchend",function(a){switch(b.activity=!0,a.type){case"mousedown":case"touchstart":clearInterval(b.mouseActivity),b.mouseActivity=setInterval(function(){b.activity=!0},250);break;case"mouseup":case"touchend":clearInterval(b.mouseActivity)}}),this.$media.on("click",function(){b.toggle(),b._focusHelper()}),this.activityInit()),this.$player.on("click",'[data-cfw-player="play"]',function(a){a.preventDefault(),b.media.play(),b._focusControl(b.$player.find('[data-cfw-player="pause"]')[0])}),this.$player.on("click",'[data-cfw-player="pause"]',function(a){a.preventDefault(),b.media.pause(),b._focusControl(b.$player.find('[data-cfw-player="play"]')[0])}),this.$player.on("click",'[data-cfw-player="stop"]',function(a){a.preventDefault(),b.stop(),b._focusControl(this)}),this.$player.on("click",'[data-cfw-player="mute"]',function(a){a.preventDefault(),b.mute(),b._focusControl(this)}),this.$player.on("click",'[data-cfw-player="loop"]',function(a){a.preventDefault(),b.loop(),b._focusControl(this)}),this.$player.on("click",'[data-cfw-player="fullscreen"]',function(a){a.preventDefault(),b.fullscreen(),b._focusControl(this)}),this.$element.on("keydown",function(a){b._actionsKeydown(a)}),this.controlStatus(),this.volumeSupport(),this.timeStatus(),this.seekStatus(),this.muteStatus(),this.volumeStatus(),this.loopStatus(),this.trackList(),"video"==this.type&&this.trackInit(),this.scriptInit(),this.$player.addClass("ready");var c=document.createElement("div");c.className="player-focus sr-only",c.tabIndex="-1",this.$focus=a(c),this.$element.prepend(this.$focus),this.$media.CFW_trigger("ready.cfw.player"),this.media.autoplay&&this.media.play()},error:function(){this.$media.CFW_trigger("error.cfw.player")},toggle:function(){this.media.paused?(this.playedStatus(!0),this.media.play()):this.media.pause()},play:function(){this.playedStatus(!0),this.media.play()},pause:function(){this.media.pause()},stop:function(){this.media.pause(),this.seekTo(0)},controlStatus:function(){var a=this.$player.find('[data-cfw-player="control"]'),b=this.$player.find('[data-cfw-player="play"]'),c=this.$player.find('[data-cfw-player="pause"]');a.removeClass("pause play"),b.add(c).removeClass("on off").addClass("off"),this.media.paused?(a.addClass("pause"),b.removeClass("off").addClass("on"),this.$element.addClass("player-paused")):(a.addClass("play"),c.removeClass("off").addClass("on"),this.$element.removeClass("player-paused"))},playedStatus:function(a){void 0===a&&(a=!1),this.played||(a||this.media.played.length>0)&&(this.played=!0,this.$element.removeClass("player-unstarted"))},timeStatus:function(){this.status.duration=this.media.duration,this.status.currentTime=this.media.currentTime,this.status.remaining=this.status.duration-this.status.currentTime,this.status.remaining<0&&(this.status.remaining=0);var a=this.$player.find('[data-cfw-player="time-duration"]'),b=this.$player.find('[data-cfw-player="time-current"]'),c=this.$player.find('[data-cfw-player="time-remainder"]');this.status.duration>0?this.$player.removeClass("player-notime"):this.$player.addClass("player-notime"),this.status.duration===1/0?this.$player.addClass("player-live"):this.$player.removeClass("player-live"),a.html(this.timeSplit(this.status.duration)),b.html(this.timeSplit(this.status.currentTime)),c.html(this.timeSplit(this.status.remaining))},timeSplit:function(a){(isNaN(a)||a===1/0)&&(a=0);var b=Math.floor(a/3600),c=Math.floor(a/60)-60*b,d=Math.floor(a)-3600*b-60*c,e=this.timeDigits(c)+":"+this.timeDigits(d);return b>0&&(e=b+":"+e),0===e.indexOf("0")&&(e=e.substr(1)),e},timeDigits:function(a){return("0"+a).slice(-2)},seekStatus:function(){var a=this.$player.find('[data-cfw-player="seek"]');a.find("input").length?this.seekSlider():a.hasClass("progress")&&this.seekProgress()},seekSlider:function(){var b=this;if(!isNaN(this.media.duration)&&this.media.duration!==1/0){if(null==this.$sliderSeek){this.$sliderSeek=this.$player.find('[data-cfw-player="seek"]'),this.$sliderSeek.CFW_Slider({min:0,max:this.media.duration,step:.5}),this.$sliderSeek.on("slid.cfw.slider",function(){var c=a(this).data("cfw.slider").val0;b.seekTo(c)});var c=this.$sliderSeek.add(this.$sliderSeek.find(".slider-thumb"));c.on("keydown.cfw.slider dragStart.cfw.slider",function(d){("keydown"!=d.type||/(37|38|39|40|33|34|35|36)/.test(d.which))&&("keydown"==d.type&&d.stopPropagation,c.off("keyup.cfw.slider dragEnd.cfw.slider"),null==b.scrubPlay&&(b.scrubPlay=!b.media.paused),b.media.pause(),a(d.currentTarget).one("keyup.cfw.slider dragEnd.cfw.slider",function(a){"keyup"==a.type&&a.stopPropagation,b.scrubPlay===!0&&b.media.play(),b.scrubPlay=null}))})}var d=this.$sliderSeek.find("input").eq(0);this.$sliderSeek.CFW_Slider("changeValue",this.media.currentTime,d,!0)}},seekProgress:function(){if(!isNaN(this.media.duration)&&this.media.duration!==1/0){var a=this.$player.find('[data-cfw-player="seek-current"]');a.attr("role","progressbar").attr("aria-label","Playback progress");var b=this.media.currentTime/this.media.duration*100;b>100&&(b=100),a.attr({"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":b}).css("width",b+"%")}},seekReset:function(){this.media.loop?this.media.play():this.media.pause()},seekIncrement:function(a){var b=this.media.currentTime+a,c=b<0?0:b>this.media.duration?this.media.duration:b;this.seekTo(c)},seekTo:function(a){var b=this.media.seekable;b.length>0&&a>=b.start(0)&&a<=b.end(0)&&(this.media.currentTime=a)},mute:function(){this.media.muted=!this.media.muted,this.muteStatus(),this.volumeStatus()},muteStatus:function(){var a=this.$player.find('[data-cfw-player="mute"]');this.support.mute?this.media.muted?a.addClass("active"):a.removeClass("active"):a.addClass("disabled")},volumeSupport:function(){var a=this.media.muted,b=this.media.volume,c=.5;.5===this.media.volume&&(c=.25),this.media.volume=c,this.media.volume!==c&&(this.support.mute=!1,this.support.volume=!1),this.media.volume=b,this.media.muted=a},volumeStatus:function(){var b=this,c=this.$player.find('[data-cfw-player="volume"]');if(!(c.find("input").length<=0)){if(!this.support.mute)return void c.addClass("disabled");null==this.$volSeek&&(this.$volSeek=c,this.$volSeek.CFW_Slider({min:0,max:1,step:.01}),this.$volSeek.on("slid.cfw.slider",function(){var c=parseFloat(a(this).data("cfw.slider").val0);0===c?b.media.muted=!0:(b.media.muted=!1,b.media.volume=c)}));var d=this.$volSeek.find("input").eq(0);this.media.muted?this.$volSeek.CFW_Slider("changeValue",0,d,!0):this.$volSeek.CFW_Slider("changeValue",this.media.volume,d,!0)}},volumeIncrement:function(a){var b=100*this.media.volume+a,c=b<0?0:b>100?100:parseInt(b,10);this.media.volume=c/100},loop:function(a){this.media.loop=void 0!==a?a:!this.media.loop,this.loopStatus()},speed:function(a){void 0!==a&&(this.media.playbackRate=a)},loopStatus:function(){var a=this.$player.find('[data-cfw-player="loop"]');this.media.loop?(a.addClass("active"),this._pressedState(a,!0)):(a.removeClass("active"),this._pressedState(a,!1))},isFullScreen:function(){return a(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement).is(this.$element)},fullscreen:function(){if("audio"!=this.type)if(this.isFullScreen())document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var a=this.$element[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}},fullscreenStatus:function(){var a=this.$player.find('[data-cfw-player="fullscreen"]');this.isFullScreen()?(a.addClass("active"),this.$element.addClass("player-fulldisplay"),this.$media.CFW_trigger("enterFullscreen.cfw.player")):(a.removeClass("active"),this.$element.removeClass("player-fulldisplay"),this.$media.CFW_trigger("exitFullscreen.cfw.player"))},trackList:function(){var a=this,b=this.media.textTracks;if(b.length<=0)return null;for(var c=[],d=0;d<b.length;d++)"captions"!=b[d].kind&&"subtitles"!=b[d].kind||c.push(d);this.trackValid=c,this.media.textTracks.addEventListener("change",function(){a.trackStatus()})},trackInit:function(){var b=this,c=this.$player.find('[data-cfw-player="caption"]');if(!(c.length<=0)){if(this.trackValid.length<=0)return void c.addClass("disabled");if(1==this.trackValid.length)this.$player.on("click",'[data-cfw-player="caption"]',function(a){a.preventDefault(),c.hasClass("active")?b.trackSet(-1):b.trackSet(0),b._focusControl(this)}),"showing"==this.media.textTracks[0].mode&&b.trackSet(0);else{var d=a('<ul class="player-caption-menu dropdown-menu"></ul>');c.wrap('<span class="player-caption-wrapper"></span>');c.parent().append(d);var e=d.CFW_getID("cfw-player"),f=a('<li class="player-caption-off"><a href="#" data-cfw-player-track="-1">Off</a></li>');d.append(f);for(var g=this.media.textTracks,h=0;h<this.trackValid.length;h++){var i=this.trackValid[h];f=a('<li><a href="#" data-cfw-player-track="'+i+'">'+g[i].label+"</a></li>"),d.append(f)}this.$player.on("click","[data-cfw-player-track]",function(c){c.preventDefault();var d=a(this),e=d.attr("data-cfw-player-track");b.trackSet(e)}),c.CFW_Dropdown({toggle:"#"+e})}this.trackStatus()}},trackSet:function(a){a=parseInt(a,10);var b=this.media.textTracks;if(!(b.length<=0)){this.trackCurrent=a;for(var c=0;c<b.length;c++)"showing"==b[c].mode&&(b[c].mode="hidden"),c===a&&(b[c].mode="showing");this.trackStatus()}},trackStatus:function(){var a=this.media.textTracks;if(!(a.length<=0)){var b=this.$player.find('[data-cfw-player="caption"]');if(!(b.length<=0))if(1==this.trackValid.length)this.trackCurrent==-1?(b.removeClass("active"),this._pressedState(b,!1)):(b.addClass("active"),this._pressedState(b,!0));else{var c=b.parent();b.removeClass("active"),c.removeClass("active"),c.find("[data-cfw-player-track]").closest("li").removeClass("active");for(var d=0;d<a.length;d++)"showing"==a[d].mode&&(b.addClass("active"),c.addClass("active"),c.find('[data-cfw-player-track="'+d+'"]').closest("li").addClass("active"),this.trackCurrent=d)}}},scriptInit:function(){var b=this,c=this.$player.find('[data-cfw-player="transcript"]');if(!(c.length<=0)){if(this.trackValid.length<=0)return void c.addClass("disabled");if(1!=this.trackValid.length||this.settings.transcriptOption){var d=a('<ul class="player-script-menu dropdown-menu"></ul>');c.wrap('<span class="player-script-wrapper"></span>');c.parent().append(d);var e=d.CFW_getID("cfw-player"),f=a('<li class="player-script-off"><a href="#" data-cfw-player-script="-1">Off</a></li>');d.append(f);for(var g=this.media.textTracks,h=0;h<this.trackValid.length;h++){var i=this.trackValid[h];f=a('<li><a href="#" data-cfw-player-script="'+i+'">'+g[i].label+"</a></li>"),d.append(f)}if(this.settings.transcriptOption){f=a('<li class="dropdown-divider"></li>'),d.append(f);var j=this.settings.transcriptScroll?"true":"false";f=a('<li><a href="#" class="player-script-scroll-check '+(this.settings.transcriptScroll?"active":"")+'" data-cfw-player-script-scroll="'+j+'" aria-checked="'+j+'"><span class="player-script-scroll-check-icon"></span>Auto-scroll</a></li>'),d.append(f)}this.$player.on("click","[data-cfw-player-script]",function(c){c.preventDefault();var d=a(this),e=d.attr("data-cfw-player-script");b.scriptSet(e)}),this.settings.transcriptOption&&this.$player.on("click","[data-cfw-player-script-scroll]",function(c){c.preventDefault();var d=a(this);b.settings.transcriptScroll=!b.settings.transcriptScroll,d.attr("aria-checked",b.settings.transcriptScroll),d.toggleClass("active")}),c.CFW_Dropdown({toggle:"#"+e})}else c.removeClass("active"),this._pressedState(c,!1),c.on("click",function(a){a.preventDefault(),c.hasClass("active")?b.scriptSet(-1):b.scriptSet(0),b._focusControl(this)});this.settings.transcript!==-1&&this.scriptSet(this.settings.transcript)}},scriptSet:function(b){if(b=parseInt(b,10),!(this.trackValid.length<=0||this.trackValid.indexOf(b)==-1&&b!=-1||b==this.scriptCurrent)){if(b==-1&&null!==this.$scriptElm){if(!this.$media.CFW_trigger("beforeTranscriptHide.cfw.player"))return}else if(!this.$media.CFW_trigger("beforeTranscriptShow.cfw.player"))return;var c=this.$player.find('[data-cfw-player="transcript"]');if(null!==this.$scriptElm&&(this.$scriptElm.remove(),this.$scriptElm=null),this.$element.removeClass("player-scriptshow"),c.length)if(1!=this.trackValid.length||this.settings.transcriptOption){var d=c.parent();c.removeClass("active"),d.removeClass("active"),d.find("[data-cfw-player-script]").closest("li").removeClass("active")}else c.removeClass("active"),this._pressedState(c,!1);this.scriptCurrent!==-1&&(a(this.media.textTracks[this.scriptCurrent]).off("cuechange.cfw.player.transcript"),this.$media.off("timeupdate.cfw.player.transcript")),this.scriptCurrent=b,b==-1?(this.scriptCues=null,this.$media.CFW_trigger("afterTranscriptHide.cfw.player")):this.scriptLoad()}},scriptLoad:function(a){function b(a){var b=c.media.textTracks,d=b[c.scriptCurrent].cues;if(d&&d.length<=0&&!a)return c.$media.one("loadeddata.cfw.player.script",function(){c.scriptLoad(!0)}),void c.$media.trigger("load");c.scriptCues=d,c.scriptProcess()}var c=this;void 0===a&&(a=!1),this.$media.off("loadeddata.cfw.player.script");var d=this.media.textTracks;if(d.length<=0||this.scriptCurrent==-1)return void(this.scriptCues=null);var e=d[this.scriptCurrent].cues;if(null==e||e.length<=0){for(var f=this.trackCurrent==-1?null:d[this.trackCurrent].mode,g=0;g<d.length;g++)d[g].mode="hidden";null!==f&&(d[this.trackCurrent].mode=f)}setTimeout(function(){b(a)},100)},scriptProcess:function(){var b=this;if(null!=this.scriptCues){var c=function(b,c){var d=a('<span class="player-scripttxt-seekpoint player-scripttxt-caption"></span>'),e=function(b){var c=[];if(""===b)return c;var d=b.indexOf("["),f=b.indexOf("]"),g=b.indexOf("("),h=b.indexOf(")"),i=d!==-1&&f!==-1,j=g!==-1&&h!==-1;return j&&i&&d<g||i?(c=c.concat(e(b.substring(0,d))),c.push(a('<span class="player-scripttxt-unspoken">'+b.substring(d,f+1)+"</span>")),c=c.concat(e(b.substring(f+1)))):j?(c=c.concat(e(b.substring(0,g))),c.push(a('<span class="player-scripttxt-unspoken">'+b.substring(g,h+1)+"</span>")),c=c.concat(e(b.substring(h+1)))):c.push(b),c};d.append(e(c.text)),d.attr({"data-start":c.startTime.toString(),"data-end":c.endTime.toString()}),b.append(d),b.append("\n")},d=this.$player.find('[data-cfw-player="transcript"]');if(this.$element.addClass("player-scriptshow"),1!=this.trackValid.length||this.settings.transcriptOption){if(d.length){var e=d.parent();d.addClass("active"),e.addClass("active"),
e.find('[data-cfw-player-script="'+this.scriptCurrent+'"]').closest("li").addClass("active")}}else d.addClass("active"),this._pressedState(d,!0);var f=a('<div class="player-scripttxt"></div>');this.$element.append(f),this.$scriptElm=this.$element.find(".player-scripttxt");for(var g=0;g<this.scriptCues.length;)c(this.$scriptElm,this.scriptCues[g]),g+=1;void 0!==this.media.textTracks[this.scriptCurrent].oncuechange?a(this.media.textTracks[this.scriptCurrent]).on("cuechange.cfw.player.transcript",function(){b.scriptHighlight(this.activeCues)}):this.$media.on("timeupdate.cfw.player.transcript",function(){b.scriptHighlight(b.media.textTracks[b.scriptCurrent].activeCues)}),a(".player-scripttxt-seekpoint",this.$scriptElm).on("click.cfw.player.scriptseek",function(){var c=parseFloat(a(this).attr("data-start"));b.scriptSeek(c)}),a(".player-scripttxt-seekpoint",this.$scriptElm).on("keydown.cfw.player.scriptseek",function(c){if(/(13)/.test(c.which)){c.stopPropagation(),c.preventDefault();var d=parseFloat(a(this).attr("data-start"));b.scriptSeek(d)}});var h;void 0!==this.media.textTracks[this.scriptCurrent].oncuechange?(h=a.Event("cuechange"),a(this.media.textTracks[this.scriptCurrent]).trigger(h)):(h=a.Event("timeupdate"),this.$media.trigger(h)),this.$media.CFW_trigger("afterTranscriptShow.cfw.player")}},scriptHighlight:function(b){if(a(".player-scripttxt-active",this.$scriptElm).removeClass("player-scripttxt-active"),!(b.length<=0)){var c=b[0].startTime,d=a('.player-scripttxt-caption[data-start="'+c+'"]',this.$scriptElm);if(d.addClass("player-scripttxt-active"),this.settings.transcriptScroll){var e=this.$scriptElm.scrollTop(),f=this.$scriptElm.innerHeight()/2,g=d.position().top,h=d.height()/2,i=Math.floor(e+g-f+h);i!==Math.floor(e)&&this.$scriptElm.scrollTop(i)}}},scriptSeek:function(a){var b=this;a+=.01,this.media.readyState<2?(this.$media.one("canplay",function(){b.seekTo(a)}),this.$media.trigger("load")):this.seekTo(a)},activityInit:function(){var a=this;setInterval(function(){a.activity&&!a.over&&(a.activity=!1,clearTimeout(a.activityTimer),a.activityStatus(!0),a.activityTimer=setTimeout(function(){a.activity||a.activityStatus(!1)},1e3))},250)},activityStatus:function(a){a=!!a,a!==this.userActive&&(this.userActive=a,a?(this.activity=!0,this.$element.removeClass("player-inactive")):(this.activity=!1,this.$element.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.$element.addClass("player-inactive")))},_actionsKeydown:function(b){if(/(32|33|34|35|36|37|38|39|40|70|77)/.test(b.which)&&32!=b.which&&"button"!==b.target.tagName&&"button"!==a(b.target).role("attr"))switch(b.stopPropagation(),b.preventDefault(),b.which){case 32:this.media.paused?this.media.play():this.media.pause(),this._focusHelper();break;case 38:this.volumeIncrement(5);break;case 40:this.volumeIncrement(-5);break;case 36:this.seekTo(0);break;case 35:this.seekTo(this.media.duration);break;case 37:this.seekIncrement(-5);break;case 39:this.seekIncrement(5);break;case 33:this.seekIncrement(this.status.duration/5);break;case 34:this.seekIncrement(this.status.duration/-5);break;case 70:this.fullscreen();break;case 77:this.mute()}},_pressedState:function(a,b){var c=!1;if(!(a.length<=0)){"button"===a.get(0).nodeName.toLowerCase()&&(c=!0);"button"===a.attr("role")&&(c=!0),c&&a.attr("aria-pressed",b)}},_focusControl:function(b){var c=a(b);c.length<=0||setTimeout(function(){c.is("a, button")?c.trigger("focus"):c.find("a:visible, button:visible").eq(0).trigger("focus")},150)},_focusHelper:function(){var b=this,c=a(document.activeElement);setTimeout(function(){c.is(":visible")||b.$focus.trigger("focus")},10)},dispose:function(){clearTimeout(this.activityTimer),this.$scriptElm&&(a(".player-scripttxt-seekpoint",this.$scriptElm).off(),this.$scriptElm.remove()),this.$sliderSeek&&this.$sliderSeek.CFW_Slider("dispose"),this.$volSeek&&this.$volSeek.CFW_Slider("dispose"),a.hasData(this.$player.find('[data-cfw-player="caption"]'))&&this.$player.find('[data-cfw-player="caption"]').CFW_Dropdown("dispose"),a.hasData(this.$player.find('[data-cfw-player="transcript"]'))&&this.$player.find('[data-cfw-player="transcript"]').CFW_Dropdown("dispose"),this.$player.off(),this.$media.off(),this.$element.off().removeData("cfw.player"),this.$element=null,this.type=null,this.$media=null,this.media=null,this.$player=null,this.$focus=null,this.$sliderSeek=null,this.$volSeek=null,this.activity=null,this.over=null,this.userActive=null,this.activityTimer=null,this.mouseActivity=null,this.scrubPlay=null,this.played=null,this.status=null,this.support=null,this.trackValid=null,this.trackCurrent=null,this.$scriptElm=null,this.scriptCurrent=null,this.scriptCues=null,this.settings=null}},a.fn.CFW_Player=d,a.fn.CFW_Player.Constructor=f}(jQuery),function(a){"use strict";a.fn.CFW_Init=function(){var b=a(this);b||(b=a(document.body)),a('[data-cfw-dismisss="alert"]',b).each(function(){a(this).CFW_Alert()}),a('[data-cfw^="button"]',b).each(function(){a(this).CFW_Button()}),a('[data-cfw="collapse"]',b).each(function(){a(this).CFW_Collapse()}),a('[data-cfw="dropdown"]',b).each(function(){a(this).CFW_Dropdown()}),a('[data-cfw="tab"]',b).each(function(){a(this).CFW_Tab()}),a('[data-cfw="tooltip"]',b).each(function(){a(this).CFW_Tooltip()}),a('[data-cfw="popover"]',b).each(function(){a(this).CFW_Popover()}),a('[data-cfw="modal"]',b).each(function(){a(this).CFW_Modal()}),a('[data-cfw="affix"]',b).each(function(){a(this).CFW_Affix()}),a('[data-cfw="tabResponsive"]',b).each(function(){a(this).CFW_TabResponsive()}),a('[data-cfw="accordion"]',b).each(function(){a(this).CFW_Accordion()}),a('[data-cfw="slideshow"]',b).each(function(){a(this).CFW_Slideshow()}),a('[data-cfw="scrollspy"]',b).each(function(){a(this).CFW_Scrollspy()}),a('[data-cfw="lazy"]',b).each(function(){a(this).CFW_Lazy()}),a('[data-cfw="slider"]',b).each(function(){a(this).CFW_Slider()}),a('[data-cfw="equalize"]',b).each(function(){a(this).CFW_Equalize()}),a('[data-cfw="player"]',b).each(function(){a(this).CFW_Player()})},a(window).ready(function(){"undefined"!=typeof CFW_API&&CFW_API===!1||a(document.body).CFW_Init()})}(jQuery);