@use "sass:list";
@use "../settings";
@use "../settings-options";

@mixin box-shadow($shadow...) {
    @if settings-options.$enable-shadows {
        $result: ();

        @if (list.length($shadow) == 1 and list.nth($shadow, 1) != null) {
            // Pass along `@include box-shadow(none);`
            $result: $shadow;
        } @else {
            // Filter to avoid invalid properties for example `box-shadow: none, 1px 1px black;`
            @for $i from 1 through list.length($shadow) {
                @if list.nth($shadow, $i) != "none" and list.nth($shadow, $i) != null {
                    $result: list.append($result, list.nth($shadow, $i), "comma");
                }
            }
        }

        @if (list.length($result) > 0) {
            box-shadow: $result;
        }
    }
}
