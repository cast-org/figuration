@use "../mixins/border";
@use "../mixins/font-size";
@use "../mixins/hover";
@use "../mixins/transition";
@use "../settings";
@use "../settings-options";

// Base class
// Kickstart any navigation component with a set of style resets. Works with
// `<nav>`s or `<ul>`s.
@if settings-options.$enable-nav {
    .nav {
        display: flex;
        flex-wrap: wrap;
        padding-left: 0;
        margin-bottom: 0;
        list-style: none;
    }

    .nav-link {
        display: block;
        padding: settings.$nav-link-padding-y settings.$nav-link-padding-x;
        @include font-size.font-size(settings.$nav-link-font-size);
        font-weight: settings.$nav-link-font-weight;
        color: settings.$nav-link-color;
        text-decoration: settings.$nav-link-decoration;
        background: none;
        border: 0;
        @include transition.transition(settings.$nav-link-transition);

        @include hover.hover-focus() {
            color: settings.$nav-link-hover-color;
            text-decoration: settings.$nav-link-hover-decoration;
        }

        // Disabled state lightens text and removes hover/focus effects
        // By default it also influences `.nav-tab` and `.nav-pills`
        &.disabled,
        &:disabled {
            color: settings.$nav-link-disabled-color;
            text-decoration: none;
            pointer-events: none;
            cursor: default;
            opacity: settings.$nav-link-disabled-opacity;
        }
    }


    // Tabs
    @if settings-options.$enable-nav-tabs {
        .nav-tabs {
            flex-flow: row wrap;
            border-bottom: settings.$nav-tabs-border-width solid settings.$nav-tabs-border-color;

            .nav-link {
                // Make the list-items overlay the bottom border
                margin-bottom: -(settings.$nav-tabs-border-width);
                border: settings.$nav-tabs-border-width solid transparent;
                @include border.border-radius(settings.$border-radius settings.$border-radius 0 0);

                @include hover.hover-focus() {
                    color: settings.$nav-tabs-hover-color;
                    background-color: settings.$nav-tabs-hover-bg;
                    border-color: settings.$nav-tabs-hover-border-color settings.$nav-tabs-hover-border-color settings.$nav-tabs-border-color;
                }

                &.disabled,
                &:disabled {
                    color: settings.$nav-link-disabled-color;
                    background-color: transparent;
                    border-color: transparent;
                }

                &.active,
                &.open {
                    color: settings.$nav-tabs-active-color;
                    background-color: settings.$nav-tabs-active-bg;
                    border-color: settings.$nav-tabs-active-border-color settings.$nav-tabs-active-border-color settings.$nav-tabs-active-bg;
                }
            }

            @if settings-options.$enable-dropdown {
                .dropdown-menu {
                    // Make dropdown border overlap tab border
                    margin-top: -(settings.$nav-tabs-border-width);
                    // Remove the top rounded corners here since there is a hard edge above the menu
                    @include border.border-top-radius(0);
                }
            }
        }
    }


    // Pills
    @if settings-options.$enable-nav-pills {
        .nav-pills {
            flex-flow: row wrap;

            .nav-link {
                @include border.border-radius(settings.$nav-pills-border-radius);

                @include hover.hover-focus() {
                    color: settings.$nav-pills-hover-color;
                    background-color: settings.$nav-pills-hover-bg;
                }

                &.disabled,
                &:disabled {
                    color: settings.$nav-link-disabled-color;
                    background-color: transparent;
                    border-color: transparent;
                }

                &.active,
                &.open {
                    color: settings.$nav-pills-active-color;
                    background-color: settings.$nav-pills-active-bg;
                }
            }
        }
    }


    // Vertical navigation
    @if settings-options.$enable-nav-vertical {
        .nav-vertical {
            flex-direction: column;
        }
    }

    // Justified variants
    @if settings-options.$enable-nav-fill {
        .nav-fill {
            > .nav-link,
            .nav-item {
                flex: 1 1 auto;
                text-align: center;
            }
        }
    }

    @if settings-options.$enable-nav-justify {
        .nav-justify {
            > .nav-link,
            .nav-item {
                flex-basis: 0;
                flex-grow: 1;
                text-align: center;
            }
        }
    }

    // Make sure button will grow
    %nav-fill-justify-link-grow {
        .nav-item .nav-link {
            width: 100%;
        }
    }
    @if settings-options.$enable-nav-fill {
        .nav-fill {
            @extend %nav-fill-justify-link-grow;

        }
    }
    @if settings-options.$enable-nav-justify {
        .nav-justify {
            @extend %nav-fill-justify-link-grow;

        }
    }
}

// Tab content panes
// Hide tabbable panes to start, show them when `.active`
@if settings-options.$enable-tab-content {
    .tab-content {
        > .tab-pane {
            display: none;
        }
        > .active {
            display: block;
        }
    }
}
