addons:
  chrome: stable
  hosts:
    - lh

language: node_js

git:
    depth: 3

node_js:
    - "10"
    - "12"

before_install:
  - google-chrome-stable --product-version

install:
    - npm install

cache:
    directories:
        - node_modules

env:
    global:
        - NPM_CONFIG_PROGRESS="false"
    matrix:
        - TEST_SAUCE="false"

matrix:
    fast_finish: true
    exclude:
        - node_js: "12"
          env: TEST_SAUCE="false"
    include:
        - node_js: "12"
          env: TEST_SAUCE="true"
          addons:
            hostname: lh
            sauce_connect:
              tunnel_domains: lh
