<!DOCTYPE html>
<html lang="en-us">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">

<meta name="description" content="CAST Figuration - A feature rich, responsive, mobile first, accessible, front-end framework based on Bootstrap.">

<title>
  
    Affix &#124; CAST Figuration
  
</title>

<!-- Favicons -->
<link rel="apple-touch-icon" href="/figuration/apple-touch-icon.png">
<link rel="icon" href="/figuration/favicon.ico">

<!-- Core CSS -->

  <link href="/figuration/dist/css/figuration.min.css" rel="stylesheet">


<!-- Docs CSS -->

  <link href="/figuration/assets/css/docs.min.css" rel="stylesheet">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/figuration/assets/js/vendor/jquery.min.js"><\/script>')</script>

<!-- Core JS -->

  <script src="/figuration/dist/js/figuration.min.js"></script>


<!-- Docs JS -->

  <script src="/figuration/assets/js/docs.min.js"></script>


<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="/figuration/assets/js/ie10-viewport-bug-workaround.js"></script>
<script src="/figuration/assets/js/ie-emulation-modes-warning.js"></script>
</head>
<body>
    <a class="skipnav" href="#content">Skip to main content</a>

    <header class="navbar navbar-full navbar-dark cf-header">
    <div class="container">
        <nav>
            <a class="navbar-brand" href="/figuration/">CAST Figuration</a>
            <div class="clearfix hidden-md-up">
                <button class="navbar-toggler btn btn-toggler pull-xs-right" type="button" data-cfw="collapse" data-cfw-collapse-toggle="#cf-topnav" data-cfw-collapse-hidden="false" aria-label="Toggle navigation">
                    <span aria-hidden="true">&#9776;</span>
                </button>
            </div>
            <div class="collapse navbar-toggleable-sm" id="cf-topnav">
                <ul class="nav navbar-nav">
                    <li class="nav-item ">
                        <a href="/figuration/get-started/quick-start/" class="nav-link">Get Started</a>
                    </li>
                    <li class="nav-item ">
                        <a href="/figuration/layout/overview/" class="nav-link">Layout</a>
                    </li>
                    <li class="nav-item ">
                        <a href="/figuration/content/reboot/" class="nav-link">Content</a>
                    </li>
                    <li class="nav-item ">
                        <a href="/figuration/components/alerts/" class="nav-link">Components</a>
                    </li>
                    <li class="nav-item active">
                        <a href="/figuration/widgets/overview" class="nav-link">Widgets</a>
                    </li>
                    <li class="nav-item ">
                        <a href="/figuration/about/overview" class="nav-link">About</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div> <!-- /.container -->
</header>

    <div class="jumbotron jumbotron-full jumbotron-docs">
        <div class="container">
            
    <h1>Widgets</h1>
    <p class="lead">
        Bring interactivity to your site with a selection of jQuery widgets (plugins) all built with accessibility and usability in mind.
    </p>


        </div>
    </div>

    <main class="container">
        <div class="row">
            <div class="col-xs-12 col-md-3 cf-sidebar">
                <nav class="cf-links">

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

    <div class="h4">Widgets</div>
    <ul class="nav">
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/overview" class="nav-link ">
            Overview
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/accordion" class="nav-link ">
            Accordion
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/affix" class="nav-link active">
            Affix
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/alert" class="nav-link ">
            Alert
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/button" class="nav-link ">
            Button
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/collapse" class="nav-link ">
            Collapse
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/drag" class="nav-link ">
            Drag
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/dropdown" class="nav-link ">
            Dropdown
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/equalize" class="nav-link ">
            Equalize
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/lazy" class="nav-link ">
            Lazy
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/modal" class="nav-link ">
            Modal
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/player" class="nav-link ">
            Player
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/popover" class="nav-link ">
            Popover
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/scrollspy" class="nav-link ">
            Scrollspy
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/slider" class="nav-link ">
            Slider
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/slideshow" class="nav-link ">
            Slideshow
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/tab" class="nav-link ">
            Tab
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/tab-responsive" class="nav-link ">
            Tab-Responsive
          </a>
        </li>
      
        
        

        
        

        <li class="nav-item">
          <a href="/figuration/widgets/tooltip" class="nav-link ">
            Tooltip
          </a>
        </li>
      
    </ul>
    

  
  

  

</nav>

            </div>
            <div class="col-xs-12 col-md-9 cf-content">
                <h1 class="cf-title" id="content">
                    Affix
                    
                        <small>affix.js</small>
                    
                </h1>

                <p>Affix is used to handle the positioning of components based on the scroll position of the window with top and bottom boundaries.</p>

<h2 class="no_toc" id="contents">Contents</h2>

<ul id="markdown-toc">
  <li><a href="#example" id="markdown-toc-example">Example</a></li>
  <li><a href="#usage" id="markdown-toc-usage">Usage</a>    <ul>
      <li><a href="#positioning-via-css" id="markdown-toc-positioning-via-css">Positioning via CSS</a></li>
      <li><a href="#via-data-attributes" id="markdown-toc-via-data-attributes">Via Data Attributes</a></li>
      <li><a href="#via-javascript" id="markdown-toc-via-javascript">Via JavaScript</a></li>
      <li><a href="#options" id="markdown-toc-options">Options</a></li>
      <li><a href="#methods" id="markdown-toc-methods">Methods</a></li>
      <li><a href="#events" id="markdown-toc-events">Events</a></li>
    </ul>
  </li>
</ul>

<h2 id="example">Example</h2>
<p>The ‘floating’ of the ‘top of page’ link at the bottom of the screen, is a live demo of the widget.</p>

<h2 id="usage">Usage</h2>

<p>Use the affix widget via data attributes or manually with your own JavaScript. <strong class="text-danger">In both situations, you must provide CSS for the positioning of your content.</strong></p>

<h3 id="positioning-via-css">Positioning via CSS</h3>

<p>The affix widget toggles between three classes, each representing a particular state: <code class="highlighter-rouge">.affix</code>, <code class="highlighter-rouge">.affix-top</code>, and <code class="highlighter-rouge">.affix-bottom</code>. You must provide the styles for these classes yourself (independent of this widget) to handle the actual positions.</p>

<p>Here’s how the affix widget works:</p>

<ul>
  <li>To start, the widget adds <code class="highlighter-rouge">.affix-top</code> to indicate the element is in its top-most position. At this point no CSS positioning is required.</li>
  <li>Scrolling past the element you want affixed should trigger the actual affixing. This is where <code class="highlighter-rouge">.affix</code> replaces <code class="highlighter-rouge">.affix-top</code> and sets <code class="highlighter-rouge">position: fixed;</code> (provided by Bootstrap’s CSS).</li>
  <li>If a bottom offset is defined, scrolling past it should replace <code class="highlighter-rouge">.affix</code> with <code class="highlighter-rouge">.affix-bottom</code>. Since offsets are optional, setting one requires you to set the appropriate CSS. In this case, add <code class="highlighter-rouge">position: absolute;</code> when necessary. The widget uses the data attribute or JavaScript option to determine where to position the element from there.</li>
</ul>

<p>Follow the above steps to set your CSS for either of the usage options below.</p>

<h3 id="via-data-attributes">Via Data Attributes</h3>

<p>To easily add affix behavior to any element, just add <code class="highlighter-rouge">data-cfw="affix"</code> to the element you want to spy on. Use offsets to define when to toggle the pinning of an element.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">data-cfw=</span><span class="s">"affix"</span> <span class="na">data-cfw-affix-offset-top=</span><span class="s">"60"</span> <span class="na">data-cfw-affix-offset-bottom=</span><span class="s">"200"</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/div&gt;</span></code></pre></figure>

<h3 id="via-javascript">Via JavaScript</h3>

<p>Call the affix widget via JavaScript:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'#myAffix'</span><span class="p">).</span><span class="nx">CFW_Affix</span><span class="p">({</span>
    <span class="na">offset</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">top</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="na">bottom</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bottom</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.footer'</span><span class="p">).</span><span class="nx">outerHeight</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<h3 id="options">Options</h3>

<p>Options can be passed via data attributes or JavaScript. For data attributes, append the option name to <code class="highlighter-rouge">data-cfw-affix-</code>, as in <code class="highlighter-rouge">data-cfw-affix-offset-top="200"</code>.</p>

<div class="table-responsive">
    <table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th style="width: 100px;">Name</th>
            <th style="width: 100px;">type</th>
            <th style="width: 50px;">default</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>offset</td>
            <td>number | function | object</td>
            <td>0</td>
            <td>Pixels to offset from screen when calculating position of scroll. If a single number is provided, the offset will be applied in both top and bottom directions. To provide a unique, bottom and top offset just provide an object <code>offset: { top: 10 }</code> or <code>offset: { top: 10, bottom: 5 }</code>. Use a function when you need to dynamically calculate an offset.</td>
        </tr>
        <tr>
            <td>target</td>
            <td>selector | node | jQuery element</td>
            <td>the `window` object</td>
            <td>Specifies the target element of the affix.</td>
        </tr>
    </tbody>
    </table>
</div>
<p><!-- /.table-responsive --></p>

<h3 id="methods">Methods</h3>

<h4 class="no_toc" id="cfwaffixoptions"><code class="highlighter-rouge">.CFW_Affix(options)</code></h4>

<p>Activates an element to be affixed. Accepts an optional options object.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'#myAffix'</span><span class="p">).</span><span class="nx">CFW_Affix</span><span class="p">({</span>
    <span class="na">offset</span><span class="p">:</span> <span class="p">{</span><span class="na">top</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<h4 class="no_toc" id="cfwaffixcheckposition"><code class="highlighter-rouge">.CFW_Affix('checkPosition')</code></h4>

<p>Recalculates the state of the affix based on the dimensions, position, and scroll position of the relevant elements. The <code class="highlighter-rouge">.affix</code>, <code class="highlighter-rouge">.affix-top</code>, and <code class="highlighter-rouge">.affix-bottom</code> classes are added to or removed from the affixed content according to the new state. This method needs to be called whenever the dimensions of the affixed content or the target element are changed, to ensure correct positioning of the affixed content.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'#myAffix'</span><span class="p">).</span><span class="nx">CFW_Affix</span><span class="p">(</span><span class="s1">'checkPosition'</span><span class="p">);</span></code></pre></figure>

<h3 id="events">Events</h3>

<p>CFW’s affix widget exposes a few events for hooking into affix functionality.</p>

<div class="table-responsive">
    <table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th style="width: 150px;">Event Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>init.cfw.affix</td>
            <td>This event is fired after the affix element has been initialized.</td>
        </tr>
        <tr>
            <td>affix.cfw.affix</td>
            <td>This event is immediately before after the element is affixed.</td>
        </tr>
        <tr>
            <td>affixed.cfw.affix</td>
            <td>This event is after after the element has been affixed.</td>
        </tr>
        <tr>
            <td>affix-top.cfw.affix</td>
            <td>This event is fired immediately before the element is affixed-top.</td>
        </tr>
        <tr>
            <td>affixed-top.cfw.affix</td>
            <td>This event is fired after the element has been affixed-top.</td>
        </tr>
        <tr>
            <td>affix-bottom.cfw.affix</td>
            <td>This event is immediately before after the element is affixed-bottom.</td>
        </tr>
        <tr>
            <td>affixed-bottom.cfw.affix</td>
            <td>This event is fired after the element has been affixed-bottom.</td>
        </tr>
    </tbody>
    </table>
</div>
<p><!-- /.table-responsive --></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'#myAffix'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'affix.cfw.affix'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// do something...</span>
<span class="p">});</span></code></pre></figure>

            </div>
        </div>

        <div class="topLink">
            <a href="#content">Top of Page <span class="caret"></span></a>
        </div>
    </main>

    <footer class="cf-footer">
    <div class="container">
        <p>Currently version: 0.1.0</p>
        <p>
            &copy; 2013-2016 <a href="http://www.cast.org">CAST, Inc.</a>
            <br />
            Portions: &copy; 2011-2016 the Bootstrap Authors and Twitter, Inc. Licensed under <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE">the MIT license</a> or <a href="https://github.com/twbs/bootstrap/blob/master/docs/LICENSE">CC BY 3.0</a>.
        <p>
            Code licensed <a rel="license" href="https://github.com/cast-org/figuration/blob/master/LICENSE">MIT</a>,
            docs <a rel="license" href="https://github.com/cast-org/figuration/blob/master/docs/LICENSE">CC BY 4.0</a>.
        </p>

        <hr />

        <strong>Funding generously provided by:</strong>
        <div class="media footer-partners">
            <div class="media-left">
                <img src="/figuration/assets/img/aem-logo.png" class="media-object" width="40" height="40" alt="AEM logo" />
            </div>
            <div class="media-body">
                <span class="h6 partner-title"><a href="http://aem.cast.org">National Center on Accessible Educational Materials at CAST, Inc.</a></span><br />
                <small>Disclaimer: This does not necessarily represent endorsement by or the policies of the National Center on Accessible Educational Materials, the US Department of Education, and the US Federal Government.</small>
            </div>
        </div>

    </div>
</footer>

</body>
</html>
